var g1=Object.create;var na=Object.defineProperty;var y1=Object.getOwnPropertyDescriptor;var b1=Object.getOwnPropertyNames;var E1=Object.getPrototypeOf,w1=Object.prototype.hasOwnProperty;var Qd=r=>na(r,"__esModule",{value:!0});var b=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),_1=(r,e)=>{Qd(r);for(var t in e)na(r,t,{get:e[t],enumerable:!0})},S1=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of b1(e))!w1.call(r,n)&&n!=="default"&&na(r,n,{get:()=>e[n],enumerable:!(t=y1(e,n))||t.enumerable});return r},Yd=r=>S1(Qd(na(r!=null?g1(E1(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Zd=b((tV,Xd)=>{"use strict";function P1(r){var e=new r,t=e;function n(){var i=e;return i.next?e=i.next:(e=new r,t=e),i.next=null,i}function s(i){t.next=i,t=i}return{get:n,release:s}}Xd.exports=P1});var kl=b((sV,jl)=>{"use strict";var R1=Zd();function ep(r,e,t){if(typeof r=="function"&&(t=e,e=r,r=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var n=R1($1),s=null,i=null,a=0,o=null,c={push:m,drain:Ar,saturated:Ar,pause:u,paused:!1,concurrency:t,running:f,resume:l,idle:v,length:h,getQueue:d,unshift:p,empty:Ar,kill:w,killAndDrain:R,error:_};return c;function f(){return a}function u(){c.paused=!0}function h(){for(var y=s,O=0;y;)y=y.next,O++;return O}function d(){for(var y=s,O=[];y;)O.push(y.value),y=y.next;return O}function l(){if(!!c.paused){c.paused=!1;for(var y=0;y<c.concurrency;y++)a++,g()}}function v(){return a===0&&c.length()===0}function m(y,O){var $=n.get();$.context=r,$.release=g,$.value=y,$.callback=O||Ar,$.errorHandler=o,a===c.concurrency||c.paused?i?(i.next=$,i=$):(s=$,i=$,c.saturated()):(a++,e.call(r,$.value,$.worked))}function p(y,O){var $=n.get();$.context=r,$.release=g,$.value=y,$.callback=O||Ar,a===c.concurrency||c.paused?s?($.next=s,s=$):(s=$,i=$,c.saturated()):(a++,e.call(r,$.value,$.worked))}function g(y){y&&n.release(y);var O=s;O?c.paused?a--:(i===s&&(i=null),s=O.next,O.next=null,e.call(r,O.value,O.worked),i===null&&c.empty()):--a==0&&c.drain()}function w(){s=null,i=null,c.drain=Ar}function R(){s=null,i=null,c.drain(),c.drain=Ar}function _(y){o=y}}function Ar(){}function $1(){this.value=null,this.callback=Ar,this.next=null,this.release=Ar,this.context=null,this.errorHandler=null;var r=this;this.worked=function(t,n){var s=r.callback,i=r.errorHandler,a=r.value;r.value=null,r.callback=Ar,r.errorHandler&&i(t,a),s.call(r.context,t,n),r.release(r)}}function O1(r,e,t){typeof r=="function"&&(t=e,e=r,r=null);function n(u,h){e.call(this,u).then(function(d){h(null,d)},h)}var s=ep(r,n,t),i=s.push,a=s.unshift;return s.push=o,s.unshift=c,s.drained=f,s;function o(u){var h=new Promise(function(d,l){i(u,function(v,m){if(v){l(v);return}d(m)})});return h.catch(Ar),h}function c(u){var h=new Promise(function(d,l){a(u,function(v,m){if(v){l(v);return}d(m)})});return h.catch(Ar),h}function f(){var u=s.drain,h=new Promise(function(d){s.drain=function(){u(),d()}});return h}}jl.exports=ep;jl.exports.promise=O1});var tp=b((nV,rp)=>{rp.exports=function r(e,t,n){t===void 0&&(t=""),n||(n={});var s=function(c){var f={"\u2502":"|","\u2514":"`","\u251C":"+","\u2500":"-","\u252C":"-"};return n.unicode===!1?f[c]:c};typeof e=="string"&&(e={label:e});var i=e.nodes||[],a=(e.label||"").split(`
`),o=`
`+t+(i.length?s("\u2502"):" ")+" ";return t+a.join(o)+`
`+i.map(function(c,f){var u=f===i.length-1,h=c.nodes&&c.nodes.length,d=t+(u?" ":s("\u2502"))+" ";return t+s(u?"\u2514":"\u251C")+s("\u2500")+s(h?"\u252C":"\u2500")+" "+r(c,d,n).slice(t.length+2)}).join("")}});var np=b((iV,sp)=>{"use strict";var T1=tp();function nt(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}nt.prototype.trackNode=function(r){this.tableId.set(r.id,r),this.tableLabel.has(r.label)?this.tableLabel.get(r.label).push(r):this.tableLabel.set(r.label,[r])};nt.prototype.untrackNode=function(r){this.tableId.delete(r.id);let e=this.tableLabel.get(r.label);if(e.id){this.tableLabel.delete(r.label);return}e.pop(),e.length===0&&this.tableLabel.delete(r.label)};nt.prototype.getParent=function(r){if(r===null)return this.root;let e=this.tableLabel.get(r);return e.id?e:e[e.length-1]};nt.prototype.getNode=function(r){return this.tableId.get(r)};nt.prototype.add=function(r,e,t){if(r===null)return this.root={id:"root",label:e,start:t,nodes:[]},this.trackNode(this.root),this.root.id;let s=this.getParent(r),i=`${e}-${Math.random()}`,a={id:i,parent:r,start:t,label:e,nodes:[]};return s.nodes.push(a),this.trackNode(a),i};nt.prototype.start=function(r,e,t){return this.add(r,e,t||Date.now())};nt.prototype.stop=function(r,e){let t=this.getNode(r);t&&(t.stop=e||Date.now(),t.diff=t.stop-t.start||0,this.untrackNode(t))};nt.prototype.toJSON=function(){return Object.assign({},this.root)};nt.prototype.prittyPrint=function(){let r=t=>(t.label=`${t.label} ${t.diff} ms`,t.nodes.length>0&&(t.nodes=t.nodes.map(n=>r(n))),t),e=r(this.toJSON());return T1(e)};sp.exports=nt});var op=b((aV,ap)=>{var ip;ap.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):r=>(ip||(ip=Promise.resolve())).then(r).catch(e=>setTimeout(()=>{throw e},0))});var up=b((oV,lp)=>{var Ms=1e3,Hs=Ms*60,Us=Hs*60,rs=Us*24,I1=rs*7,C1=rs*365.25;lp.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return q1(r);if(t==="number"&&isFinite(r))return e.long?N1(r):A1(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function q1(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*C1;case"weeks":case"week":case"w":return t*I1;case"days":case"day":case"d":return t*rs;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Us;case"minutes":case"minute":case"mins":case"min":case"m":return t*Hs;case"seconds":case"second":case"secs":case"sec":case"s":return t*Ms;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function A1(r){var e=Math.abs(r);return e>=rs?Math.round(r/rs)+"d":e>=Us?Math.round(r/Us)+"h":e>=Hs?Math.round(r/Hs)+"m":e>=Ms?Math.round(r/Ms)+"s":r+"ms"}function N1(r){var e=Math.abs(r);return e>=rs?ia(r,e,rs,"day"):e>=Us?ia(r,e,Us,"hour"):e>=Hs?ia(r,e,Hs,"minute"):e>=Ms?ia(r,e,Ms,"second"):r+" ms"}function ia(r,e,t,n){var s=e>=t*1.5;return Math.round(r/t)+" "+n+(s?"s":"")}});var Dl=b((lV,cp)=>{function x1(r){t.debug=t,t.default=t,t.coerce=c,t.disable=i,t.enable=s,t.enabled=a,t.humanize=up(),t.destroy=f,Object.keys(r).forEach(u=>{t[u]=r[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let h=0;for(let d=0;d<u.length;d++)h=(h<<5)-h+u.charCodeAt(d),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=e;function t(u){let h,d=null,l,v;function m(...p){if(!m.enabled)return;let g=m,w=Number(new Date),R=w-(h||w);g.diff=R,g.prev=h,g.curr=w,h=w,p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let _=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(O,$)=>{if(O==="%%")return"%";_++;let D=t.formatters[$];if(typeof D=="function"){let C=p[_];O=D.call(g,C),p.splice(_,1),_--}return O}),t.formatArgs.call(g,p),(g.log||t.log).apply(g,p)}return m.namespace=u,m.useColors=t.useColors(),m.color=t.selectColor(u),m.extend=n,m.destroy=t.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(l!==t.namespaces&&(l=t.namespaces,v=t.enabled(u)),v),set:p=>{d=p}}),typeof t.init=="function"&&t.init(m),m}function n(u,h){let d=t(this.namespace+(typeof h=="undefined"?":":h)+u);return d.log=this.log,d}function s(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let h,d=(typeof u=="string"?u:"").split(/[\s,]+/),l=d.length;for(h=0;h<l;h++)!d[h]||(u=d[h].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function i(){let u=[...t.names.map(o),...t.skips.map(o).map(h=>"-"+h)].join(",");return t.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let h,d;for(h=0,d=t.skips.length;h<d;h++)if(t.skips[h].test(u))return!1;for(h=0,d=t.names.length;h<d;h++)if(t.names[h].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}cp.exports=x1});var fp=b((Rr,aa)=>{Rr.formatArgs=k1;Rr.save=D1;Rr.load=F1;Rr.useColors=j1;Rr.storage=L1();Rr.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Rr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function j1(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function k1(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+aa.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(n=t))}),r.splice(n,0,e)}Rr.log=console.debug||console.log||(()=>{});function D1(r){try{r?Rr.storage.setItem("debug",r):Rr.storage.removeItem("debug")}catch{}}function F1(){let r;try{r=Rr.storage.getItem("debug")}catch{}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r}function L1(){try{return localStorage}catch{}}aa.exports=Dl()(Rr);var{formatters:M1}=aa.exports;M1.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var dp=b((uV,hp)=>{"use strict";hp.exports=(r,e=process.argv)=>{let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),s=e.indexOf("--");return n!==-1&&(s===-1||n<s)}});var vp=b((cV,mp)=>{"use strict";var H1=require("os"),pp=require("tty"),Nr=dp(),{env:ze}=process,oa;Nr("no-color")||Nr("no-colors")||Nr("color=false")||Nr("color=never")?oa=0:(Nr("color")||Nr("colors")||Nr("color=true")||Nr("color=always"))&&(oa=1);function U1(){if("FORCE_COLOR"in ze)return ze.FORCE_COLOR==="true"?1:ze.FORCE_COLOR==="false"?0:ze.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(ze.FORCE_COLOR,10),3)}function V1(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function z1(r,{streamIsTTY:e,sniffFlags:t=!0}={}){let n=U1();n!==void 0&&(oa=n);let s=t?oa:n;if(s===0)return 0;if(t){if(Nr("color=16m")||Nr("color=full")||Nr("color=truecolor"))return 3;if(Nr("color=256"))return 2}if(r&&!e&&s===void 0)return 0;let i=s||0;if(ze.TERM==="dumb")return i;if(process.platform==="win32"){let a=H1.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in ze)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(a=>a in ze)||ze.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in ze)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ze.TEAMCITY_VERSION)?1:0;if(ze.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ze){let a=Number.parseInt((ze.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ze.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ze.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ze.TERM)||"COLORTERM"in ze?1:i}function Fl(r,e={}){let t=z1(r,{streamIsTTY:r&&r.isTTY,...e});return V1(t)}mp.exports={supportsColor:Fl,stdout:Fl({isTTY:pp.isatty(1)}),stderr:Fl({isTTY:pp.isatty(2)})}});var yp=b((Qe,ua)=>{var B1=require("tty"),la=require("util");Qe.init=X1;Qe.log=W1;Qe.formatArgs=K1;Qe.save=Q1;Qe.load=Y1;Qe.useColors=G1;Qe.destroy=la.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Qe.colors=[6,2,3,4,5,1];try{let r=vp();r&&(r.stderr||r).level>=2&&(Qe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Qe.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function G1(){return"colors"in Qe.inspectOpts?Boolean(Qe.inspectOpts.colors):B1.isatty(process.stderr.fd)}function K1(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,s="[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${e} [0m`;r[0]=i+r[0].split(`
`).join(`
`+i),r.push(s+"m+"+ua.exports.humanize(this.diff)+"[0m")}else r[0]=J1()+e+" "+r[0]}function J1(){return Qe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function W1(...r){return process.stderr.write(la.format(...r)+`
`)}function Q1(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Y1(){return process.env.DEBUG}function X1(r){r.inspectOpts={};let e=Object.keys(Qe.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=Qe.inspectOpts[e[t]]}ua.exports=Dl()(Qe);var{formatters:gp}=ua.exports;gp.o=function(r){return this.inspectOpts.colors=this.useColors,la.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};gp.O=function(r){return this.inspectOpts.colors=this.useColors,la.inspect(r,this.inspectOpts)}});var ca=b((fV,Ll)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ll.exports=fp():Ll.exports=yp()});var Ep=b((hV,Ul)=>{"use strict";var Ml=op(),Z1=kl(),eO=require("events").EventEmitter,rO=require("util").inherits,Be=ca()("avvio"),bp="ERR_AVVIO_PLUGIN_TIMEOUT";function tO(r){let e=require.cache,t=Object.keys(e);for(var n=0;n<t.length;n++)if(e[t[n]].exports===r)return t[n];return r.name?r.name:r.toString().split(`
`).slice(0,2).map(s=>s.trim()).join(" -- ")}function sO(){let r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r}function Vs(r,e,t,n,s){this.started=!1,this.func=e,this.opts=t,this.onFinish=null,this.parent=r,this.timeout=s===void 0?r._timeout:s,this.name=tO(e),this.isAfter=n,this.q=Z1(r,Hl,1),this.q.pause(),this._error=null,this.loaded=!1,this._promise=null}rO(Vs,eO);Vs.prototype.exec=function(r,e){let t=this.func,n=!1,s=this.name;if(this.parent._error&&!this.isAfter){Be("skipping loading of plugin as parent errored and it is not an after",s),process.nextTick(e);return}if(this.isAfter)this.server=r;else try{this.server=this.parent.override(r,t,this.opts)}catch(c){return Be("override errored",s),e(c)}this.opts=typeof this.opts=="function"?this.opts(this.server):this.opts,Be("exec",s);let i,a=c=>{if(n){Be("loading complete",s);return}this._error=c,Be(c?"exec errored":"exec completed",s),n=!0,i&&clearTimeout(i),e(c)};this.timeout>0&&(Be("setting up timeout",s,this.timeout),i=setTimeout(function(){Be("timed out",s),i=null;let c=new Error(`${bp}: plugin did not start in time: ${s}. You may have forgotten to call 'done' function or to resolve a Promise`);c.code=bp,c.fn=t,a(c)},this.timeout)),this.started=!0,this.emit("start",this.server?this.server.name:null,this.name,Date.now());let o=t(this.server,this.opts,a);o&&typeof o.then=="function"&&(Be("exec: resolving promise",s),o.then(()=>process.nextTick(a),c=>process.nextTick(a,c)))};Vs.prototype.loadedSoFar=function(){if(this.loaded)return Promise.resolve();let r=()=>{this.server.after((t,n)=>{this._error=t,this.q.pause(),t?(Be("rejecting promise",this.name,t),this._promise.reject(t)):(Be("resolving promise",this.name),this._promise.resolve()),this._promise=null,process.nextTick(n,t)}),this.q.resume()},e;return this._promise?e=Promise.resolve():(this._promise=sO(),e=this._promise.promise,this.server?r():this.on("start",r)),e};Vs.prototype.enqueue=function(r,e){Be("enqueue",this.name,r.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.q.push(r,e)};Vs.prototype.finish=function(r,e){Be("finish",this.name,r);let t=()=>{this.loaded||(Be("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,e(r))};if(r){this._promise&&(this._promise.reject(r),this._promise=null),t();return}let n=()=>{if(Be("check",this.name,this.q.length(),this.q.running(),this._promise),this.q.length()===0&&this.q.running()===0)if(this._promise){let s=()=>{Be("wrap"),Ml(n)};this._promise.resolve(),this._promise.promise.then(s,s),this._promise=null}else t();else Be("delayed",this.name),this.q.drain=()=>{Be("drain",this.name),this.q.drain=nO,Ml(n)}};Ml(n),this.q.resume()};function Hl(r,e){if(typeof r.func.then=="function"){r.func.then(n=>{typeof n.default=="function"&&(n=n.default),r.func=n,Hl.call(this,r,e)},e);return}let t=this._current[0];this._current.unshift(r),r.exec(t&&t.server||this._server,n=>{r.finish(n,s=>{this._current.shift(),e(s)})})}function nO(){}Ul.exports=Vs;Ul.exports.loadPlugin=Hl});var Rp=b((dV,Gl)=>{"use strict";var wp=kl(),iO=require("events").EventEmitter,aO=require("util").inherits,oO=np(),Vl=Ep(),zs=ca()("avvio"),fa=Symbol("kAvvio"),zl=Symbol("kThenifyDoNotWrap");function lO(r,e,t){let n=e.expose||{},s=n.use||"use",i=n.after||"after",a=n.ready||"ready",o=n.onClose||"onClose",c=n.close||"close";if(r[s])throw new Error(s+"() is already defined, specify an expose option");if(r[i])throw new Error(i+"() is already defined, specify an expose option");if(r[a])throw new Error(a+"() is already defined, specify an expose option");r[s]=function(f,u){return t.use(f,u),this},Object.defineProperty(r,"then",{get:Sp.bind(t)}),r[fa]=!0,r[i]=function(f){return typeof f!="function"?t._loadRegistered():(t.after(Bl(f,this)),this)},r[a]=function(f){if(f&&typeof f!="function")throw new Error("not a function");return t.ready(f?Bl(f,this):void 0)},r[o]=function(f){if(typeof f!="function")throw new Error("not a function");return t.onClose(dO(f,this)),this},r[c]=function(f){if(f&&typeof f!="function")throw new Error("not a function");return f?(t.close(Bl(f,this)),this):t.close()}}function Ge(r,e,t){if(typeof r=="function"&&arguments.length===1&&(t=r,e={},r=null),typeof e=="function"&&(t=e,e={}),e=e||{},!(this instanceof Ge)){let n=new Ge(r,e,t);return r&&lO(r,e,n),n}e.autostart!==!1&&(e.autostart=!0),r=r||this,this._timeout=Number(e.timeout)||0,this._server=r,this._current=[],this._error=null,this._isOnCloseHandlerKey=Symbol("isOnCloseHandler"),this._lastUsed=null,this.setMaxListeners(0),t&&this.once("start",t),this.started=!1,this.booted=!1,this.pluginTree=new oO,this._readyQ=wp(this,Pp,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=_p},this._closeQ=wp(this,hO,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=_p},this._doStart=null,this._root=new Vl(this,uO.bind(this),e,!1,0),this._root.once("start",(n,s,i)=>{let a=this.pluginTree.start(null,s,i);this._root.once("loaded",(o,c,f)=>{this.pluginTree.stop(a,f)})}),Vl.loadPlugin.call(this,this._root,n=>{zs("root plugin ready");try{this.emit("preReady"),this._root=null}catch(s){n=n||this._error||s}if(n){if(this._error=n,this._readyQ.length()===0)throw n}else this.booted=!0;this._readyQ.resume()})}function uO(r,e,t){this._doStart=t,e.autostart&&this.start()}aO(Ge,iO);Ge.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};Ge.prototype.override=function(r,e,t){return r};function cO(r){if(r&&typeof r=="object"&&typeof r.default=="function"&&(r=r.default),!(r&&(typeof r=="function"||typeof r.then=="function")))throw new Error("plugin must be a function or a promise");return r}Ge.prototype[fa]=!0;Ge.prototype.use=function(r,e){return this._lastUsed=this._addPlugin(r,e,!1),this};Ge.prototype._loadRegistered=function(){let r=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.q.resume()),r?r.loadedSoFar():Promise.resolve()};Object.defineProperty(Ge.prototype,"then",{get:Sp});Ge.prototype._addPlugin=function(r,e,t){if(r=cO(r),e=e||{},this.booted)throw new Error("root plugin has already booted");let n=this._current[0],s=new Vl(this,r,e,t);if(s.once("start",(i,a,o)=>{let c=this.pluginTree.start(n.name,a,o);s.once("loaded",(f,u,h)=>{this.pluginTree.stop(c,h)})}),n.loaded)throw new Error(`Impossible to load "${s.name}" plugin because the parent "${n.name}" was already loaded`);return n.enqueue(s,i=>{i&&(this._error=i)}),s};Ge.prototype.after=function(r){if(!r)return this._loadRegistered();this._addPlugin(e.bind(this),{},!0);function e(t,n,s){Pp.call(this,r,s)}return this};Ge.prototype.onClose=function(r){if(typeof r!="function")throw new Error("not a function");r[this._isOnCloseHandlerKey]=!0,this._closeQ.unshift(r,e.bind(this));function e(t){t&&(this._error=t)}return this};Ge.prototype.close=function(r){let e;if(r){if(typeof r!="function")throw new Error("not a function")}else e=new Promise(function(t,n){r=function(s){if(s)return n(s);t()}});return this.ready(()=>{this._error=null,this._closeQ.push(r),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),e};Ge.prototype.ready=function(r){if(r){if(typeof r!="function")throw new Error("not a function");this._readyQ.push(r),this.start();return}return new Promise((e,t)=>{this._readyQ.push(s),this.start();let n=this._current[0].server;function s(i,a,o){i?t(i):e(n),process.nextTick(o)}})};Ge.prototype.prettyPrint=function(){return this.pluginTree.prittyPrint()};Ge.prototype.toJSON=function(){return this.pluginTree.toJSON()};function _p(){}function Sp(){if(this.booted){zs("thenify returning null because we are already booted");return}if(this[zl]){this[zl]=!1;return}return zs("thenify"),(r,e)=>this._loadRegistered().then(()=>(this[zl]=!0,r(this._server)),e)}function Pp(r,e,t){t=this._server;let n=this._error,s;this._error=null,r.length===0?(this._error=n,s=r(),s&&!s[fa]&&typeof s.then=="function"?s.then(()=>process.nextTick(e),i=>process.nextTick(e,i)):process.nextTick(e)):r.length===1?(s=r(n),s&&!s[fa]&&typeof s.then=="function"?s.then(()=>process.nextTick(e),i=>process.nextTick(e,i)):process.nextTick(e)):this._timeout===0?r.length===2?r(n,e):r(n,t,e):fO.call(this,r,n,t,e)}function fO(r,e,t,n){let s=r.name;zs("setting up ready timeout",s,this._timeout);let i=setTimeout(()=>{zs("timed out",s),i=null;let o=new Error(`ERR_AVVIO_READY_TIMEOUT: plugin did not start in time: ${s}. You may have forgotten to call 'done' function or to resolve a Promise`);o.code="ERR_AVVIO_READY_TIMEOUT",o.fn=r,this._error=o,n(o)},this._timeout);r.length===2?r(e,a.bind(this)):r(e,t,a.bind(this));function a(o){i&&(clearTimeout(i),this._error=o,n(this._error))}}function hO(r,e,t){t=this._server;let n=r[this._isOnCloseHandlerKey];if(r.length===0||r.length===1){let s;n?s=r(t):s=r(this._error),s&&typeof s.then=="function"?(zs("resolving close/onClose promise"),s.then(()=>process.nextTick(e),i=>process.nextTick(e,i))):process.nextTick(e)}else r.length===2?r(n?t:this._error,e):n?r(t,e):r(this._error,t,e)}function dO(r,e){return t.bind(e);function t(n,s){let i;r.length===0?(i=r(),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):r.length===1?(i=r(this),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):r(this,s)}}function Bl(r,e){return t.bind(e);function t(n,s){let i;r?r.length===0?(i=r(),i&&i.then?i.then(function(){process.nextTick(s,n)},s):process.nextTick(s,n)):r.length===1?(i=r(n),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):r.length===2?r(n,s):r(n,this,s):process.nextTick(s)}}Gl.exports=Ge;Gl.exports.express=function(r){return Ge(r,{expose:{use:"load"}})}});var nr=b((pV,$p)=>{"use strict";var pO={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kBodyLimit:Symbol("fastify.bodyLimit"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kHooksDeprecatedPreParsing:Symbol("fastify.hooks.DeprecatedPreParsing"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kReply:Symbol("fastify.Reply"),kRequest:Symbol("fastify.Request"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFour:Symbol("fastify.404"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplySent:Symbol("fastify.reply.sent"),kReplySentOverwritten:Symbol("fastify.reply.sentOverwritten"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyEndTime:Symbol("fastify.reply.endTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kSchemaVisited:Symbol("fastify.schemas.visited"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler")};$p.exports=pO});var Tp=b((mV,Op)=>{"use strict";var{inherits:mO,format:Kl}=require("util");function vO(r,e,t=500,n=Error){if(!r)throw new Error("Fastify error code must not be empty");if(!e)throw new Error("Fastify error message must not be empty");r=r.toUpperCase();function s(i,a,o){if(!(this instanceof s))return new s(i,a,o);Error.captureStackTrace(this,s),this.name="FastifyError",this.code=r,i&&a&&o?this.message=Kl(e,i,a,o):i&&a?this.message=Kl(e,i,a):i?this.message=Kl(e,i):this.message=e,this.statusCode=t||void 0}return s.prototype[Symbol.toStringTag]="Error",s.prototype.toString=function(){return`${this.name} [${this.code}]: ${this.message}`},mO(s,n),s}Op.exports=vO});var $r=b((vV,Ip)=>{"use strict";var le=Tp(),gO={FST_ERR_NOT_FOUND:le("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_CTP_ALREADY_PRESENT:le("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:le("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:le("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:le("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:le("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:le("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:le("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:le("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:le("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_DEC_ALREADY_PRESENT:le("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:le("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array."),FST_ERR_DEC_MISSING_DEPENDENCY:le("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:le("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_HOOK_INVALID_TYPE:le("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:le("FST_ERR_HOOK_INVALID_HANDLER","The hook callback must be a function",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:le("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.io/docs/latest/Middleware/ for more info.",500),FST_ERR_LOG_INVALID_DESTINATION:le("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_REP_INVALID_PAYLOAD_TYPE:le("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_ALREADY_SENT:le("FST_ERR_REP_ALREADY_SENT","Reply was already sent."),FST_ERR_REP_SENT_VALUE:le("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true."),FST_ERR_SEND_INSIDE_ONERR:le("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:le("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:le("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_SCH_MISSING_ID:le("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:le("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_DUPLICATE:le("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:le("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:le("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_PROMISE_NOT_FULFILLED:le("FST_ERR_PROMISE_NOT_FULFILLED","Promise may not be fulfilled with 'undefined' when statusCode is not 204"),FST_ERR_HTTP2_INVALID_VERSION:le("FST_ERR_HTTP2_INVALID_VERSION","HTTP2 is available only from node >= 8.8.1"),FST_ERR_INIT_OPTS_INVALID:le("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_BAD_URL:le("FST_ERR_BAD_URL","'%s' is not a valid url component",400),FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:le("FST_ERR_DEFAULT_ROUTE_INVALID_TYPE","The defaultRoute type should be a function",500,TypeError),FST_ERR_REOPENED_CLOSE_SERVER:le("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:le("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_PLUGIN_VERSION_MISMATCH:le("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed")};Ip.exports=gO});var jp=b((gV,xp)=>{"use strict";var Cp=require("assert"),yO=require("http"),bO=require("https"),{kState:it,kOptions:EO}=nr(),{FST_ERR_HTTP2_INVALID_VERSION:wO,FST_ERR_REOPENED_CLOSE_SERVER:qp,FST_ERR_REOPENED_SERVER:Ap}=$r();function _O(r,e){Cp(r,"Missing options"),Cp(e,"Missing http handler");let t=null;return r.serverFactory?t=r.serverFactory(e,r):r.http2?(r.https?t=Np().createSecureServer(r.https,e):t=Np().createServer(e),t.on("session",SO(r.http2SessionTimeout))):(r.https?t=bO.createServer(r.https,e):t=yO.createServer(e),t.keepAliveTimeout=r.keepAliveTimeout,t.requestTimeout=r.requestTimeout,r.maxRequestsPerSocket>0&&(t.maxRequestsPerSocket=r.maxRequestsPerSocket)),r.serverFactory||t.setTimeout(r.connectionTimeout),{server:t,listen:n};function n(){let i=(u=>{if(u.length===0)return{port:0,host:"localhost"};let d={cb:typeof u[u.length-1]=="function"?u.pop():void 0},l=u[0],v=u.length,m=u[v-1];return typeof l=="object"&&l!==null?(d.backlog=v>1?m:void 0,Object.assign(d,l)):typeof l=="string"&&isNaN(l)?(d.path=l,d.backlog=v>1?m:void 0):(d.port=v>=1&&l?l:0,d.host=v>=2&&u[1]?u[1]:"localhost",d.backlog=v>=3?u[2]:void 0),d})(Array.from(arguments)),a=i.cb,o=u=>{if(t.removeListener("error",o),u)this[it].listening=!1,a(u,null);else{let h=f();a(null,h)}},c=u=>this[it].listening&&this[it].closing?Promise.reject(new qp):this[it].listening?Promise.reject(new Ap):this.ready().then(()=>{let h,d=new Promise((v,m)=>{h=p=>{this[it].listening=!1,m(p)},t.once("error",h)}),l=new Promise((v,m)=>{t.listen(u,()=>{t.removeListener("error",h),v(f())}),this[it].listening=!0});return Promise.race([d,l])}),f=()=>{let u=t.address(),h=typeof u=="string";return h||(u.address.indexOf(":")===-1?u=u.address+":"+u.port:u="["+u.address+"]:"+u.port),u=(h?"":"http"+(this[EO].https?"s":"")+"://")+u,this.log.info("Server listening at "+u),u};if(a===void 0)return c(i);this.ready(u=>{if(u!=null)return a(u);if(this[it].listening&&this[it].closing)return a(new qp,null);if(this[it].listening)return a(new Ap,null);t.once("error",o),t.listen(i,o),this[it].listening=!0})}}function Np(){try{return require("http2")}catch{throw new wO}}function SO(r){return function(e){e.setTimeout(r,PO)}}function PO(){this.close()}xp.exports={createServer:_O}});var Mn=b((yV,kp)=>{"use strict";function RO(r){return r|0,r}kp.exports=RO});var da=b((ha,Dp)=>{(function(r,e){typeof ha=="object"&&typeof Dp!="undefined"?e(ha):typeof define=="function"&&define.amd?define(["exports"],e):e(r.URI=r.URI||{})})(ha,function(r){"use strict";function e(){for(var S=arguments.length,E=Array(S),P=0;P<S;P++)E[P]=arguments[P];if(E.length>1){E[0]=E[0].slice(0,-1);for(var T=E.length-1,I=1;I<T;++I)E[I]=E[I].slice(1,-1);return E[T]=E[T].slice(1),E.join("")}else return E[0]}function t(S){return"(?:"+S+")"}function n(S){return S===void 0?"undefined":S===null?"null":Object.prototype.toString.call(S).split(" ").pop().split("]").shift().toLowerCase()}function s(S){return S.toUpperCase()}function i(S){return S!=null?S instanceof Array?S:typeof S.length!="number"||S.split||S.setInterval||S.call?[S]:Array.prototype.slice.call(S):[]}function a(S,E){var P=S;if(E)for(var T in E)P[T]=E[T];return P}function o(S){var E="[A-Za-z]",P="[\\x0D]",T="[0-9]",I="[\\x22]",z=e(T,"[A-Fa-f]"),te="[\\x0A]",de="[\\x20]",_e=t(t("%[EFef]"+z+"%"+z+z+"%"+z+z)+"|"+t("%[89A-Fa-f]"+z+"%"+z+z)+"|"+t("%"+z+z)),Me="[\\:\\/\\?\\#\\[\\]\\@]",fe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",xe=e(Me,fe),He=S?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ne=S?"[\\uE000-\\uF8FF]":"[]",me=e(E,T,"[\\-\\.\\_\\~]",He),je=t(E+e(E,T,"[\\+\\-\\.]")+"*"),Re=t(t(_e+"|"+e(me,fe,"[\\:]"))+"*"),Xt=t(t("25[0-5]")+"|"+t("2[0-4]"+T)+"|"+t("1"+T+T)+"|"+t("[1-9]"+T)+"|"+T),Sr=t(t("25[0-5]")+"|"+t("2[0-4]"+T)+"|"+t("1"+T+T)+"|"+t("0?[1-9]"+T)+"|0?0?"+T),Cr=t(Sr+"\\."+Sr+"\\."+Sr+"\\."+Sr),Oe=t(z+"{1,4}"),Pr=t(t(Oe+"\\:"+Oe)+"|"+Cr),qr=t(t(Oe+"\\:")+"{6}"+Pr),st=t("\\:\\:"+t(Oe+"\\:")+"{5}"+Pr),Zt=t(t(Oe)+"?\\:\\:"+t(Oe+"\\:")+"{4}"+Pr),yt=t(t(t(Oe+"\\:")+"{0,1}"+Oe)+"?\\:\\:"+t(Oe+"\\:")+"{3}"+Pr),jn=t(t(t(Oe+"\\:")+"{0,2}"+Oe)+"?\\:\\:"+t(Oe+"\\:")+"{2}"+Pr),ra=t(t(t(Oe+"\\:")+"{0,3}"+Oe)+"?\\:\\:"+Oe+"\\:"+Pr),ta=t(t(t(Oe+"\\:")+"{0,4}"+Oe)+"?\\:\\:"+Pr),xs=t(t(t(Oe+"\\:")+"{0,5}"+Oe)+"?\\:\\:"+Oe),js=t(t(t(Oe+"\\:")+"{0,6}"+Oe)+"?\\:\\:"),bt=t([qr,st,Zt,yt,jn,ra,ta,xs,js].join("|")),ks=t(t(me+"|"+_e)+"+"),Nl=t(bt+"\\%25"+ks),es=t(bt+t("\\%25|\\%(?!"+z+"{2})")+ks),c1=t("[vV]"+z+"+\\."+e(me,fe,"[\\:]")+"+"),f1=t("\\["+t(es+"|"+bt+"|"+c1)+"\\]"),Gd=t(t(_e+"|"+e(me,fe))+"*"),kn=t(f1+"|"+Cr+"(?!"+Gd+")|"+Gd),Dn=t(T+"*"),Kd=t(t(Re+"@")+"?"+kn+t("\\:"+Dn)+"?"),Fn=t(_e+"|"+e(me,fe,"[\\:\\@]")),h1=t(Fn+"*"),Jd=t(Fn+"+"),d1=t(t(_e+"|"+e(me,fe,"[\\@]"))+"+"),Et=t(t("\\/"+h1)+"*"),Ds=t("\\/"+t(Jd+Et)+"?"),xl=t(d1+Et),sa=t(Jd+Et),Fs="(?!"+Fn+")",KU=t(Et+"|"+Ds+"|"+xl+"|"+sa+"|"+Fs),Ls=t(t(Fn+"|"+e("[\\/\\?]",Ne))+"*"),Ln=t(t(Fn+"|[\\/\\?]")+"*"),Wd=t(t("\\/\\/"+Kd+Et)+"|"+Ds+"|"+sa+"|"+Fs),p1=t(je+"\\:"+Wd+t("\\?"+Ls)+"?"+t("\\#"+Ln)+"?"),m1=t(t("\\/\\/"+Kd+Et)+"|"+Ds+"|"+xl+"|"+Fs),v1=t(m1+t("\\?"+Ls)+"?"+t("\\#"+Ln)+"?"),JU=t(p1+"|"+v1),WU=t(je+"\\:"+Wd+t("\\?"+Ls)+"?"),QU="^("+je+")\\:"+t(t("\\/\\/("+t("("+Re+")@")+"?("+kn+")"+t("\\:("+Dn+")")+"?)")+"?("+Et+"|"+Ds+"|"+sa+"|"+Fs+")")+t("\\?("+Ls+")")+"?"+t("\\#("+Ln+")")+"?$",YU="^(){0}"+t(t("\\/\\/("+t("("+Re+")@")+"?("+kn+")"+t("\\:("+Dn+")")+"?)")+"?("+Et+"|"+Ds+"|"+xl+"|"+Fs+")")+t("\\?("+Ls+")")+"?"+t("\\#("+Ln+")")+"?$",XU="^("+je+")\\:"+t(t("\\/\\/("+t("("+Re+")@")+"?("+kn+")"+t("\\:("+Dn+")")+"?)")+"?("+Et+"|"+Ds+"|"+sa+"|"+Fs+")")+t("\\?("+Ls+")")+"?$",ZU="^"+t("\\#("+Ln+")")+"?$",eV="^"+t("("+Re+")@")+"?("+kn+")"+t("\\:("+Dn+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",E,T,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",me,fe),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",me,fe),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",me,fe),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",me,fe),"g"),NOT_QUERY:new RegExp(e("[^\\%]",me,fe,"[\\:\\@\\/\\?]",Ne),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",me,fe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",me,fe),"g"),UNRESERVED:new RegExp(me,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",me,xe),"g"),PCT_ENCODED:new RegExp(_e,"g"),IPV4ADDRESS:new RegExp("^("+Cr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+bt+")"+t(t("\\%25|\\%(?!"+z+"{2})")+"("+ks+")")+"?\\]?$")}}var c=o(!1),f=o(!0),u=function(){function S(E,P){var T=[],I=!0,z=!1,te=void 0;try{for(var de=E[Symbol.iterator](),_e;!(I=(_e=de.next()).done)&&(T.push(_e.value),!(P&&T.length===P));I=!0);}catch(Me){z=!0,te=Me}finally{try{!I&&de.return&&de.return()}finally{if(z)throw te}}return T}return function(E,P){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return S(E,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(S){if(Array.isArray(S)){for(var E=0,P=Array(S.length);E<S.length;E++)P[E]=S[E];return P}else return Array.from(S)},d=2147483647,l=36,v=1,m=26,p=38,g=700,w=72,R=128,_="-",y=/^xn--/,O=/[^\0-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-v,N=Math.floor,x=String.fromCharCode;function k(S){throw new RangeError(D[S])}function j(S,E){for(var P=[],T=S.length;T--;)P[T]=E(S[T]);return P}function q(S,E){var P=S.split("@"),T="";P.length>1&&(T=P[0]+"@",S=P[1]),S=S.replace($,".");var I=S.split("."),z=j(I,E).join(".");return T+z}function L(S){for(var E=[],P=0,T=S.length;P<T;){var I=S.charCodeAt(P++);if(I>=55296&&I<=56319&&P<T){var z=S.charCodeAt(P++);(z&64512)==56320?E.push(((I&1023)<<10)+(z&1023)+65536):(E.push(I),P--)}else E.push(I)}return E}var Y=function(E){return String.fromCodePoint.apply(String,h(E))},Q=function(E){return E-48<10?E-22:E-65<26?E-65:E-97<26?E-97:l},H=function(E,P){return E+22+75*(E<26)-((P!=0)<<5)},X=function(E,P,T){var I=0;for(E=T?N(E/g):E>>1,E+=N(E/P);E>C*m>>1;I+=l)E=N(E/C);return N(I+(C+1)*E/(E+p))},U=function(E){var P=[],T=E.length,I=0,z=R,te=w,de=E.lastIndexOf(_);de<0&&(de=0);for(var _e=0;_e<de;++_e)E.charCodeAt(_e)>=128&&k("not-basic"),P.push(E.charCodeAt(_e));for(var Me=de>0?de+1:0;Me<T;){for(var fe=I,xe=1,He=l;;He+=l){Me>=T&&k("invalid-input");var Ne=Q(E.charCodeAt(Me++));(Ne>=l||Ne>N((d-I)/xe))&&k("overflow"),I+=Ne*xe;var me=He<=te?v:He>=te+m?m:He-te;if(Ne<me)break;var je=l-me;xe>N(d/je)&&k("overflow"),xe*=je}var Re=P.length+1;te=X(I-fe,Re,fe==0),N(I/Re)>d-z&&k("overflow"),z+=N(I/Re),I%=Re,P.splice(I++,0,z)}return String.fromCodePoint.apply(String,P)},B=function(E){var P=[];E=L(E);var T=E.length,I=R,z=0,te=w,de=!0,_e=!1,Me=void 0;try{for(var fe=E[Symbol.iterator](),xe;!(de=(xe=fe.next()).done);de=!0){var He=xe.value;He<128&&P.push(x(He))}}catch(es){_e=!0,Me=es}finally{try{!de&&fe.return&&fe.return()}finally{if(_e)throw Me}}var Ne=P.length,me=Ne;for(Ne&&P.push(_);me<T;){var je=d,Re=!0,Xt=!1,Sr=void 0;try{for(var Cr=E[Symbol.iterator](),Oe;!(Re=(Oe=Cr.next()).done);Re=!0){var Pr=Oe.value;Pr>=I&&Pr<je&&(je=Pr)}}catch(es){Xt=!0,Sr=es}finally{try{!Re&&Cr.return&&Cr.return()}finally{if(Xt)throw Sr}}var qr=me+1;je-I>N((d-z)/qr)&&k("overflow"),z+=(je-I)*qr,I=je;var st=!0,Zt=!1,yt=void 0;try{for(var jn=E[Symbol.iterator](),ra;!(st=(ra=jn.next()).done);st=!0){var ta=ra.value;if(ta<I&&++z>d&&k("overflow"),ta==I){for(var xs=z,js=l;;js+=l){var bt=js<=te?v:js>=te+m?m:js-te;if(xs<bt)break;var ks=xs-bt,Nl=l-bt;P.push(x(H(bt+ks%Nl,0))),xs=N(ks/Nl)}P.push(x(H(xs,0))),te=X(z,qr,me==Ne),z=0,++me}}}catch(es){Zt=!0,yt=es}finally{try{!st&&jn.return&&jn.return()}finally{if(Zt)throw yt}}++z,++I}return P.join("")},J=function(E){return q(E,function(P){return y.test(P)?U(P.slice(4).toLowerCase()):P})},ee=function(E){return q(E,function(P){return O.test(P)?"xn--"+B(P):P})},A={version:"2.1.0",ucs2:{decode:L,encode:Y},decode:U,encode:B,toASCII:ee,toUnicode:J},F={};function V(S){var E=S.charCodeAt(0),P=void 0;return E<16?P="%0"+E.toString(16).toUpperCase():E<128?P="%"+E.toString(16).toUpperCase():E<2048?P="%"+(E>>6|192).toString(16).toUpperCase()+"%"+(E&63|128).toString(16).toUpperCase():P="%"+(E>>12|224).toString(16).toUpperCase()+"%"+(E>>6&63|128).toString(16).toUpperCase()+"%"+(E&63|128).toString(16).toUpperCase(),P}function Z(S){for(var E="",P=0,T=S.length;P<T;){var I=parseInt(S.substr(P+1,2),16);if(I<128)E+=String.fromCharCode(I),P+=3;else if(I>=194&&I<224){if(T-P>=6){var z=parseInt(S.substr(P+4,2),16);E+=String.fromCharCode((I&31)<<6|z&63)}else E+=S.substr(P,6);P+=6}else if(I>=224){if(T-P>=9){var te=parseInt(S.substr(P+4,2),16),de=parseInt(S.substr(P+7,2),16);E+=String.fromCharCode((I&15)<<12|(te&63)<<6|de&63)}else E+=S.substr(P,9);P+=9}else E+=S.substr(P,3),P+=3}return E}function ue(S,E){function P(T){var I=Z(T);return I.match(E.UNRESERVED)?I:T}return S.scheme&&(S.scheme=String(S.scheme).replace(E.PCT_ENCODED,P).toLowerCase().replace(E.NOT_SCHEME,"")),S.userinfo!==void 0&&(S.userinfo=String(S.userinfo).replace(E.PCT_ENCODED,P).replace(E.NOT_USERINFO,V).replace(E.PCT_ENCODED,s)),S.host!==void 0&&(S.host=String(S.host).replace(E.PCT_ENCODED,P).toLowerCase().replace(E.NOT_HOST,V).replace(E.PCT_ENCODED,s)),S.path!==void 0&&(S.path=String(S.path).replace(E.PCT_ENCODED,P).replace(S.scheme?E.NOT_PATH:E.NOT_PATH_NOSCHEME,V).replace(E.PCT_ENCODED,s)),S.query!==void 0&&(S.query=String(S.query).replace(E.PCT_ENCODED,P).replace(E.NOT_QUERY,V).replace(E.PCT_ENCODED,s)),S.fragment!==void 0&&(S.fragment=String(S.fragment).replace(E.PCT_ENCODED,P).replace(E.NOT_FRAGMENT,V).replace(E.PCT_ENCODED,s)),S}function pe(S){return S.replace(/^0*(.*)/,"$1")||"0"}function we(S,E){var P=S.match(E.IPV4ADDRESS)||[],T=u(P,2),I=T[1];return I?I.split(".").map(pe).join("."):S}function be(S,E){var P=S.match(E.IPV6ADDRESS)||[],T=u(P,3),I=T[1],z=T[2];if(I){for(var te=I.toLowerCase().split("::").reverse(),de=u(te,2),_e=de[0],Me=de[1],fe=Me?Me.split(":").map(pe):[],xe=_e.split(":").map(pe),He=E.IPV4ADDRESS.test(xe[xe.length-1]),Ne=He?7:8,me=xe.length-Ne,je=Array(Ne),Re=0;Re<Ne;++Re)je[Re]=fe[Re]||xe[me+Re]||"";He&&(je[Ne-1]=we(je[Ne-1],E));var Xt=je.reduce(function(qr,st,Zt){if(!st||st==="0"){var yt=qr[qr.length-1];yt&&yt.index+yt.length===Zt?yt.length++:qr.push({index:Zt,length:1})}return qr},[]),Sr=Xt.sort(function(qr,st){return st.length-qr.length})[0],Cr=void 0;if(Sr&&Sr.length>1){var Oe=je.slice(0,Sr.index),Pr=je.slice(Sr.index+Sr.length);Cr=Oe.join(":")+"::"+Pr.join(":")}else Cr=je.join(":");return z&&(Cr+="%"+z),Cr}else return S}var Wt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,sr="".match(/(){0}/)[1]===void 0;function Ee(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P={},T=E.iri!==!1?f:c;E.reference==="suffix"&&(S=(E.scheme?E.scheme+":":"")+"//"+S);var I=S.match(Wt);if(I){sr?(P.scheme=I[1],P.userinfo=I[3],P.host=I[4],P.port=parseInt(I[5],10),P.path=I[6]||"",P.query=I[7],P.fragment=I[8],isNaN(P.port)&&(P.port=I[5])):(P.scheme=I[1]||void 0,P.userinfo=S.indexOf("@")!==-1?I[3]:void 0,P.host=S.indexOf("//")!==-1?I[4]:void 0,P.port=parseInt(I[5],10),P.path=I[6]||"",P.query=S.indexOf("?")!==-1?I[7]:void 0,P.fragment=S.indexOf("#")!==-1?I[8]:void 0,isNaN(P.port)&&(P.port=S.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?I[4]:void 0)),P.host&&(P.host=be(we(P.host,T),T)),P.scheme===void 0&&P.userinfo===void 0&&P.host===void 0&&P.port===void 0&&!P.path&&P.query===void 0?P.reference="same-document":P.scheme===void 0?P.reference="relative":P.fragment===void 0?P.reference="absolute":P.reference="uri",E.reference&&E.reference!=="suffix"&&E.reference!==P.reference&&(P.error=P.error||"URI is not a "+E.reference+" reference.");var z=F[(E.scheme||P.scheme||"").toLowerCase()];if(!E.unicodeSupport&&(!z||!z.unicodeSupport)){if(P.host&&(E.domainHost||z&&z.domainHost))try{P.host=A.toASCII(P.host.replace(T.PCT_ENCODED,Z).toLowerCase())}catch(te){P.error=P.error||"Host's domain name can not be converted to ASCII via punycode: "+te}ue(P,c)}else ue(P,T);z&&z.parse&&z.parse(P,E)}else P.error=P.error||"URI can not be parsed.";return P}function Ot(S,E){var P=E.iri!==!1?f:c,T=[];return S.userinfo!==void 0&&(T.push(S.userinfo),T.push("@")),S.host!==void 0&&T.push(be(we(String(S.host),P),P).replace(P.IPV6ADDRESS,function(I,z,te){return"["+z+(te?"%25"+te:"")+"]"})),(typeof S.port=="number"||typeof S.port=="string")&&(T.push(":"),T.push(String(S.port))),T.length?T.join(""):void 0}var gt=/^\.\.?\//,Qt=/^\/\.(\/|$)/,Yt=/^\/\.\.(\/|$)/,We=/^\/?(?:.|\n)*?(?=\/|$)/;function Ir(S){for(var E=[];S.length;)if(S.match(gt))S=S.replace(gt,"");else if(S.match(Qt))S=S.replace(Qt,"/");else if(S.match(Yt))S=S.replace(Yt,"/"),E.pop();else if(S==="."||S==="..")S="";else{var P=S.match(We);if(P){var T=P[0];S=S.slice(T.length),E.push(T)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function vr(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=E.iri?f:c,T=[],I=F[(E.scheme||S.scheme||"").toLowerCase()];if(I&&I.serialize&&I.serialize(S,E),S.host&&!P.IPV6ADDRESS.test(S.host)){if(E.domainHost||I&&I.domainHost)try{S.host=E.iri?A.toUnicode(S.host):A.toASCII(S.host.replace(P.PCT_ENCODED,Z).toLowerCase())}catch(de){S.error=S.error||"Host's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+de}}ue(S,P),E.reference!=="suffix"&&S.scheme&&(T.push(S.scheme),T.push(":"));var z=Ot(S,E);if(z!==void 0&&(E.reference!=="suffix"&&T.push("//"),T.push(z),S.path&&S.path.charAt(0)!=="/"&&T.push("/")),S.path!==void 0){var te=S.path;!E.absolutePath&&(!I||!I.absolutePath)&&(te=Ir(te)),z===void 0&&(te=te.replace(/^\/\//,"/%2F")),T.push(te)}return S.query!==void 0&&(T.push("?"),T.push(S.query)),S.fragment!==void 0&&(T.push("#"),T.push(S.fragment)),T.join("")}function ur(S,E){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments[3],I={};return T||(S=Ee(vr(S,P),P),E=Ee(vr(E,P),P)),P=P||{},!P.tolerant&&E.scheme?(I.scheme=E.scheme,I.userinfo=E.userinfo,I.host=E.host,I.port=E.port,I.path=Ir(E.path||""),I.query=E.query):(E.userinfo!==void 0||E.host!==void 0||E.port!==void 0?(I.userinfo=E.userinfo,I.host=E.host,I.port=E.port,I.path=Ir(E.path||""),I.query=E.query):(E.path?(E.path.charAt(0)==="/"?I.path=Ir(E.path):((S.userinfo!==void 0||S.host!==void 0||S.port!==void 0)&&!S.path?I.path="/"+E.path:S.path?I.path=S.path.slice(0,S.path.lastIndexOf("/")+1)+E.path:I.path=E.path,I.path=Ir(I.path)),I.query=E.query):(I.path=S.path,E.query!==void 0?I.query=E.query:I.query=S.query),I.userinfo=S.userinfo,I.host=S.host,I.port=S.port),I.scheme=S.scheme),I.fragment=E.fragment,I}function rt(S,E,P){var T=a({scheme:"null"},P);return vr(ur(Ee(S,T),Ee(E,T),T,!0),T)}function _r(S,E){return typeof S=="string"?S=vr(Ee(S,E),E):n(S)==="object"&&(S=Ee(vr(S,E),E)),S}function ea(S,E,P){return typeof S=="string"?S=vr(Ee(S,P),P):n(S)==="object"&&(S=vr(S,P)),typeof E=="string"?E=vr(Ee(E,P),P):n(E)==="object"&&(E=vr(E,P)),S===E}function ql(S,E){return S&&S.toString().replace(!E||!E.iri?c.ESCAPE:f.ESCAPE,V)}function Kr(S,E){return S&&S.toString().replace(!E||!E.iri?c.PCT_ENCODED:f.PCT_ENCODED,Z)}var Nn={scheme:"http",domainHost:!0,parse:function(E,P){return E.host||(E.error=E.error||"HTTP URIs must have a host."),E},serialize:function(E,P){var T=String(E.scheme).toLowerCase()==="https";return(E.port===(T?443:80)||E.port==="")&&(E.port=void 0),E.path||(E.path="/"),E}},Fd={scheme:"https",domainHost:Nn.domainHost,parse:Nn.parse,serialize:Nn.serialize};function Ld(S){return typeof S.secure=="boolean"?S.secure:String(S.scheme).toLowerCase()==="wss"}var xn={scheme:"ws",domainHost:!0,parse:function(E,P){var T=E;return T.secure=Ld(T),T.resourceName=(T.path||"/")+(T.query?"?"+T.query:""),T.path=void 0,T.query=void 0,T},serialize:function(E,P){if((E.port===(Ld(E)?443:80)||E.port==="")&&(E.port=void 0),typeof E.secure=="boolean"&&(E.scheme=E.secure?"wss":"ws",E.secure=void 0),E.resourceName){var T=E.resourceName.split("?"),I=u(T,2),z=I[0],te=I[1];E.path=z&&z!=="/"?z:void 0,E.query=te,E.resourceName=void 0}return E.fragment=void 0,E}},Md={scheme:"wss",domainHost:xn.domainHost,parse:xn.parse,serialize:xn.serialize},X$={},Z$=!0,Hd="[A-Za-z0-9\\-\\.\\_\\~"+(Z$?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",tt="[0-9A-Fa-f]",e1=t(t("%[EFef]"+tt+"%"+tt+tt+"%"+tt+tt)+"|"+t("%[89A-Fa-f]"+tt+"%"+tt+tt)+"|"+t("%"+tt+tt)),r1="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",t1="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",s1=e(t1,'[\\"\\\\]'),n1="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",i1=new RegExp(Hd,"g"),Ns=new RegExp(e1,"g"),a1=new RegExp(e("[^]",r1,"[\\.]",'[\\"]',s1),"g"),Ud=new RegExp(e("[^]",Hd,n1),"g"),o1=Ud;function Al(S){var E=Z(S);return E.match(i1)?E:S}var Vd={scheme:"mailto",parse:function(E,P){var T=E,I=T.to=T.path?T.path.split(","):[];if(T.path=void 0,T.query){for(var z=!1,te={},de=T.query.split("&"),_e=0,Me=de.length;_e<Me;++_e){var fe=de[_e].split("=");switch(fe[0]){case"to":for(var xe=fe[1].split(","),He=0,Ne=xe.length;He<Ne;++He)I.push(xe[He]);break;case"subject":T.subject=Kr(fe[1],P);break;case"body":T.body=Kr(fe[1],P);break;default:z=!0,te[Kr(fe[0],P)]=Kr(fe[1],P);break}}z&&(T.headers=te)}T.query=void 0;for(var me=0,je=I.length;me<je;++me){var Re=I[me].split("@");if(Re[0]=Kr(Re[0]),P.unicodeSupport)Re[1]=Kr(Re[1],P).toLowerCase();else try{Re[1]=A.toASCII(Kr(Re[1],P).toLowerCase())}catch(Xt){T.error=T.error||"Email address's domain name can not be converted to ASCII via punycode: "+Xt}I[me]=Re.join("@")}return T},serialize:function(E,P){var T=E,I=i(E.to);if(I){for(var z=0,te=I.length;z<te;++z){var de=String(I[z]),_e=de.lastIndexOf("@"),Me=de.slice(0,_e).replace(Ns,Al).replace(Ns,s).replace(a1,V),fe=de.slice(_e+1);try{fe=P.iri?A.toUnicode(fe):A.toASCII(Kr(fe,P).toLowerCase())}catch(me){T.error=T.error||"Email address's domain name can not be converted to "+(P.iri?"Unicode":"ASCII")+" via punycode: "+me}I[z]=Me+"@"+fe}T.path=I.join(",")}var xe=E.headers=E.headers||{};E.subject&&(xe.subject=E.subject),E.body&&(xe.body=E.body);var He=[];for(var Ne in xe)xe[Ne]!==X$[Ne]&&He.push(Ne.replace(Ns,Al).replace(Ns,s).replace(Ud,V)+"="+xe[Ne].replace(Ns,Al).replace(Ns,s).replace(o1,V));return He.length&&(T.query=He.join("&")),T}},l1=/^([^\:]+)\:(.*)/,zd={scheme:"urn",parse:function(E,P){var T=E.path&&E.path.match(l1),I=E;if(T){var z=P.scheme||I.scheme||"urn",te=T[1].toLowerCase(),de=T[2],_e=z+":"+(P.nid||te),Me=F[_e];I.nid=te,I.nss=de,I.path=void 0,Me&&(I=Me.parse(I,P))}else I.error=I.error||"URN can not be parsed.";return I},serialize:function(E,P){var T=P.scheme||E.scheme||"urn",I=E.nid,z=T+":"+(P.nid||I),te=F[z];te&&(E=te.serialize(E,P));var de=E,_e=E.nss;return de.path=(I||P.nid)+":"+_e,de}},u1=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Bd={scheme:"urn:uuid",parse:function(E,P){var T=E;return T.uuid=T.nss,T.nss=void 0,!P.tolerant&&(!T.uuid||!T.uuid.match(u1))&&(T.error=T.error||"UUID is not valid."),T},serialize:function(E,P){var T=E;return T.nss=(E.uuid||"").toLowerCase(),T}};F[Nn.scheme]=Nn,F[Fd.scheme]=Fd,F[xn.scheme]=xn,F[Md.scheme]=Md,F[Vd.scheme]=Vd,F[zd.scheme]=zd,F[Bd.scheme]=Bd,r.SCHEMES=F,r.pctEncChar=V,r.pctDecChars=Z,r.parse=Ee,r.removeDotSegments=Ir,r.serialize=vr,r.resolveComponents=ur,r.resolve=rt,r.normalize=_r,r.equal=ea,r.escapeComponent=ql,r.unescapeComponent=Kr,Object.defineProperty(r,"__esModule",{value:!0})})});var Tt=b((bV,Fp)=>{"use strict";Fp.exports=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!=0;)if(!r(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!=0;)if(!Object.prototype.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!=0;){var a=i[s];if(!r(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}});var Mp=b((EV,Lp)=>{"use strict";Lp.exports=function(e){for(var t=0,n=e.length,s=0,i;s<n;)t++,i=e.charCodeAt(s++),i>=55296&&i<=56319&&s<n&&(i=e.charCodeAt(s),(i&64512)==56320&&s++);return t}});var ts=b((wV,Vp)=>{"use strict";Vp.exports={copy:$O,checkDataType:Jl,checkDataTypes:OO,coerceToTypes:TO,toHash:Wl,getProperty:Ql,escapeQuotes:Yl,equal:Tt(),ucs2length:Mp(),varOccurences:qO,varReplace:AO,schemaHasRules:NO,schemaHasRulesExcept:xO,schemaUnknownRules:jO,toQuotedString:Xl,getPathExpr:kO,getPath:DO,getData:MO,unescapeFragment:HO,unescapeJsonPointer:eu,escapeFragment:UO,escapeJsonPointer:Zl};function $O(r,e){e=e||{};for(var t in r)e[t]=r[t];return e}function Jl(r,e,t,n){var s=n?" !== ":" === ",i=n?" || ":" && ",a=n?"!":"",o=n?"":"!";switch(r){case"null":return e+s+"null";case"array":return a+"Array.isArray("+e+")";case"object":return"("+a+e+i+"typeof "+e+s+'"object"'+i+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+s+'"number"'+i+o+"("+e+" % 1)"+i+e+s+e+(t?i+a+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+s+'"'+r+'"'+(t?i+a+"isFinite("+e+")":"")+")";default:return"typeof "+e+s+'"'+r+'"'}}function OO(r,e,t){switch(r.length){case 1:return Jl(r[0],e,t,!0);default:var n="",s=Wl(r);s.array&&s.object&&(n=s.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer;for(var i in s)n+=(n?" && ":"")+Jl(i,e,t,!0);return n}}var Hp=Wl(["string","number","integer","boolean","null"]);function TO(r,e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var s=e[n];(Hp[s]||r==="array"&&s==="array")&&(t[t.length]=s)}if(t.length)return t}else{if(Hp[e])return[e];if(r==="array"&&e==="array")return["array"]}}function Wl(r){for(var e={},t=0;t<r.length;t++)e[r[t]]=!0;return e}var IO=/^[a-z$_][a-z$_0-9]*$/i,CO=/'|\\/g;function Ql(r){return typeof r=="number"?"["+r+"]":IO.test(r)?"."+r:"['"+Yl(r)+"']"}function Yl(r){return r.replace(CO,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function qO(r,e){e+="[^0-9]";var t=r.match(new RegExp(e,"g"));return t?t.length:0}function AO(r,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),r.replace(new RegExp(e,"g"),t+"$1")}function NO(r,e){if(typeof r=="boolean")return!r;for(var t in r)if(e[t])return!0}function xO(r,e,t){if(typeof r=="boolean")return!r&&t!="not";for(var n in r)if(n!=t&&e[n])return!0}function jO(r,e){if(typeof r!="boolean"){for(var t in r)if(!e[t])return t}}function Xl(r){return"'"+Yl(r)+"'"}function kO(r,e,t,n){var s=t?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return Up(r,s)}function DO(r,e,t){var n=Xl(t?"/"+Zl(e):Ql(e));return Up(r,n)}var FO=/^\/(?:[^~]|~0|~1)*$/,LO=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function MO(r,e,t){var n,s,i,a;if(r==="")return"rootData";if(r[0]=="/"){if(!FO.test(r))throw new Error("Invalid JSON-pointer: "+r);s=r,i="rootData"}else{if(a=r.match(LO),!a)throw new Error("Invalid JSON-pointer: "+r);if(n=+a[1],s=a[2],s=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return t[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(i="data"+(e-n||""),!s)return i}for(var o=i,c=s.split("/"),f=0;f<c.length;f++){var u=c[f];u&&(i+=Ql(eu(u)),o+=" && "+i)}return o}function Up(r,e){return r=='""'?e:(r+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function HO(r){return eu(decodeURIComponent(r))}function UO(r){return encodeURIComponent(Zl(r))}function Zl(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}function eu(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}});var ru=b((_V,zp)=>{"use strict";var VO=ts();zp.exports=zO;function zO(r){VO.copy(r,this)}});var Gp=b((SV,Bp)=>{"use strict";var It=Bp.exports=function(r,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},s=t.post||function(){};pa(e,n,s,r,"",r)};It.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};It.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};It.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};It.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function pa(r,e,t,n,s,i,a,o,c,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,i,a,o,c,f);for(var u in n){var h=n[u];if(Array.isArray(h)){if(u in It.arrayKeywords)for(var d=0;d<h.length;d++)pa(r,e,t,h[d],s+"/"+u+"/"+d,i,s,u,n,d)}else if(u in It.propsKeywords){if(h&&typeof h=="object")for(var l in h)pa(r,e,t,h[l],s+"/"+u+"/"+BO(l),i,s,u,n,l)}else(u in It.keywords||r.allKeys&&!(u in It.skipKeywords))&&pa(r,e,t,h,s+"/"+u,i,s,u,n)}t(n,s,i,a,o,c,f)}}function BO(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}});var Ea=b((PV,Qp)=>{"use strict";var Hn=da(),Kp=Tt(),ma=ts(),va=ru(),GO=Gp();Qp.exports=Ct;Ct.normalizeId=qt;Ct.fullPath=ya;Ct.url=ba;Ct.ids=YO;Ct.inlineRef=tu;Ct.schema=ga;function Ct(r,e,t){var n=this._refs[t];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return Ct.call(this,r,e,n);if(n=n||this._schemas[t],n instanceof va)return tu(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var s=ga.call(this,e,t),i,a,o;return s&&(i=s.schema,e=s.root,o=s.baseId),i instanceof va?a=i.validate||r.call(this,i.schema,e,void 0,o):i!==void 0&&(a=tu(i,this._opts.inlineRefs)?i:r.call(this,i,e,void 0,o)),a}function ga(r,e){var t=Hn.parse(e),n=Wp(t),s=ya(this._getId(r.schema));if(Object.keys(r.schema).length===0||n!==s){var i=qt(n),a=this._refs[i];if(typeof a=="string")return KO.call(this,r,a,t);if(a instanceof va)a.validate||this._compile(a),r=a;else if(a=this._schemas[i],a instanceof va){if(a.validate||this._compile(a),i==qt(e))return{schema:a,root:r,baseId:s};r=a}else return;if(!r.schema)return;s=ya(this._getId(r.schema))}return Jp.call(this,t,s,r.schema,r)}function KO(r,e,t){var n=ga.call(this,r,e);if(n){var s=n.schema,i=n.baseId;r=n.root;var a=this._getId(s);return a&&(i=ba(i,a)),Jp.call(this,t,i,s,r)}}var JO=ma.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Jp(r,e,t,n){if(r.fragment=r.fragment||"",r.fragment.slice(0,1)=="/"){for(var s=r.fragment.split("/"),i=1;i<s.length;i++){var a=s[i];if(a){if(a=ma.unescapeFragment(a),t=t[a],t===void 0)break;var o;if(!JO[a]&&(o=this._getId(t),o&&(e=ba(e,o)),t.$ref)){var c=ba(e,t.$ref),f=ga.call(this,n,c);f&&(t=f.schema,n=f.root,e=f.baseId)}}}if(t!==void 0&&t!==n.schema)return{schema:t,root:n,baseId:e}}}var WO=ma.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function tu(r,e){if(e===!1)return!1;if(e===void 0||e===!0)return su(r);if(e)return nu(r)<=e}function su(r){var e;if(Array.isArray(r)){for(var t=0;t<r.length;t++)if(e=r[t],typeof e=="object"&&!su(e))return!1}else for(var n in r)if(n=="$ref"||(e=r[n],typeof e=="object"&&!su(e)))return!1;return!0}function nu(r){var e=0,t;if(Array.isArray(r)){for(var n=0;n<r.length;n++)if(t=r[n],typeof t=="object"&&(e+=nu(t)),e==1/0)return 1/0}else for(var s in r){if(s=="$ref")return 1/0;if(WO[s])e++;else if(t=r[s],typeof t=="object"&&(e+=nu(t)+1),e==1/0)return 1/0}return e}function ya(r,e){e!==!1&&(r=qt(r));var t=Hn.parse(r);return Wp(t)}function Wp(r){return Hn.serialize(r).split("#")[0]+"#"}var QO=/#\/?$/;function qt(r){return r?r.replace(QO,""):""}function ba(r,e){return e=qt(e),Hn.resolve(r,e)}function YO(r){var e=qt(this._getId(r)),t={"":e},n={"":ya(e,!1)},s={},i=this;return GO(r,{allKeys:!0},function(a,o,c,f,u,h,d){if(o!==""){var l=i._getId(a),v=t[f],m=n[f]+"/"+u;if(d!==void 0&&(m+="/"+(typeof d=="number"?d:ma.escapeFragment(d))),typeof l=="string"){l=v=qt(v?Hn.resolve(v,l):l);var p=i._refs[l];if(typeof p=="string"&&(p=i._refs[p]),p&&p.schema){if(!Kp(a,p.schema))throw new Error('id "'+l+'" resolves to more than one schema')}else if(l!=qt(m))if(l[0]=="#"){if(s[l]&&!Kp(a,s[l]))throw new Error('id "'+l+'" resolves to more than one schema');s[l]=a}else i._refs[l]=m}t[o]=v,n[o]=m}}),s}});var wa=b((RV,Xp)=>{"use strict";var iu=Ea();Xp.exports={Validation:Yp(XO),MissingRef:Yp(au)};function XO(r){this.message="validation failed",this.errors=r,this.ajv=this.validation=!0}au.message=function(r,e){return"can't resolve reference "+e+" from id "+r};function au(r,e,t){this.message=t||au.message(r,e),this.missingRef=iu.url(r,e),this.missingSchema=iu.normalizeId(iu.fullPath(this.missingRef))}function Yp(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}});var ou=b(($V,Zp)=>{"use strict";Zp.exports=function(r,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(i){return function(a){return function(o,c){var f={key:o,value:a[o]},u={key:c,value:a[c]};return i(f,u)}}}(e.cmp),s=[];return function i(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var o,c;if(Array.isArray(a)){for(c="[",o=0;o<a.length;o++)o&&(c+=","),c+=i(a[o])||"null";return c+"]"}if(a===null)return"null";if(s.indexOf(a)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=s.push(a)-1,u=Object.keys(a).sort(n&&n(a));for(c="",o=0;o<u.length;o++){var h=u[o],d=i(a[h]);!d||(c&&(c+=","),c+=JSON.stringify(h)+":"+d)}return s.splice(f,1),"{"+c+"}"}}(r)}});var lu=b((OV,em)=>{"use strict";em.exports=function(e,t,n){var s="",i=e.schema.$async===!0,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var c=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(c){var f="unknown keyword: "+c;if(e.opts.strictKeywords==="log")e.logger.warn(f);else throw new Error(f)}}if(e.isTop&&(s+=" var validate = ",i&&(e.async=!0,s+="async "),s+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(s+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(a||e.schema.$ref)){var t="false schema",u=e.level,h=e.dataLevel,d=e.schema[t],l=e.schemaPath+e.util.getProperty(t),v=e.errSchemaPath+"/"+t,y=!e.opts.allErrors,D,m="data"+(h||""),_="valid"+u;if(e.schema===!1){e.isTop?y=!0:s+=" var "+_+" = false; ";var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(D||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'boolean schema is false' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var g=s;s=p.pop(),!e.compositeRule&&y?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i?s+=" return data; ":s+=" validate.errors = null; return true; ":s+=" var "+_+" = true; ";return e.isTop&&(s+=" }; return validate; "),s}if(e.isTop){var w=e.isTop,u=e.level=0,h=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var R="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(R);else throw new Error(R)}s+=" var vErrors = null; ",s+=" var errors = 0;     ",s+=" if (rootData === undefined) rootData = data; "}else{var u=e.level,h=e.dataLevel,m="data"+(h||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");s+=" var errs_"+u+" = errors;"}var _="valid"+u,y=!e.opts.allErrors,O="",$="",D,C=e.schema.type,N=Array.isArray(C);if(C&&e.opts.nullable&&e.schema.nullable===!0&&(N?C.indexOf("null")==-1&&(C=C.concat("null")):C!="null"&&(C=[C,"null"],N=!0)),N&&C.length==1&&(C=C[0],N=!1),e.schema.$ref&&a){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(s+=" "+e.RULES.all.$comment.code(e,"$comment")),C){if(e.opts.coerceTypes)var x=e.util.coerceToTypes(e.opts.coerceTypes,C);var k=e.RULES.types[C];if(x||N||k===!0||k&&!We(k)){var l=e.schemaPath+".type",v=e.errSchemaPath+"/type",l=e.schemaPath+".type",v=e.errSchemaPath+"/type",j=N?"checkDataTypes":"checkDataType";if(s+=" if ("+e.util[j](C,m,e.opts.strictNumbers,!0)+") { ",x){var q="dataType"+u,L="coerced"+u;s+=" var "+q+" = typeof "+m+"; var "+L+" = undefined; ",e.opts.coerceTypes=="array"&&(s+=" if ("+q+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+q+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+L+" = "+m+"; } "),s+=" if ("+L+" !== undefined) ; ";var Y=x;if(Y)for(var Q,H=-1,X=Y.length-1;H<X;)Q=Y[H+=1],Q=="string"?s+=" else if ("+q+" == 'number' || "+q+" == 'boolean') "+L+" = '' + "+m+"; else if ("+m+" === null) "+L+" = ''; ":Q=="number"||Q=="integer"?(s+=" else if ("+q+" == 'boolean' || "+m+" === null || ("+q+" == 'string' && "+m+" && "+m+" == +"+m+" ",Q=="integer"&&(s+=" && !("+m+" % 1)"),s+=")) "+L+" = +"+m+"; "):Q=="boolean"?s+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+L+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+L+" = true; ":Q=="null"?s+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+L+" = null; ":e.opts.coerceTypes=="array"&&Q=="array"&&(s+=" else if ("+q+" == 'string' || "+q+" == 'number' || "+q+" == 'boolean' || "+m+" == null) "+L+" = ["+m+"]; ");s+=" else {   ";var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(D||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",N?s+=""+C.join(","):s+=""+C,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",N?s+=""+C.join(","):s+=""+C,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var g=s;s=p.pop(),!e.compositeRule&&y?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } if ("+L+" !== undefined) {  ";var U=h?"data"+(h-1||""):"parentData",B=h?e.dataPathArr[h]:"parentDataProperty";s+=" "+m+" = "+L+"; ",h||(s+="if ("+U+" !== undefined)"),s+=" "+U+"["+B+"] = "+L+"; } "}else{var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(D||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",N?s+=""+C.join(","):s+=""+C,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",N?s+=""+C.join(","):s+=""+C,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var g=s;s=p.pop(),!e.compositeRule&&y?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}s+=" } "}}if(e.schema.$ref&&!a)s+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",y&&(s+=" } if (errors === ",w?s+="0":s+="errs_"+u,s+=") { ",$+="}");else{var J=e.RULES;if(J){for(var k,ee=-1,A=J.length-1;ee<A;)if(k=J[ee+=1],We(k)){if(k.type&&(s+=" if ("+e.util.checkDataType(k.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(k.type=="object"&&e.schema.properties){var d=e.schema.properties,F=Object.keys(d),V=F;if(V)for(var Z,ue=-1,pe=V.length-1;ue<pe;){Z=V[ue+=1];var we=d[Z];if(we.default!==void 0){var be=m+e.util.getProperty(Z);if(e.compositeRule){if(e.opts.strictDefaults){var R="default is ignored for: "+be;if(e.opts.strictDefaults==="log")e.logger.warn(R);else throw new Error(R)}}else s+=" if ("+be+" === undefined ",e.opts.useDefaults=="empty"&&(s+=" || "+be+" === null || "+be+" === '' "),s+=" ) "+be+" = ",e.opts.useDefaults=="shared"?s+=" "+e.useDefault(we.default)+" ":s+=" "+JSON.stringify(we.default)+" ",s+="; "}}}else if(k.type=="array"&&Array.isArray(e.schema.items)){var Wt=e.schema.items;if(Wt){for(var we,H=-1,sr=Wt.length-1;H<sr;)if(we=Wt[H+=1],we.default!==void 0){var be=m+"["+H+"]";if(e.compositeRule){if(e.opts.strictDefaults){var R="default is ignored for: "+be;if(e.opts.strictDefaults==="log")e.logger.warn(R);else throw new Error(R)}}else s+=" if ("+be+" === undefined ",e.opts.useDefaults=="empty"&&(s+=" || "+be+" === null || "+be+" === '' "),s+=" ) "+be+" = ",e.opts.useDefaults=="shared"?s+=" "+e.useDefault(we.default)+" ":s+=" "+JSON.stringify(we.default)+" ",s+="; "}}}}var Ee=k.rules;if(Ee){for(var Ot,gt=-1,Qt=Ee.length-1;gt<Qt;)if(Ot=Ee[gt+=1],Ir(Ot)){var Yt=Ot.code(e,Ot.keyword,k.type);Yt&&(s+=" "+Yt+" ",y&&(O+="}"))}}if(y&&(s+=" "+O+" ",O=""),k.type&&(s+=" } ",C&&C===k.type&&!x)){s+=" else { ";var l=e.schemaPath+".type",v=e.errSchemaPath+"/type",p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(D||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",N?s+=""+C.join(","):s+=""+C,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",N?s+=""+C.join(","):s+=""+C,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var g=s;s=p.pop(),!e.compositeRule&&y?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } "}y&&(s+=" if (errors === ",w?s+="0":s+="errs_"+u,s+=") { ",$+="}")}}}y&&(s+=" "+$+" "),w?(i?(s+=" if (errors === 0) return data;           ",s+=" else throw new ValidationError(vErrors); "):(s+=" validate.errors = vErrors; ",s+=" return errors === 0;       "),s+=" }; return validate;"):s+=" var "+_+" = errors === errs_"+u+";";function We(ur){for(var rt=ur.rules,_r=0;_r<rt.length;_r++)if(Ir(rt[_r]))return!0}function Ir(ur){return e.schema[ur.keyword]!==void 0||ur.implements&&vr(ur)}function vr(ur){for(var rt=ur.implements,_r=0;_r<rt.length;_r++)if(e.schema[rt[_r]]!==void 0)return!0}return s}});var im=b((TV,nm)=>{"use strict";var _a=Ea(),Sa=ts(),rm=wa(),ZO=ou(),tm=lu(),eT=Sa.ucs2length,rT=Tt(),tT=rm.Validation;nm.exports=uu;function uu(r,e,t,n){var s=this,i=this._opts,a=[void 0],o={},c=[],f={},u=[],h={},d=[];e=e||{schema:r,refVal:a,refs:o};var l=sT.call(this,r,e,n),v=this._compilations[l.index];if(l.compiling)return v.callValidate=R;var m=this._formats,p=this.RULES;try{var g=_(r,e,t,n);v.validate=g;var w=v.callValidate;return w&&(w.schema=g.schema,w.errors=null,w.refs=g.refs,w.refVal=g.refVal,w.root=g.root,w.$async=g.$async,i.sourceCode&&(w.source=g.source)),g}finally{nT.call(this,r,e,n)}function R(){var j=v.validate,q=j.apply(this,arguments);return R.errors=j.errors,q}function _(j,q,L,Y){var Q=!q||q&&q.schema==j;if(q.schema!=e.schema)return uu.call(s,j,q,L,Y);var H=j.$async===!0,X=tm({isTop:!0,schema:j,isRoot:Q,baseId:Y,root:q,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:rm.MissingRef,RULES:p,validate:tm,util:Sa,resolve:_a,resolveRef:y,usePattern:N,useDefault:x,useCustomRule:k,opts:i,formats:m,logger:s.logger,self:s});X=Pa(a,oT)+Pa(c,iT)+Pa(u,aT)+Pa(d,lT)+X,i.processCode&&(X=i.processCode(X,j));var U;try{var B=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",X);U=B(s,p,m,e,a,u,d,rT,eT,tT),a[0]=U}catch(J){throw s.logger.error("Error compiling schema, function code:",X),J}return U.schema=j,U.errors=null,U.refs=o,U.refVal=a,U.root=Q?U:q,H&&(U.$async=!0),i.sourceCode===!0&&(U.source={code:X,patterns:c,defaults:u}),U}function y(j,q,L){q=_a.url(j,q);var Y=o[q],Q,H;if(Y!==void 0)return Q=a[Y],H="refVal["+Y+"]",C(Q,H);if(!L&&e.refs){var X=e.refs[q];if(X!==void 0)return Q=e.refVal[X],H=O(q,Q),C(Q,H)}H=O(q);var U=_a.call(s,_,e,q);if(U===void 0){var B=t&&t[q];B&&(U=_a.inlineRef(B,i.inlineRefs)?B:uu.call(s,B,e,t,j))}if(U===void 0)$(q);else return D(q,U),C(U,H)}function O(j,q){var L=a.length;return a[L]=q,o[j]=L,"refVal"+L}function $(j){delete o[j]}function D(j,q){var L=o[j];a[L]=q}function C(j,q){return typeof j=="object"||typeof j=="boolean"?{code:q,schema:j,inline:!0}:{code:q,$async:j&&!!j.$async}}function N(j){var q=f[j];return q===void 0&&(q=f[j]=c.length,c[q]=j),"pattern"+q}function x(j){switch(typeof j){case"boolean":case"number":return""+j;case"string":return Sa.toQuotedString(j);case"object":if(j===null)return"null";var q=ZO(j),L=h[q];return L===void 0&&(L=h[q]=u.length,u[L]=j),"default"+L}}function k(j,q,L,Y){if(s._opts.validateSchema!==!1){var Q=j.definition.dependencies;if(Q&&!Q.every(function(V){return Object.prototype.hasOwnProperty.call(L,V)}))throw new Error("parent schema must have all required keywords: "+Q.join(","));var H=j.definition.validateSchema;if(H){var X=H(q);if(!X){var U="keyword schema is invalid: "+s.errorsText(H.errors);if(s._opts.validateSchema=="log")s.logger.error(U);else throw new Error(U)}}}var B=j.definition.compile,J=j.definition.inline,ee=j.definition.macro,A;if(B)A=B.call(s,q,L,Y);else if(ee)A=ee.call(s,q,L,Y),i.validateSchema!==!1&&s.validateSchema(A,!0);else if(J)A=J.call(s,Y,j.keyword,q,L);else if(A=j.definition.validate,!A)return;if(A===void 0)throw new Error('custom keyword "'+j.keyword+'"failed to compile');var F=d.length;return d[F]=A,{code:"customRule"+F,validate:A}}}function sT(r,e,t){var n=sm.call(this,r,e,t);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:r,root:e,baseId:t},{index:n,compiling:!1})}function nT(r,e,t){var n=sm.call(this,r,e,t);n>=0&&this._compilations.splice(n,1)}function sm(r,e,t){for(var n=0;n<this._compilations.length;n++){var s=this._compilations[n];if(s.schema==r&&s.root==e&&s.baseId==t)return n}return-1}function iT(r,e){return"var pattern"+r+" = new RegExp("+Sa.toQuotedString(e[r])+");"}function aT(r){return"var default"+r+" = defaults["+r+"];"}function oT(r,e){return e[r]===void 0?"":"var refVal"+r+" = refVal["+r+"];"}function lT(r){return"var customRule"+r+" = customRules["+r+"];"}function Pa(r,e){if(!r.length)return"";for(var t="",n=0;n<r.length;n++)t+=e(n,r);return t}});var om=b((IV,am)=>{"use strict";var Ra=am.exports=function(){this._cache={}};Ra.prototype.put=function(e,t){this._cache[e]=t};Ra.prototype.get=function(e){return this._cache[e]};Ra.prototype.del=function(e){delete this._cache[e]};Ra.prototype.clear=function(){this._cache={}}});var cu=b((CV,ym)=>{"use strict";var uT=ts(),cT=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,fT=[0,31,28,31,30,31,30,31,31,30,31,30,31],hT=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,lm=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,dT=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,pT=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,um=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,cm=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,fm=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,hm=/^(?:\/(?:[^~/]|~0|~1)*)*$/,dm=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,pm=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;ym.exports=$a;function $a(r){return r=r=="full"?"full":"fast",uT.copy($a[r])}$a.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":um,url:cm,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:lm,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:gm,uuid:fm,"json-pointer":hm,"json-pointer-uri-fragment":dm,"relative-json-pointer":pm};$a.full={date:mm,time:vm,"date-time":gT,uri:bT,"uri-reference":pT,"uri-template":um,url:cm,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:lm,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:gm,uuid:fm,"json-pointer":hm,"json-pointer-uri-fragment":dm,"relative-json-pointer":pm};function mT(r){return r%4==0&&(r%100!=0||r%400==0)}function mm(r){var e=r.match(cT);if(!e)return!1;var t=+e[1],n=+e[2],s=+e[3];return n>=1&&n<=12&&s>=1&&s<=(n==2&&mT(t)?29:fT[n])}function vm(r,e){var t=r.match(hT);if(!t)return!1;var n=t[1],s=t[2],i=t[3],a=t[5];return(n<=23&&s<=59&&i<=59||n==23&&s==59&&i==60)&&(!e||a)}var vT=/t|\s/i;function gT(r){var e=r.split(vT);return e.length==2&&mm(e[0])&&vm(e[1],!0)}var yT=/\/|:/;function bT(r){return yT.test(r)&&dT.test(r)}var ET=/[^\\]\\Z/;function gm(r){if(ET.test(r))return!1;try{return new RegExp(r),!0}catch{return!1}}});var Em=b((qV,bm)=>{"use strict";bm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,u="data"+(a||""),h="valid"+i,d,l;if(o=="#"||o=="#/")e.isRoot?(d=e.async,l="validate"):(d=e.root.schema.$async===!0,l="root.refVal[0]");else{var v=e.resolveRef(e.baseId,o,e.isRoot);if(v===void 0){var m=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(m);var p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var g=s;s=p.pop(),!e.compositeRule&&f?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f&&(s+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(m),f&&(s+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,m)}else if(v.inline){var w=e.util.copy(e);w.level++;var R="valid"+w.level;w.schema=v.schema,w.schemaPath="",w.errSchemaPath=o;var _=e.validate(w).replace(/validate\.schema/g,v.code);s+=" "+_+" ",f&&(s+=" if ("+R+") { ")}else d=v.$async===!0||e.async&&v.$async!==!1,l=v.code}if(l){var p=p||[];p.push(s),s="",e.opts.passContext?s+=" "+l+".call(this, ":s+=" "+l+"( ",s+=" "+u+", (dataPath || '')",e.errorPath!='""'&&(s+=" + "+e.errorPath);var y=a?"data"+(a-1||""):"parentData",O=a?e.dataPathArr[a]:"parentDataProperty";s+=" , "+y+" , "+O+", rootData)  ";var $=s;if(s=p.pop(),d){if(!e.async)throw new Error("async schema referenced by sync schema");f&&(s+=" var "+h+"; "),s+=" try { await "+$+"; ",f&&(s+=" "+h+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",f&&(s+=" "+h+" = false; "),s+=" } ",f&&(s+=" if ("+h+") { ")}else s+=" if (!"+$+") { if (vErrors === null) vErrors = "+l+".errors; else vErrors = vErrors.concat("+l+".errors); errors = vErrors.length; } ",f&&(s+=" else { ")}return s}});var _m=b((AV,wm)=>{"use strict";wm.exports=function(e,t,n){var s=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f=e.util.copy(e),u="";f.level++;var h="valid"+f.level,d=f.baseId,l=!0,v=i;if(v)for(var m,p=-1,g=v.length-1;p<g;)m=v[p+=1],(e.opts.strictKeywords?typeof m=="object"&&Object.keys(m).length>0||m===!1:e.util.schemaHasRules(m,e.RULES.all))&&(l=!1,f.schema=m,f.schemaPath=a+"["+p+"]",f.errSchemaPath=o+"/"+p,s+="  "+e.validate(f)+" ",f.baseId=d,c&&(s+=" if ("+h+") { ",u+="}"));return c&&(l?s+=" if (true) { ":s+=" "+u.slice(0,-1)+" "),s}});var Pm=b((NV,Sm)=>{"use strict";Sm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+i,l="errs__"+i,v=e.util.copy(e),m="";v.level++;var p="valid"+v.level,g=o.every(function(D){return e.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:e.util.schemaHasRules(D,e.RULES.all)});if(g){var w=v.baseId;s+=" var "+l+" = errors; var "+d+" = false;  ";var R=e.compositeRule;e.compositeRule=v.compositeRule=!0;var _=o;if(_)for(var y,O=-1,$=_.length-1;O<$;)y=_[O+=1],v.schema=y,v.schemaPath=c+"["+O+"]",v.errSchemaPath=f+"/"+O,s+="  "+e.validate(v)+" ",v.baseId=w,s+=" "+d+" = "+d+" || "+p+"; if (!"+d+") { ",m+="}";e.compositeRule=v.compositeRule=R,s+=" "+m+" if (!"+d+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } ")}else u&&(s+=" if (true) { ");return s}});var $m=b((xV,Rm)=>{"use strict";Rm.exports=function(e,t,n){var s=" ",i=e.schema[t],a=e.errSchemaPath+"/"+t,o=!e.opts.allErrors,c=e.util.toQuotedString(i);return e.opts.$comment===!0?s+=" console.log("+c+");":typeof e.opts.$comment=="function"&&(s+=" self._opts.$comment("+c+", "+e.util.toQuotedString(a)+", validate.root.schema);"),s}});var Tm=b((jV,Om)=>{"use strict";Om.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+i,l=e.opts.$data&&o&&o.$data,v;l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,l||(s+=" var schema"+i+" = validate.schema"+c+";"),s+="var "+d+" = equal("+h+", schema"+i+"); if (!"+d+") {   ";var m=m||[];m.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { allowedValue: schema"+i+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be equal to constant' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var p=s;return s=m.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+p+"]); ":s+=" validate.errors = ["+p+"]; return false; ":s+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var Cm=b((kV,Im)=>{"use strict";Im.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+i,l="errs__"+i,v=e.util.copy(e),m="";v.level++;var p="valid"+v.level,g="i"+i,w=v.dataLevel=e.dataLevel+1,R="data"+w,_=e.baseId,y=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(s+="var "+l+" = errors;var "+d+";",y){var O=e.compositeRule;e.compositeRule=v.compositeRule=!0,v.schema=o,v.schemaPath=c,v.errSchemaPath=f,s+=" var "+p+" = false; for (var "+g+" = 0; "+g+" < "+h+".length; "+g+"++) { ",v.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var $=h+"["+g+"]";v.dataPathArr[w]=g;var D=e.validate(v);v.baseId=_,e.util.varOccurences(D,R)<2?s+=" "+e.util.varReplace(D,R,$)+" ":s+=" var "+R+" = "+$+"; "+D+" ",s+=" if ("+p+") break; }  ",e.compositeRule=v.compositeRule=O,s+=" "+m+" if (!"+p+") {"}else s+=" if ("+h+".length == 0) {";var C=C||[];C.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should contain a valid item' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var N=s;return s=C.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+N+"]); ":s+=" validate.errors = ["+N+"]; return false; ":s+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { ",y&&(s+="  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } "),e.opts.allErrors&&(s+=" } "),s}});var Am=b((DV,qm)=>{"use strict";qm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="errs__"+i,l=e.util.copy(e),v="";l.level++;var m="valid"+l.level,p={},g={},w=e.opts.ownProperties;for(O in o)if(O!="__proto__"){var R=o[O],_=Array.isArray(R)?g:p;_[O]=R}s+="var "+d+" = errors;";var y=e.errorPath;s+="var missing"+i+";";for(var O in g)if(_=g[O],_.length){if(s+=" if ( "+h+e.util.getProperty(O)+" !== undefined ",w&&(s+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(O)+"') "),u){s+=" && ( ";var $=_;if($)for(var D,C=-1,N=$.length-1;C<N;){D=$[C+=1],C&&(s+=" || ");var x=e.util.getProperty(D),k=h+x;s+=" ( ( "+k+" === undefined ",w&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(D)+"') "),s+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?D:x)+") ) "}s+=")) {  ";var j="missing"+i,q="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,j,!0):y+" + "+j);var L=L||[];L.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { property: '"+e.util.escapeQuotes(O)+"', missingProperty: '"+q+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should have ",_.length==1?s+="property "+e.util.escapeQuotes(_[0]):s+="properties "+e.util.escapeQuotes(_.join(", ")),s+=" when property "+e.util.escapeQuotes(O)+" is present' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var Y=s;s=L.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+Y+"]); ":s+=" validate.errors = ["+Y+"]; return false; ":s+=" var err = "+Y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{s+=" ) { ";var Q=_;if(Q)for(var D,H=-1,X=Q.length-1;H<X;){D=Q[H+=1];var x=e.util.getProperty(D),q=e.util.escapeQuotes(D),k=h+x;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,D,e.opts.jsonPointers)),s+=" if ( "+k+" === undefined ",w&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(D)+"') "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { property: '"+e.util.escapeQuotes(O)+"', missingProperty: '"+q+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should have ",_.length==1?s+="property "+e.util.escapeQuotes(_[0]):s+="properties "+e.util.escapeQuotes(_.join(", ")),s+=" when property "+e.util.escapeQuotes(O)+" is present' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}s+=" }   ",u&&(v+="}",s+=" else { ")}e.errorPath=y;var U=l.baseId;for(var O in p){var R=p[O];(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))&&(s+=" "+m+" = true; if ( "+h+e.util.getProperty(O)+" !== undefined ",w&&(s+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(O)+"') "),s+=") { ",l.schema=R,l.schemaPath=c+e.util.getProperty(O),l.errSchemaPath=f+"/"+e.util.escapeFragment(O),s+="  "+e.validate(l)+" ",l.baseId=U,s+=" }  ",u&&(s+=" if ("+m+") { ",v+="}"))}return u&&(s+="   "+v+" if ("+d+" == errors) {"),s}});var xm=b((FV,Nm)=>{"use strict";Nm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+i,l=e.opts.$data&&o&&o.$data,v;l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o;var m="i"+i,p="schema"+i;l||(s+=" var "+p+" = validate.schema"+c+";"),s+="var "+d+";",l&&(s+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),s+=""+d+" = false;for (var "+m+"=0; "+m+"<"+p+".length; "+m+"++) if (equal("+h+", "+p+"["+m+"])) { "+d+" = true; break; }",l&&(s+="  }  "),s+=" if (!"+d+") {   ";var g=g||[];g.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { allowedValues: schema"+i+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var w=s;return s=g.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+w+"]); ":s+=" validate.errors = ["+w+"]; return false; ":s+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var km=b((LV,jm)=>{"use strict";jm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||"");if(e.opts.format===!1)return u&&(s+=" if (true) { "),s;var d=e.opts.$data&&o&&o.$data,l;d?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",l="schema"+i):l=o;var v=e.opts.unknownFormats,m=Array.isArray(v);if(d){var p="format"+i,g="isObject"+i,w="formatType"+i;s+=" var "+p+" = formats["+l+"]; var "+g+" = typeof "+p+" == 'object' && !("+p+" instanceof RegExp) && "+p+".validate; var "+w+" = "+g+" && "+p+".type || 'string'; if ("+g+") { ",e.async&&(s+=" var async"+i+" = "+p+".async; "),s+=" "+p+" = "+p+".validate; } if (  ",d&&(s+=" ("+l+" !== undefined && typeof "+l+" != 'string') || "),s+=" (",v!="ignore"&&(s+=" ("+l+" && !"+p+" ",m&&(s+=" && self._opts.unknownFormats.indexOf("+l+") == -1 "),s+=") || "),s+=" ("+p+" && "+w+" == '"+n+"' && !(typeof "+p+" == 'function' ? ",e.async?s+=" (async"+i+" ? await "+p+"("+h+") : "+p+"("+h+")) ":s+=" "+p+"("+h+") ",s+=" : "+p+".test("+h+"))))) {"}else{var p=e.formats[o];if(!p){if(v=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(s+=" if (true) { "),s;if(m&&v.indexOf(o)>=0)return u&&(s+=" if (true) { "),s;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g=typeof p=="object"&&!(p instanceof RegExp)&&p.validate,w=g&&p.type||"string";if(g){var R=p.async===!0;p=p.validate}if(w!=n)return u&&(s+=" if (true) { "),s;if(R){if(!e.async)throw new Error("async format in sync schema");var _="formats"+e.util.getProperty(o)+".validate";s+=" if (!(await "+_+"("+h+"))) { "}else{s+=" if (! ";var _="formats"+e.util.getProperty(o);g&&(_+=".validate"),typeof p=="function"?s+=" "+_+"("+h+") ":s+=" "+_+".test("+h+") ",s+=") { "}}var y=y||[];y.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { format:  ",d?s+=""+l:s+=""+e.util.toQuotedString(o),s+="  } ",e.opts.messages!==!1&&(s+=` , message: 'should match format "`,d?s+="' + "+l+" + '":s+=""+e.util.escapeQuotes(o),s+=`"' `),e.opts.verbose&&(s+=" , schema:  ",d?s+="validate.schema"+c:s+=""+e.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var O=s;return s=y.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+O+"]); ":s+=" validate.errors = ["+O+"]; return false; ":s+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var Fm=b((MV,Dm)=>{"use strict";Dm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+i,l="errs__"+i,v=e.util.copy(e);v.level++;var m="valid"+v.level,p=e.schema.then,g=e.schema.else,w=p!==void 0&&(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all)),R=g!==void 0&&(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all)),_=v.baseId;if(w||R){var y;v.createErrors=!1,v.schema=o,v.schemaPath=c,v.errSchemaPath=f,s+=" var "+l+" = errors; var "+d+" = true;  ";var O=e.compositeRule;e.compositeRule=v.compositeRule=!0,s+="  "+e.validate(v)+" ",v.baseId=_,v.createErrors=!0,s+="  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; }  ",e.compositeRule=v.compositeRule=O,w?(s+=" if ("+m+") {  ",v.schema=e.schema.then,v.schemaPath=e.schemaPath+".then",v.errSchemaPath=e.errSchemaPath+"/then",s+="  "+e.validate(v)+" ",v.baseId=_,s+=" "+d+" = "+m+"; ",w&&R?(y="ifClause"+i,s+=" var "+y+" = 'then'; "):y="'then'",s+=" } ",R&&(s+=" else { ")):s+=" if (!"+m+") { ",R&&(v.schema=e.schema.else,v.schemaPath=e.schemaPath+".else",v.errSchemaPath=e.errSchemaPath+"/else",s+="  "+e.validate(v)+" ",v.baseId=_,s+=" "+d+" = "+m+"; ",w&&R?(y="ifClause"+i,s+=" var "+y+" = 'else'; "):y="'else'",s+=" } "),s+=" if (!"+d+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { failingKeyword: "+y+" } ",e.opts.messages!==!1&&(s+=` , message: 'should match "' + `+y+` + '" schema' `),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" }   ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var Mm=b((HV,Lm)=>{"use strict";Lm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+i,l="errs__"+i,v=e.util.copy(e),m="";v.level++;var p="valid"+v.level,g="i"+i,w=v.dataLevel=e.dataLevel+1,R="data"+w,_=e.baseId;if(s+="var "+l+" = errors;var "+d+";",Array.isArray(o)){var y=e.schema.additionalItems;if(y===!1){s+=" "+d+" = "+h+".length <= "+o.length+"; ";var O=f;f=e.errSchemaPath+"/additionalItems",s+="  if (!"+d+") {   ";var $=$||[];$.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var D=s;s=$.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+D+"]); ":s+=" validate.errors = ["+D+"]; return false; ":s+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",f=O,u&&(m+="}",s+=" else { ")}var C=o;if(C){for(var N,x=-1,k=C.length-1;x<k;)if(N=C[x+=1],e.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:e.util.schemaHasRules(N,e.RULES.all)){s+=" "+p+" = true; if ("+h+".length > "+x+") { ";var j=h+"["+x+"]";v.schema=N,v.schemaPath=c+"["+x+"]",v.errSchemaPath=f+"/"+x,v.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0),v.dataPathArr[w]=x;var q=e.validate(v);v.baseId=_,e.util.varOccurences(q,R)<2?s+=" "+e.util.varReplace(q,R,j)+" ":s+=" var "+R+" = "+j+"; "+q+" ",s+=" }  ",u&&(s+=" if ("+p+") { ",m+="}")}}if(typeof y=="object"&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))){v.schema=y,v.schemaPath=e.schemaPath+".additionalItems",v.errSchemaPath=e.errSchemaPath+"/additionalItems",s+=" "+p+" = true; if ("+h+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+h+".length; "+g+"++) { ",v.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var j=h+"["+g+"]";v.dataPathArr[w]=g;var q=e.validate(v);v.baseId=_,e.util.varOccurences(q,R)<2?s+=" "+e.util.varReplace(q,R,j)+" ":s+=" var "+R+" = "+j+"; "+q+" ",u&&(s+=" if (!"+p+") break; "),s+=" } }  ",u&&(s+=" if ("+p+") { ",m+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){v.schema=o,v.schemaPath=c,v.errSchemaPath=f,s+="  for (var "+g+" = "+0+"; "+g+" < "+h+".length; "+g+"++) { ",v.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var j=h+"["+g+"]";v.dataPathArr[w]=g;var q=e.validate(v);v.baseId=_,e.util.varOccurences(q,R)<2?s+=" "+e.util.varReplace(q,R,j)+" ":s+=" var "+R+" = "+j+"; "+q+" ",u&&(s+=" if (!"+p+") break; "),s+=" }"}return u&&(s+=" "+m+" if ("+l+" == errors) {"),s}});var fu=b((UV,Hm)=>{"use strict";Hm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,d="data"+(a||""),l=e.opts.$data&&o&&o.$data,v;l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o;var m=t=="maximum",p=m?"exclusiveMaximum":"exclusiveMinimum",g=e.schema[p],w=e.opts.$data&&g&&g.$data,R=m?"<":">",_=m?">":"<",h=void 0;if(!(l||typeof o=="number"||o===void 0))throw new Error(t+" must be number");if(!(w||g===void 0||typeof g=="number"||typeof g=="boolean"))throw new Error(p+" must be number or boolean");if(w){var y=e.util.getData(g.$data,a,e.dataPathArr),O="exclusive"+i,$="exclType"+i,D="exclIsNumber"+i,C="op"+i,N="' + "+C+" + '";s+=" var schemaExcl"+i+" = "+y+"; ",y="schemaExcl"+i,s+=" var "+O+"; var "+$+" = typeof "+y+"; if ("+$+" != 'boolean' && "+$+" != 'undefined' && "+$+" != 'number') { ";var h=p,x=x||[];x.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var k=s;s=x.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+k+"]); ":s+=" validate.errors = ["+k+"]; return false; ":s+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" "+$+" == 'number' ? ( ("+O+" = "+v+" === undefined || "+y+" "+R+"= "+v+") ? "+d+" "+_+"= "+y+" : "+d+" "+_+" "+v+" ) : ( ("+O+" = "+y+" === true) ? "+d+" "+_+"= "+v+" : "+d+" "+_+" "+v+" ) || "+d+" !== "+d+") { var op"+i+" = "+O+" ? '"+R+"' : '"+R+"='; ",o===void 0&&(h=p,f=e.errSchemaPath+"/"+p,v=y,l=w)}else{var D=typeof g=="number",N=R;if(D&&l){var C="'"+N+"'";s+=" if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" ( "+v+" === undefined || "+g+" "+R+"= "+v+" ? "+d+" "+_+"= "+g+" : "+d+" "+_+" "+v+" ) || "+d+" !== "+d+") { "}else{D&&o===void 0?(O=!0,h=p,f=e.errSchemaPath+"/"+p,v=g,_+="="):(D&&(v=Math[m?"min":"max"](g,o)),g===(D?v:!0)?(O=!0,h=p,f=e.errSchemaPath+"/"+p,_+="="):(O=!1,N+="="));var C="'"+N+"'";s+=" if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" "+d+" "+_+" "+v+" || "+d+" !== "+d+") { "}}h=h||t;var x=x||[];x.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { comparison: "+C+", limit: "+v+", exclusive: "+O+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be "+N+" ",l?s+="' + "+v:s+=""+v+"'"),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var k=s;return s=x.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+k+"]); ":s+=" validate.errors = ["+k+"]; return false; ":s+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var hu=b((VV,Um)=>{"use strict";Um.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,d="data"+(a||""),l=e.opts.$data&&o&&o.$data,v;if(l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,!(l||typeof o=="number"))throw new Error(t+" must be number");var m=t=="maxItems"?">":"<";s+="if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" "+d+".length "+m+" "+v+") { ";var h=t,p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+v+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",t=="maxItems"?s+="more":s+="fewer",s+=" than ",l?s+="' + "+v+" + '":s+=""+o,s+=" items' "),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=p.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var du=b((zV,Vm)=>{"use strict";Vm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,d="data"+(a||""),l=e.opts.$data&&o&&o.$data,v;if(l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,!(l||typeof o=="number"))throw new Error(t+" must be number");var m=t=="maxLength"?">":"<";s+="if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),e.opts.unicode===!1?s+=" "+d+".length ":s+=" ucs2length("+d+") ",s+=" "+m+" "+v+") { ";var h=t,p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+v+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be ",t=="maxLength"?s+="longer":s+="shorter",s+=" than ",l?s+="' + "+v+" + '":s+=""+o,s+=" characters' "),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=p.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var pu=b((BV,zm)=>{"use strict";zm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,d="data"+(a||""),l=e.opts.$data&&o&&o.$data,v;if(l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,!(l||typeof o=="number"))throw new Error(t+" must be number");var m=t=="maxProperties"?">":"<";s+="if ( ",l&&(s+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),s+=" Object.keys("+d+").length "+m+" "+v+") { ";var h=t,p=p||[];p.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+v+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",t=="maxProperties"?s+="more":s+="fewer",s+=" than ",l?s+="' + "+v+" + '":s+=""+o,s+=" properties' "),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=p.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Gm=b((GV,Bm)=>{"use strict";Bm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&o&&o.$data,l;if(d?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",l="schema"+i):l=o,!(d||typeof o=="number"))throw new Error(t+" must be number");s+="var division"+i+";if (",d&&(s+=" "+l+" !== undefined && ( typeof "+l+" != 'number' || "),s+=" (division"+i+" = "+h+" / "+l+", ",e.opts.multipleOfPrecision?s+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":s+=" division"+i+" !== parseInt(division"+i+") ",s+=" ) ",d&&(s+="  )  "),s+=" ) {   ";var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { multipleOf: "+l+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be multiple of ",d?s+="' + "+l:s+=""+l+"'"),e.opts.verbose&&(s+=" , schema:  ",d?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var m=s;return s=v.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+m+"]); ":s+=" validate.errors = ["+m+"]; return false; ":s+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Jm=b((KV,Km)=>{"use strict";Km.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="errs__"+i,l=e.util.copy(e);l.level++;var v="valid"+l.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){l.schema=o,l.schemaPath=c,l.errSchemaPath=f,s+=" var "+d+" = errors;  ";var m=e.compositeRule;e.compositeRule=l.compositeRule=!0,l.createErrors=!1;var p;l.opts.allErrors&&(p=l.opts.allErrors,l.opts.allErrors=!1),s+=" "+e.validate(l)+" ",l.createErrors=!0,p&&(l.opts.allErrors=p),e.compositeRule=l.compositeRule=m,s+=" if ("+v+") {   ";var g=g||[];g.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var w=s;s=g.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+w+"]); ":s+=" validate.errors = ["+w+"]; return false; ":s+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } ")}else s+="  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(s+=" if (false) { ");return s}});var Qm=b((JV,Wm)=>{"use strict";Wm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+i,l="errs__"+i,v=e.util.copy(e),m="";v.level++;var p="valid"+v.level,g=v.baseId,w="prevValid"+i,R="passingSchemas"+i;s+="var "+l+" = errors , "+w+" = false , "+d+" = false , "+R+" = null; ";var _=e.compositeRule;e.compositeRule=v.compositeRule=!0;var y=o;if(y)for(var O,$=-1,D=y.length-1;$<D;)O=y[$+=1],(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))?(v.schema=O,v.schemaPath=c+"["+$+"]",v.errSchemaPath=f+"/"+$,s+="  "+e.validate(v)+" ",v.baseId=g):s+=" var "+p+" = true; ",$&&(s+=" if ("+p+" && "+w+") { "+d+" = false; "+R+" = ["+R+", "+$+"]; } else { ",m+="}"),s+=" if ("+p+") { "+d+" = "+w+" = true; "+R+" = "+$+"; }";return e.compositeRule=v.compositeRule=_,s+=""+m+"if (!"+d+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { passingSchemas: "+R+" } ",e.opts.messages!==!1&&(s+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+="} else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; }",e.opts.allErrors&&(s+=" } "),s}});var Xm=b((WV,Ym)=>{"use strict";Ym.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&o&&o.$data,l;d?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",l="schema"+i):l=o;var v=d?"(new RegExp("+l+"))":e.usePattern(o);s+="if ( ",d&&(s+=" ("+l+" !== undefined && typeof "+l+" != 'string') || "),s+=" !"+v+".test("+h+") ) {   ";var m=m||[];m.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { pattern:  ",d?s+=""+l:s+=""+e.util.toQuotedString(o),s+="  } ",e.opts.messages!==!1&&(s+=` , message: 'should match pattern "`,d?s+="' + "+l+" + '":s+=""+e.util.escapeQuotes(o),s+=`"' `),e.opts.verbose&&(s+=" , schema:  ",d?s+="validate.schema"+c:s+=""+e.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var p=s;return s=m.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+p+"]); ":s+=" validate.errors = ["+p+"]; return false; ":s+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var ev=b((QV,Zm)=>{"use strict";Zm.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="errs__"+i,l=e.util.copy(e),v="";l.level++;var m="valid"+l.level,p="key"+i,g="idx"+i,w=l.dataLevel=e.dataLevel+1,R="data"+w,_="dataProperties"+i,y=Object.keys(o||{}).filter(H),O=e.schema.patternProperties||{},$=Object.keys(O).filter(H),D=e.schema.additionalProperties,C=y.length||$.length,N=D===!1,x=typeof D=="object"&&Object.keys(D).length,k=e.opts.removeAdditional,j=N||x||k,q=e.opts.ownProperties,L=e.baseId,Y=e.schema.required;if(Y&&!(e.opts.$data&&Y.$data)&&Y.length<e.opts.loopRequired)var Q=e.util.toHash(Y);function H(Kr){return Kr!=="__proto__"}if(s+="var "+d+" = errors;var "+m+" = true;",q&&(s+=" var "+_+" = undefined;"),j){if(q?s+=" "+_+" = "+_+" || Object.keys("+h+"); for (var "+g+"=0; "+g+"<"+_+".length; "+g+"++) { var "+p+" = "+_+"["+g+"]; ":s+=" for (var "+p+" in "+h+") { ",C){if(s+=" var isAdditional"+i+" = !(false ",y.length)if(y.length>8)s+=" || validate.schema"+c+".hasOwnProperty("+p+") ";else{var X=y;if(X)for(var U,B=-1,J=X.length-1;B<J;)U=X[B+=1],s+=" || "+p+" == "+e.util.toQuotedString(U)+" "}if($.length){var ee=$;if(ee)for(var A,F=-1,V=ee.length-1;F<V;)A=ee[F+=1],s+=" || "+e.usePattern(A)+".test("+p+") "}s+=" ); if (isAdditional"+i+") { "}if(k=="all")s+=" delete "+h+"["+p+"]; ";else{var Z=e.errorPath,ue="' + "+p+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers)),N)if(k)s+=" delete "+h+"["+p+"]; ";else{s+=" "+m+" = false; ";var pe=f;f=e.errSchemaPath+"/additionalProperties";var we=we||[];we.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { additionalProperty: '"+ue+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is an invalid additional property":s+="should NOT have additional properties",s+="' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var be=s;s=we.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+be+"]); ":s+=" validate.errors = ["+be+"]; return false; ":s+=" var err = "+be+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f=pe,u&&(s+=" break; ")}else if(x)if(k=="failing"){s+=" var "+d+" = errors;  ";var Wt=e.compositeRule;e.compositeRule=l.compositeRule=!0,l.schema=D,l.schemaPath=e.schemaPath+".additionalProperties",l.errSchemaPath=e.errSchemaPath+"/additionalProperties",l.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers);var sr=h+"["+p+"]";l.dataPathArr[w]=p;var Ee=e.validate(l);l.baseId=L,e.util.varOccurences(Ee,R)<2?s+=" "+e.util.varReplace(Ee,R,sr)+" ":s+=" var "+R+" = "+sr+"; "+Ee+" ",s+=" if (!"+m+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+p+"]; }  ",e.compositeRule=l.compositeRule=Wt}else{l.schema=D,l.schemaPath=e.schemaPath+".additionalProperties",l.errSchemaPath=e.errSchemaPath+"/additionalProperties",l.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers);var sr=h+"["+p+"]";l.dataPathArr[w]=p;var Ee=e.validate(l);l.baseId=L,e.util.varOccurences(Ee,R)<2?s+=" "+e.util.varReplace(Ee,R,sr)+" ":s+=" var "+R+" = "+sr+"; "+Ee+" ",u&&(s+=" if (!"+m+") break; ")}e.errorPath=Z}C&&(s+=" } "),s+=" }  ",u&&(s+=" if ("+m+") { ",v+="}")}var Ot=e.opts.useDefaults&&!e.compositeRule;if(y.length){var gt=y;if(gt)for(var U,Qt=-1,Yt=gt.length-1;Qt<Yt;){U=gt[Qt+=1];var We=o[U];if(e.opts.strictKeywords?typeof We=="object"&&Object.keys(We).length>0||We===!1:e.util.schemaHasRules(We,e.RULES.all)){var Ir=e.util.getProperty(U),sr=h+Ir,vr=Ot&&We.default!==void 0;l.schema=We,l.schemaPath=c+Ir,l.errSchemaPath=f+"/"+e.util.escapeFragment(U),l.errorPath=e.util.getPath(e.errorPath,U,e.opts.jsonPointers),l.dataPathArr[w]=e.util.toQuotedString(U);var Ee=e.validate(l);if(l.baseId=L,e.util.varOccurences(Ee,R)<2){Ee=e.util.varReplace(Ee,R,sr);var ur=sr}else{var ur=R;s+=" var "+R+" = "+sr+"; "}if(vr)s+=" "+Ee+" ";else{if(Q&&Q[U]){s+=" if ( "+ur+" === undefined ",q&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(U)+"') "),s+=") { "+m+" = false; ";var Z=e.errorPath,pe=f,rt=e.util.escapeQuotes(U);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Z,U,e.opts.jsonPointers)),f=e.errSchemaPath+"/required";var we=we||[];we.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+rt+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+rt+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var be=s;s=we.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+be+"]); ":s+=" validate.errors = ["+be+"]; return false; ":s+=" var err = "+be+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f=pe,e.errorPath=Z,s+=" } else { "}else u?(s+=" if ( "+ur+" === undefined ",q&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(U)+"') "),s+=") { "+m+" = true; } else { "):(s+=" if ("+ur+" !== undefined ",q&&(s+=" &&   Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(U)+"') "),s+=" ) { ");s+=" "+Ee+" } "}}u&&(s+=" if ("+m+") { ",v+="}")}}if($.length){var _r=$;if(_r)for(var A,ea=-1,ql=_r.length-1;ea<ql;){A=_r[ea+=1];var We=O[A];if(e.opts.strictKeywords?typeof We=="object"&&Object.keys(We).length>0||We===!1:e.util.schemaHasRules(We,e.RULES.all)){l.schema=We,l.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(A),l.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(A),q?s+=" "+_+" = "+_+" || Object.keys("+h+"); for (var "+g+"=0; "+g+"<"+_+".length; "+g+"++) { var "+p+" = "+_+"["+g+"]; ":s+=" for (var "+p+" in "+h+") { ",s+=" if ("+e.usePattern(A)+".test("+p+")) { ",l.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers);var sr=h+"["+p+"]";l.dataPathArr[w]=p;var Ee=e.validate(l);l.baseId=L,e.util.varOccurences(Ee,R)<2?s+=" "+e.util.varReplace(Ee,R,sr)+" ":s+=" var "+R+" = "+sr+"; "+Ee+" ",u&&(s+=" if (!"+m+") break; "),s+=" } ",u&&(s+=" else "+m+" = true; "),s+=" }  ",u&&(s+=" if ("+m+") { ",v+="}")}}}return u&&(s+=" "+v+" if ("+d+" == errors) {"),s}});var tv=b((YV,rv)=>{"use strict";rv.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="errs__"+i,l=e.util.copy(e),v="";l.level++;var m="valid"+l.level;if(s+="var "+d+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){l.schema=o,l.schemaPath=c,l.errSchemaPath=f;var p="key"+i,g="idx"+i,w="i"+i,R="' + "+p+" + '",_=l.dataLevel=e.dataLevel+1,y="data"+_,O="dataProperties"+i,$=e.opts.ownProperties,D=e.baseId;$&&(s+=" var "+O+" = undefined; "),$?s+=" "+O+" = "+O+" || Object.keys("+h+"); for (var "+g+"=0; "+g+"<"+O+".length; "+g+"++) { var "+p+" = "+O+"["+g+"]; ":s+=" for (var "+p+" in "+h+") { ",s+=" var startErrs"+i+" = errors; ";var C=p,N=e.compositeRule;e.compositeRule=l.compositeRule=!0;var x=e.validate(l);l.baseId=D,e.util.varOccurences(x,y)<2?s+=" "+e.util.varReplace(x,y,C)+" ":s+=" var "+y+" = "+C+"; "+x+" ",e.compositeRule=l.compositeRule=N,s+=" if (!"+m+") { for (var "+w+"=startErrs"+i+"; "+w+"<errors; "+w+"++) { vErrors["+w+"].propertyName = "+p+"; }   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { propertyName: '"+R+"' } ",e.opts.messages!==!1&&(s+=" , message: 'property name \\'"+R+"\\' is invalid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),u&&(s+=" break; "),s+=" } }"}return u&&(s+=" "+v+" if ("+d+" == errors) {"),s}});var nv=b((XV,sv)=>{"use strict";sv.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+i,l=e.opts.$data&&o&&o.$data,v;l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o;var m="schema"+i;if(!l)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],g=o;if(g)for(var w,R=-1,_=g.length-1;R<_;){w=g[R+=1];var y=e.schema.properties[w];y&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))||(p[p.length]=w)}}else var p=o;if(l||p.length){var O=e.errorPath,$=l||p.length>=e.opts.loopRequired,D=e.opts.ownProperties;if(u)if(s+=" var missing"+i+"; ",$){l||(s+=" var "+m+" = validate.schema"+c+"; ");var C="i"+i,N="schema"+i+"["+C+"]",x="' + "+N+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,N,e.opts.jsonPointers)),s+=" var "+d+" = true; ",l&&(s+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),s+=" for (var "+C+" = 0; "+C+" < "+m+".length; "+C+"++) { "+d+" = "+h+"["+m+"["+C+"]] !== undefined ",D&&(s+=" &&   Object.prototype.hasOwnProperty.call("+h+", "+m+"["+C+"]) "),s+="; if (!"+d+") break; } ",l&&(s+="  }  "),s+="  if (!"+d+") {   ";var k=k||[];k.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var j=s;s=k.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+j+"]); ":s+=" validate.errors = ["+j+"]; return false; ":s+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else{s+=" if ( ";var q=p;if(q)for(var L,C=-1,Y=q.length-1;C<Y;){L=q[C+=1],C&&(s+=" || ");var Q=e.util.getProperty(L),H=h+Q;s+=" ( ( "+H+" === undefined ",D&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(L)+"') "),s+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?L:Q)+") ) "}s+=") {  ";var N="missing"+i,x="' + "+N+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,N,!0):O+" + "+N);var k=k||[];k.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var j=s;s=k.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+j+"]); ":s+=" validate.errors = ["+j+"]; return false; ":s+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else if($){l||(s+=" var "+m+" = validate.schema"+c+"; ");var C="i"+i,N="schema"+i+"["+C+"]",x="' + "+N+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,N,e.opts.jsonPointers)),l&&(s+=" if ("+m+" && !Array.isArray("+m+")) {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+m+" !== undefined) { "),s+=" for (var "+C+" = 0; "+C+" < "+m+".length; "+C+"++) { if ("+h+"["+m+"["+C+"]] === undefined ",D&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", "+m+"["+C+"]) "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",l&&(s+="  }  ")}else{var X=p;if(X)for(var L,U=-1,B=X.length-1;U<B;){L=X[U+=1];var Q=e.util.getProperty(L),x=e.util.escapeQuotes(L),H=h+Q;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,L,e.opts.jsonPointers)),s+=" if ( "+H+" === undefined ",D&&(s+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(L)+"') "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+x+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+x+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=O}else u&&(s+=" if (true) {");return s}});var av=b((ZV,iv)=>{"use strict";iv.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+i,l=e.opts.$data&&o&&o.$data,v;if(l?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+i):v=o,(o||l)&&e.opts.uniqueItems!==!1){l&&(s+=" var "+d+"; if ("+v+" === false || "+v+" === undefined) "+d+" = true; else if (typeof "+v+" != 'boolean') "+d+" = false; else { "),s+=" var i = "+h+".length , "+d+" = true , j; if (i > 1) { ";var m=e.schema.items&&e.schema.items.type,p=Array.isArray(m);if(!m||m=="object"||m=="array"||p&&(m.indexOf("object")>=0||m.indexOf("array")>=0))s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+d+" = false; break outer; } } } ";else{s+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var g="checkDataType"+(p?"s":"");s+=" if ("+e.util[g](m,"item",e.opts.strictNumbers,!0)+") continue; ",p&&(s+=` if (typeof item == 'string') item = '"' + item; `),s+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}s+=" } ",l&&(s+="  }  "),s+=" if (!"+d+") {   ";var w=w||[];w.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(s+=" , schema:  ",l?s+="validate.schema"+c:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var R=s;s=w.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+R+"]); ":s+=" validate.errors = ["+R+"]; return false; ":s+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var lv=b((ez,ov)=>{"use strict";ov.exports={$ref:Em(),allOf:_m(),anyOf:Pm(),$comment:$m(),const:Tm(),contains:Cm(),dependencies:Am(),enum:xm(),format:km(),if:Fm(),items:Mm(),maximum:fu(),minimum:fu(),maxItems:hu(),minItems:hu(),maxLength:du(),minLength:du(),maxProperties:pu(),minProperties:pu(),multipleOf:Gm(),not:Jm(),oneOf:Qm(),pattern:Xm(),properties:ev(),propertyNames:tv(),required:nv(),uniqueItems:av(),validate:lu()}});var fv=b((rz,cv)=>{"use strict";var uv=lv(),mu=ts().toHash;cv.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],s=["number","integer","string","array","object","boolean","null"];return e.all=mu(t),e.types=mu(s),e.forEach(function(i){i.rules=i.rules.map(function(a){var o;if(typeof a=="object"){var c=Object.keys(a)[0];o=a[c],a=c,o.forEach(function(u){t.push(u),e.all[u]=!0})}t.push(a);var f=e.all[a]={keyword:a,code:uv[a],implements:o};return f}),e.all.$comment={keyword:"$comment",code:uv.$comment},i.type&&(e.types[i.type]=i)}),e.keywords=mu(t.concat(n)),e.custom={},e}});var pv=b((tz,dv)=>{"use strict";var hv=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];dv.exports=function(r,e){for(var t=0;t<e.length;t++){r=JSON.parse(JSON.stringify(r));var n=e[t].split("/"),s=r,i;for(i=1;i<n.length;i++)s=s[n[i]];for(i=0;i<hv.length;i++){var a=hv[i],o=s[a];o&&(s[a]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return r}});var gv=b((sz,vv)=>{"use strict";var wT=wa().MissingRef;vv.exports=mv;function mv(r,e,t){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var s=i(r).then(function(){var o=n._addSchema(r,void 0,e);return o.validate||a(o)});return t&&s.then(function(o){t(null,o)},t),s;function i(o){var c=o.$schema;return c&&!n.getSchema(c)?mv.call(n,{$ref:c},!0):Promise.resolve()}function a(o){try{return n._compile(o)}catch(f){if(f instanceof wT)return c(f);throw f}function c(f){var u=f.missingSchema;if(l(u))throw new Error("Schema "+u+" is loaded but "+f.missingRef+" cannot be resolved");var h=n._loadingSchemas[u];return h||(h=n._loadingSchemas[u]=n._opts.loadSchema(u),h.then(d,d)),h.then(function(v){if(!l(u))return i(v).then(function(){l(u)||n.addSchema(v,u,void 0,e)})}).then(function(){return a(o)});function d(){delete n._loadingSchemas[u]}function l(v){return n._refs[v]||n._schemas[v]}}}}});var bv=b((nz,yv)=>{"use strict";yv.exports=function(e,t,n){var s=" ",i=e.level,a=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h,d="data"+(a||""),l="valid"+i,v="errs__"+i,m=e.opts.$data&&o&&o.$data,p;m?(s+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",p="schema"+i):p=o;var g=this,w="definition"+i,R=g.definition,_="",y,O,$,D,C;if(m&&R.$data){C="keywordValidate"+i;var N=R.validateSchema;s+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+C+" = "+w+".validate;"}else{if(D=e.useCustomRule(g,o,e.schema,e),!D)return;p="validate.schema"+c,C=D.code,y=R.compile,O=R.inline,$=R.macro}var x=C+".errors",k="i"+i,j="ruleErr"+i,q=R.async;if(q&&!e.async)throw new Error("async keyword in sync schema");if(O||$||(s+=""+x+" = null;"),s+="var "+v+" = errors;var "+l+";",m&&R.$data&&(_+="}",s+=" if ("+p+" === undefined) { "+l+" = true; } else { ",N&&(_+="}",s+=" "+l+" = "+w+".validateSchema("+p+"); if ("+l+") { ")),O)R.statements?s+=" "+D.validate+" ":s+=" "+l+" = "+D.validate+"; ";else if($){var L=e.util.copy(e),_="";L.level++;var Y="valid"+L.level;L.schema=D.validate,L.schemaPath="";var Q=e.compositeRule;e.compositeRule=L.compositeRule=!0;var H=e.validate(L).replace(/validate\.schema/g,C);e.compositeRule=L.compositeRule=Q,s+=" "+H}else{var X=X||[];X.push(s),s="",s+="  "+C+".call( ",e.opts.passContext?s+="this":s+="self",y||R.schema===!1?s+=" , "+d+" ":s+=" , "+p+" , "+d+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",e.errorPath!='""'&&(s+=" + "+e.errorPath);var U=a?"data"+(a-1||""):"parentData",B=a?e.dataPathArr[a]:"parentDataProperty";s+=" , "+U+" , "+B+" , rootData )  ";var J=s;s=X.pop(),R.errors===!1?(s+=" "+l+" = ",q&&(s+="await "),s+=""+J+"; "):q?(x="customErrors"+i,s+=" var "+x+" = null; try { "+l+" = await "+J+"; } catch (e) { "+l+" = false; if (e instanceof ValidationError) "+x+" = e.errors; else throw e; } "):s+=" "+x+" = null; "+l+" = "+J+"; "}if(R.modifying&&(s+=" if ("+U+") "+d+" = "+U+"["+B+"];"),s+=""+_,R.valid)u&&(s+=" if (true) { ");else{s+=" if ( ",R.valid===void 0?(s+=" !",$?s+=""+Y:s+=""+l):s+=" "+!R.valid+" ",s+=") { ",h=g.keyword;var X=X||[];X.push(s),s="";var X=X||[];X.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(s+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var ee=s;s=X.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+ee+"]); ":s+=" validate.errors = ["+ee+"]; return false; ":s+=" var err = "+ee+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var A=s;s=X.pop(),O?R.errors?R.errors!="full"&&(s+="  for (var "+k+"="+v+"; "+k+"<errors; "+k+"++) { var "+j+" = vErrors["+k+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+j+".schemaPath === undefined) { "+j+'.schemaPath = "'+f+'"; } ',e.opts.verbose&&(s+=" "+j+".schema = "+p+"; "+j+".data = "+d+"; "),s+=" } "):R.errors===!1?s+=" "+A+" ":(s+=" if ("+v+" == errors) { "+A+" } else {  for (var "+k+"="+v+"; "+k+"<errors; "+k+"++) { var "+j+" = vErrors["+k+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+j+".schemaPath === undefined) { "+j+'.schemaPath = "'+f+'"; } ',e.opts.verbose&&(s+=" "+j+".schema = "+p+"; "+j+".data = "+d+"; "),s+=" } } "):$?(s+="   var err =   ",e.createErrors!==!1?(s+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(s+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):R.errors===!1?s+=" "+A+" ":(s+=" if (Array.isArray("+x+")) { if (vErrors === null) vErrors = "+x+"; else vErrors = vErrors.concat("+x+"); errors = vErrors.length;  for (var "+k+"="+v+"; "+k+"<errors; "+k+"++) { var "+j+" = vErrors["+k+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+";  "+j+'.schemaPath = "'+f+'";  ',e.opts.verbose&&(s+=" "+j+".schema = "+p+"; "+j+".data = "+d+"; "),s+=" } } else { "+A+" } "),s+=" } ",u&&(s+=" else { ")}return s}});var vu=b((iz,_T)=>{_T.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var _v=b((az,wv)=>{"use strict";var Ev=vu();wv.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Ev.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Ev.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var Pv=b((oz,Sv)=>{"use strict";var ST=/^[a-z_$][a-z0-9_$-]*$/i,PT=bv(),RT=_v();Sv.exports={add:$T,get:OT,remove:TT,validate:gu};function $T(r,e){var t=this.RULES;if(t.keywords[r])throw new Error("Keyword "+r+" is already defined");if(!ST.test(r))throw new Error("Keyword "+r+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var s=0;s<n.length;s++)a(r,n[s],e);else a(r,n,e);var i=e.metaSchema;i&&(e.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(i,!0))}t.keywords[r]=t.all[r]=!0;function a(o,c,f){for(var u,h=0;h<t.length;h++){var d=t[h];if(d.type==c){u=d;break}}u||(u={type:c,rules:[]},t.push(u));var l={keyword:o,definition:f,custom:!0,code:PT,implements:f.implements};u.rules.push(l),t.custom[o]=l}return this}function OT(r){var e=this.RULES.custom[r];return e?e.definition:this.RULES.keywords[r]||!1}function TT(r){var e=this.RULES;delete e.keywords[r],delete e.all[r],delete e.custom[r];for(var t=0;t<e.length;t++)for(var n=e[t].rules,s=0;s<n.length;s++)if(n[s].keyword==r){n.splice(s,1);break}return this}function gu(r,e){gu.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(RT,!0);if(t(r))return!0;if(gu.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}});var Rv=b((lz,IT)=>{IT.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var bu=b((uz,xv)=>{"use strict";var $v=im(),ss=Ea(),CT=om(),Ov=ru(),qT=ou(),AT=cu(),NT=fv(),Tv=pv(),Iv=ts();xv.exports=ke;ke.prototype.validate=jT;ke.prototype.compile=kT;ke.prototype.addSchema=DT;ke.prototype.addMetaSchema=FT;ke.prototype.validateSchema=LT;ke.prototype.getSchema=HT;ke.prototype.removeSchema=VT;ke.prototype.addFormat=YT;ke.prototype.errorsText=QT;ke.prototype._addSchema=zT;ke.prototype._compile=BT;ke.prototype.compileAsync=gv();var Oa=Pv();ke.prototype.addKeyword=Oa.add;ke.prototype.getKeyword=Oa.get;ke.prototype.removeKeyword=Oa.remove;ke.prototype.validateKeyword=Oa.validate;var Cv=wa();ke.ValidationError=Cv.Validation;ke.MissingRefError=Cv.MissingRef;ke.$dataMetaSchema=Tv;var Ta="http://json-schema.org/draft-07/schema",qv=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],xT=["/properties"];function ke(r){if(!(this instanceof ke))return new ke(r);r=this._opts=Iv.copy(r)||{},sI(this),this._schemas={},this._refs={},this._fragments={},this._formats=AT(r.format),this._cache=r.cache||new CT,this._loadingSchemas={},this._compilations=[],this.RULES=NT(),this._getId=GT(r),r.loopRequired=r.loopRequired||1/0,r.errorDataPath=="property"&&(r._errorDataPathProperty=!0),r.serialize===void 0&&(r.serialize=qT),this._metaOpts=tI(this),r.formats&&eI(this),r.keywords&&rI(this),XT(this),typeof r.meta=="object"&&this.addMetaSchema(r.meta),r.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),ZT(this)}function jT(r,e){var t;if(typeof r=="string"){if(t=this.getSchema(r),!t)throw new Error('no schema with key or ref "'+r+'"')}else{var n=this._addSchema(r);t=n.validate||this._compile(n)}var s=t(e);return t.$async!==!0&&(this.errors=t.errors),s}function kT(r,e){var t=this._addSchema(r,void 0,e);return t.validate||this._compile(t)}function DT(r,e,t,n){if(Array.isArray(r)){for(var s=0;s<r.length;s++)this.addSchema(r[s],void 0,t,n);return this}var i=this._getId(r);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return e=ss.normalizeId(e||i),Nv(this,e),this._schemas[e]=this._addSchema(r,t,n,!0),this}function FT(r,e,t){return this.addSchema(r,e,t,!0),this}function LT(r,e){var t=r.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||MT(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(t,r);if(!n&&e){var s="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(s);else throw new Error(s)}return n}function MT(r){var e=r._opts.meta;return r._opts.defaultMeta=typeof e=="object"?r._getId(e)||e:r.getSchema(Ta)?Ta:void 0,r._opts.defaultMeta}function HT(r){var e=Av(this,r);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return UT(this,r)}}function UT(r,e){var t=ss.schema.call(r,{schema:{}},e);if(t){var n=t.schema,s=t.root,i=t.baseId,a=$v.call(r,n,s,void 0,i);return r._fragments[e]=new Ov({ref:e,fragment:!0,schema:n,root:s,baseId:i,validate:a}),a}}function Av(r,e){return e=ss.normalizeId(e),r._schemas[e]||r._refs[e]||r._fragments[e]}function VT(r){if(r instanceof RegExp)return Ia(this,this._schemas,r),Ia(this,this._refs,r),this;switch(typeof r){case"undefined":return Ia(this,this._schemas),Ia(this,this._refs),this._cache.clear(),this;case"string":var e=Av(this,r);return e&&this._cache.del(e.cacheKey),delete this._schemas[r],delete this._refs[r],this;case"object":var t=this._opts.serialize,n=t?t(r):r;this._cache.del(n);var s=this._getId(r);s&&(s=ss.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this}function Ia(r,e,t){for(var n in e){var s=e[n];!s.meta&&(!t||t.test(n))&&(r._cache.del(s.cacheKey),delete e[n])}}function zT(r,e,t,n){if(typeof r!="object"&&typeof r!="boolean")throw new Error("schema should be object or boolean");var s=this._opts.serialize,i=s?s(r):r,a=this._cache.get(i);if(a)return a;n=n||this._opts.addUsedSchema!==!1;var o=ss.normalizeId(this._getId(r));o&&n&&Nv(this,o);var c=this._opts.validateSchema!==!1&&!e,f;c&&!(f=o&&o==ss.normalizeId(r.$schema))&&this.validateSchema(r,!0);var u=ss.ids.call(this,r),h=new Ov({id:o,schema:r,localRefs:u,cacheKey:i,meta:t});return o[0]!="#"&&n&&(this._refs[o]=h),this._cache.put(i,h),c&&f&&this.validateSchema(r,!0),h}function BT(r,e){if(r.compiling)return r.validate=s,s.schema=r.schema,s.errors=null,s.root=e||s,r.schema.$async===!0&&(s.$async=!0),s;r.compiling=!0;var t;r.meta&&(t=this._opts,this._opts=this._metaOpts);var n;try{n=$v.call(this,r.schema,e,r.localRefs)}catch(i){throw delete r.validate,i}finally{r.compiling=!1,r.meta&&(this._opts=t)}return r.validate=n,r.refs=n.refs,r.refVal=n.refVal,r.root=n.root,n;function s(){var i=r.validate,a=i.apply(this,arguments);return s.errors=i.errors,a}}function GT(r){switch(r.schemaId){case"auto":return WT;case"id":return KT;default:return JT}}function KT(r){return r.$id&&this.logger.warn("schema $id ignored",r.$id),r.id}function JT(r){return r.id&&this.logger.warn("schema id ignored",r.id),r.$id}function WT(r){if(r.$id&&r.id&&r.$id!=r.id)throw new Error("schema $id is different from id");return r.$id||r.id}function QT(r,e){if(r=r||this.errors,!r)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,s="",i=0;i<r.length;i++){var a=r[i];a&&(s+=n+a.dataPath+" "+a.message+t)}return s.slice(0,-t.length)}function YT(r,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[r]=e,this}function XT(r){var e;if(r._opts.$data&&(e=Rv(),r.addMetaSchema(e,e.$id,!0)),r._opts.meta!==!1){var t=vu();r._opts.$data&&(t=Tv(t,xT)),r.addMetaSchema(t,Ta,!0),r._refs["http://json-schema.org/schema"]=Ta}}function ZT(r){var e=r._opts.schemas;if(!!e)if(Array.isArray(e))r.addSchema(e);else for(var t in e)r.addSchema(e[t],t)}function eI(r){for(var e in r._opts.formats){var t=r._opts.formats[e];r.addFormat(e,t)}}function rI(r){for(var e in r._opts.keywords){var t=r._opts.keywords[e];r.addKeyword(e,t)}}function Nv(r,e){if(r._schemas[e]||r._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function tI(r){for(var e=Iv.copy(r._opts),t=0;t<qv.length;t++)delete e[qv[t]];return e}function sI(r){var e=r._opts.logger;if(e===!1)r.logger={log:yu,warn:yu,error:yu};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");r.logger=e}}function yu(){}});var Fv=b((cz,Dv)=>{"use strict";var nI=function(e){return iI(e)&&!aI(e)};function iI(r){return!!r&&typeof r=="object"}function aI(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||uI(r)}var oI=typeof Symbol=="function"&&Symbol.for,lI=oI?Symbol.for("react.element"):60103;function uI(r){return r.$$typeof===lI}function cI(r){return Array.isArray(r)?[]:{}}function Un(r,e){return e.clone!==!1&&e.isMergeableObject(r)?Bs(cI(r),r,e):r}function fI(r,e,t){return r.concat(e).map(function(n){return Un(n,t)})}function hI(r,e){if(!e.customMerge)return Bs;var t=e.customMerge(r);return typeof t=="function"?t:Bs}function dI(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return r.propertyIsEnumerable(e)}):[]}function jv(r){return Object.keys(r).concat(dI(r))}function kv(r,e){try{return e in r}catch{return!1}}function pI(r,e){return kv(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function mI(r,e,t){var n={};return t.isMergeableObject(r)&&jv(r).forEach(function(s){n[s]=Un(r[s],t)}),jv(e).forEach(function(s){pI(r,s)||(kv(r,s)&&t.isMergeableObject(e[s])?n[s]=hI(s,t)(r[s],e[s],t):n[s]=Un(e[s],t))}),n}function Bs(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||fI,t.isMergeableObject=t.isMergeableObject||nI,t.cloneUnlessOtherwiseSpecified=Un;var n=Array.isArray(e),s=Array.isArray(r),i=n===s;return i?n?t.arrayMerge(r,e,t):mI(r,e,t):Un(e,t)}Bs.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return Bs(n,s,t)},{})};var vI=Bs;Dv.exports=vI});var Ca=b((fz,Lv)=>{"use strict";Lv.exports=gI;function Gs(r){return r instanceof Buffer?Buffer.from(r):new r.constructor(r.buffer.slice(),r.byteOffset,r.length)}function gI(r){if(r=r||{},r.circles)return yI(r);return r.proto?n:t;function e(s,i){for(var a=Object.keys(s),o=new Array(a.length),c=0;c<a.length;c++){var f=a[c],u=s[f];typeof u!="object"||u===null?o[f]=u:u instanceof Date?o[f]=new Date(u):ArrayBuffer.isView(u)?o[f]=Gs(u):o[f]=i(u)}return o}function t(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return e(s,t);if(s instanceof Map)return new Map(e(Array.from(s),t));if(s instanceof Set)return new Set(e(Array.from(s),t));var i={};for(var a in s)if(Object.hasOwnProperty.call(s,a)!==!1){var o=s[a];typeof o!="object"||o===null?i[a]=o:o instanceof Date?i[a]=new Date(o):o instanceof Map?i[a]=new Map(e(Array.from(o),t)):o instanceof Set?i[a]=new Set(e(Array.from(o),t)):ArrayBuffer.isView(o)?i[a]=Gs(o):i[a]=t(o)}return i}function n(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return e(s,n);if(s instanceof Map)return new Map(e(Array.from(s),n));if(s instanceof Set)return new Set(e(Array.from(s),n));var i={};for(var a in s){var o=s[a];typeof o!="object"||o===null?i[a]=o:o instanceof Date?i[a]=new Date(o):o instanceof Map?i[a]=new Map(e(Array.from(o),n)):o instanceof Set?i[a]=new Set(e(Array.from(o),n)):ArrayBuffer.isView(o)?i[a]=Gs(o):i[a]=n(o)}return i}}function yI(r){var e=[],t=[];return r.proto?i:s;function n(a,o){for(var c=Object.keys(a),f=new Array(c.length),u=0;u<c.length;u++){var h=c[u],d=a[h];if(typeof d!="object"||d===null)f[h]=d;else if(d instanceof Date)f[h]=new Date(d);else if(ArrayBuffer.isView(d))f[h]=Gs(d);else{var l=e.indexOf(d);l!==-1?f[h]=t[l]:f[h]=o(d)}}return f}function s(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return n(a,s);if(a instanceof Map)return new Map(n(Array.from(a),s));if(a instanceof Set)return new Set(n(Array.from(a),s));var o={};e.push(a),t.push(o);for(var c in a)if(Object.hasOwnProperty.call(a,c)!==!1){var f=a[c];if(typeof f!="object"||f===null)o[c]=f;else if(f instanceof Date)o[c]=new Date(f);else if(f instanceof Map)o[c]=new Map(n(Array.from(f),s));else if(f instanceof Set)o[c]=new Set(n(Array.from(f),s));else if(ArrayBuffer.isView(f))o[c]=Gs(f);else{var u=e.indexOf(f);u!==-1?o[c]=t[u]:o[c]=s(f)}}return e.pop(),t.pop(),o}function i(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return n(a,i);if(a instanceof Map)return new Map(n(Array.from(a),i));if(a instanceof Set)return new Set(n(Array.from(a),i));var o={};e.push(a),t.push(o);for(var c in a){var f=a[c];if(typeof f!="object"||f===null)o[c]=f;else if(f instanceof Date)o[c]=new Date(f);else if(f instanceof Map)o[c]=new Map(n(Array.from(f),i));else if(f instanceof Set)o[c]=new Set(n(Array.from(f),i));else if(ArrayBuffer.isView(f))o[c]=Gs(f);else{var u=e.indexOf(f);u!==-1?o[c]=t[u]:o[c]=i(f)}}return e.pop(),t.pop(),o}}});var Hv=b((hz,Mv)=>{"use strict";Mv.exports=Tt()});var Vv=b((dz,Uv)=>{function Eu(){return!0}var Vn=cu()(),qa=Hv(),wu=function(){var r=[],e={type:"integer",minimum:0};r[1]=e;var t=function(){return function a(o,c,f,u,h){"use strict";var d=null,l=0,v=l,m=l;if(typeof o!="number"||o%1||o!==o)return a.errors=[{keyword:"type",dataPath:(c||"")+"",schemaPath:"#/definitions/nonNegativeInteger/type",params:{type:"integer"},message:"should be integer"}],!1;if(typeof o=="number"&&(o<0||o!==o))return a.errors=[{keyword:"minimum",dataPath:(c||"")+"",schemaPath:"#/definitions/nonNegativeInteger/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;var p=l===m,g=l===v;return a.errors=d,l===0}}();t.schema={allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},t.errors=null,r[2]=t;var n=function(){return function a(o,c,f,u,h){"use strict";var d=null,l=0;if(h===void 0&&(h=o),Array.isArray(o)){if(o.length<1)return a.errors=[{keyword:"minItems",dataPath:(c||"")+"",schemaPath:"#/minItems",params:{limit:1},message:"should NOT have fewer than 1 items"}],!1;for(var v=l,m,p=0;p<o.length;p++){var g=l;Eu(o[p],(c||"")+"["+p+"]",o,p,h)||(d===null?d=Eu.errors:d=d.concat(Eu.errors),l=d.length);var w=l===g;if(!w)break}}else return a.errors=[{keyword:"type",dataPath:(c||"")+"",schemaPath:"#/type",params:{type:"array"},message:"should be array"}],!1;return a.errors=d,l===0}}();n.schema={type:"array",minItems:1,items:{$ref:"#"}},n.errors=null,r[3]=n;var s={type:"array",items:{type:"string"},uniqueItems:!0,default:[]};r[4]=s;var i={enum:["array","boolean","integer","null","number","object","string"]};return r[5]=i,function a(o,c,f,u,h){"use strict";var d=null,l=0;if(h===void 0&&(h=o),(!o||typeof o!="object"||Array.isArray(o))&&typeof o!="boolean")return a.errors=[{keyword:"type",dataPath:(c||"")+"",schemaPath:"#/type",params:{type:"object,boolean"},message:"should be object,boolean"}],!1;if(o&&typeof o=="object"&&!Array.isArray(o)){var v=l,m=!0,p=o.$id;if(p===void 0)m=!0;else{var g=l;if(l===g)if(typeof p=="string"){if(!Vn["uri-reference"].test(p))return a.errors=[{keyword:"format",dataPath:(c||"")+".$id",schemaPath:"#/properties/%24id/format",params:{format:"uri-reference"},message:'should match format "uri-reference"'}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".$id",schemaPath:"#/properties/%24id/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m){var p=o.$schema;if(p===void 0)m=!0;else{var g=l;if(l===g)if(typeof p=="string"){if(!Vn.uri.test(p))return a.errors=[{keyword:"format",dataPath:(c||"")+".$schema",schemaPath:"#/properties/%24schema/format",params:{format:"uri"},message:'should match format "uri"'}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".$schema",schemaPath:"#/properties/%24schema/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m){var p=o.$ref;if(p===void 0)m=!0;else{var g=l;if(l===g)if(typeof p=="string"){if(!Vn["uri-reference"].test(p))return a.errors=[{keyword:"format",dataPath:(c||"")+".$ref",schemaPath:"#/properties/%24ref/format",params:{format:"uri-reference"},message:'should match format "uri-reference"'}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".$ref",schemaPath:"#/properties/%24ref/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m){if(o.$comment===void 0)m=!0;else{var g=l;if(typeof o.$comment!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".$comment",schemaPath:"#/properties/%24comment/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m){if(o.title===void 0)m=!0;else{var g=l;if(typeof o.title!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".title",schemaPath:"#/properties/title/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m){if(o.description===void 0)m=!0;else{var g=l;if(typeof o.description!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".description",schemaPath:"#/properties/description/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m&&m){if(o.readOnly===void 0)m=!0;else{var g=l;if(typeof o.readOnly!="boolean")return a.errors=[{keyword:"type",dataPath:(c||"")+".readOnly",schemaPath:"#/properties/readOnly/type",params:{type:"boolean"},message:"should be boolean"}],!1;var m=l===g}if(m){if(o.examples===void 0)m=!0;else{var g=l;if(Array.isArray(o.examples))var w=l,m;else return a.errors=[{keyword:"type",dataPath:(c||"")+".examples",schemaPath:"#/properties/examples/type",params:{type:"array"},message:"should be array"}],!1;var m=l===g}if(m){var p=o.multipleOf;if(p===void 0)m=!0;else{var g=l;if(typeof p=="number"){if(p<=0||p!==p)return a.errors=[{keyword:"exclusiveMinimum",dataPath:(c||"")+".multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",params:{comparison:">",limit:0,exclusive:!0},message:"should be > 0"}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".multipleOf",schemaPath:"#/properties/multipleOf/type",params:{type:"number"},message:"should be number"}],!1;var m=l===g}if(m){if(o.maximum===void 0)m=!0;else{var g=l;if(typeof o.maximum!="number")return a.errors=[{keyword:"type",dataPath:(c||"")+".maximum",schemaPath:"#/properties/maximum/type",params:{type:"number"},message:"should be number"}],!1;var m=l===g}if(m){if(o.exclusiveMaximum===void 0)m=!0;else{var g=l;if(typeof o.exclusiveMaximum!="number")return a.errors=[{keyword:"type",dataPath:(c||"")+".exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",params:{type:"number"},message:"should be number"}],!1;var m=l===g}if(m){if(o.minimum===void 0)m=!0;else{var g=l;if(typeof o.minimum!="number")return a.errors=[{keyword:"type",dataPath:(c||"")+".minimum",schemaPath:"#/properties/minimum/type",params:{type:"number"},message:"should be number"}],!1;var m=l===g}if(m){if(o.exclusiveMinimum===void 0)m=!0;else{var g=l;if(typeof o.exclusiveMinimum!="number")return a.errors=[{keyword:"type",dataPath:(c||"")+".exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",params:{type:"number"},message:"should be number"}],!1;var m=l===g}if(m){var p=o.maxLength;if(p===void 0)m=!0;else{var g=l,R=l;if(typeof p!="number"||p%1||p!==p)return a.errors=[{keyword:"type",dataPath:(c||"")+".maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",params:{type:"integer"},message:"should be integer"}],!1;if(typeof p=="number"&&(p<0||p!==p))return a.errors=[{keyword:"minimum",dataPath:(c||"")+".maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;var _=l===R,m=l===g}if(m){if(o.minLength===void 0)m=!0;else{var g=l;t(o.minLength,(c||"")+".minLength",o,"minLength",h)||(d===null?d=t.errors:d=d.concat(t.errors),l=d.length);var m=l===g}if(m){var p=o.pattern;if(p===void 0)m=!0;else{var g=l;if(l===g)if(typeof p=="string"){if(!Vn.regex(p))return a.errors=[{keyword:"format",dataPath:(c||"")+".pattern",schemaPath:"#/properties/pattern/format",params:{format:"regex"},message:'should match format "regex"'}],!1}else return a.errors=[{keyword:"type",dataPath:(c||"")+".pattern",schemaPath:"#/properties/pattern/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m){if(o.additionalItems===void 0)m=!0;else{var g=l;a(o.additionalItems,(c||"")+".additionalItems",o,"additionalItems",h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var m=l===g}if(m){var p=o.items;if(p===void 0)m=!0;else{var g=l,w=l,m=!1,R=l;a(p,(c||"")+".items",o,"items",h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var _=l===R;if(m=m||_,!m){var R=l;n(p,(c||"")+".items",o,"items",h)||(d===null?d=n.errors:d=d.concat(n.errors),l=d.length);var _=l===R;m=m||_}if(m)l=w,d!==null&&(w?d.length=w:d=null);else{var y={keyword:"anyOf",dataPath:(c||"")+".items",schemaPath:"#/properties/items/anyOf",params:{},message:"should match some schema in anyOf"};return d===null?d=[y]:d.push(y),l++,a.errors=d,!1}var m=l===g}if(m){var p=o.maxItems;if(p===void 0)m=!0;else{var g=l,R=l;if(typeof p!="number"||p%1||p!==p)return a.errors=[{keyword:"type",dataPath:(c||"")+".maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",params:{type:"integer"},message:"should be integer"}],!1;if(typeof p=="number"&&(p<0||p!==p))return a.errors=[{keyword:"minimum",dataPath:(c||"")+".maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;var _=l===R,m=l===g}if(m){if(o.minItems===void 0)m=!0;else{var g=l;r[2](o.minItems,(c||"")+".minItems",o,"minItems",h)||(d===null?d=r[2].errors:d=d.concat(r[2].errors),l=d.length);var m=l===g}if(m){if(o.uniqueItems===void 0)m=!0;else{var g=l;if(typeof o.uniqueItems!="boolean")return a.errors=[{keyword:"type",dataPath:(c||"")+".uniqueItems",schemaPath:"#/properties/uniqueItems/type",params:{type:"boolean"},message:"should be boolean"}],!1;var m=l===g}if(m){if(o.contains===void 0)m=!0;else{var g=l;a(o.contains,(c||"")+".contains",o,"contains",h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var m=l===g}if(m){var p=o.maxProperties;if(p===void 0)m=!0;else{var g=l,R=l;if(typeof p!="number"||p%1||p!==p)return a.errors=[{keyword:"type",dataPath:(c||"")+".maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",params:{type:"integer"},message:"should be integer"}],!1;if(typeof p=="number"&&(p<0||p!==p))return a.errors=[{keyword:"minimum",dataPath:(c||"")+".maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",params:{comparison:">=",limit:0,exclusive:!1},message:"should be >= 0"}],!1;var _=l===R,m=l===g}if(m){if(o.minProperties===void 0)m=!0;else{var g=l;r[2](o.minProperties,(c||"")+".minProperties",o,"minProperties",h)||(d===null?d=r[2].errors:d=d.concat(r[2].errors),l=d.length);var m=l===g}if(m){var p=o.required;if(p===void 0)m=!0;else{var g=l,R=l;if(Array.isArray(p)){for(var O=l,_,$=0;$<p.length;$++){var D=l;if(typeof p[$]!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".required["+$+"]",schemaPath:"#/definitions/stringArray/items/type",params:{type:"string"},message:"should be string"}],!1;var C=l===D;if(!C)break}if(O==l){var N=p.length,_=!0,x;if(N>1)for(var k={},j;N--;){var j=p[N];if(typeof j=="string"){if(typeof k[j]=="number"){_=!1,x=k[j];break}k[j]=N}}if(!_)return a.errors=[{keyword:"uniqueItems",dataPath:(c||"")+".required",schemaPath:"#/definitions/stringArray/uniqueItems",params:{i:N,j:x},message:"should NOT have duplicate items (items ## "+x+" and "+N+" are identical)"}],!1}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".required",schemaPath:"#/definitions/stringArray/type",params:{type:"array"},message:"should be array"}],!1;var _=l===R,m=l===g}if(m){if(o.additionalProperties===void 0)m=!0;else{var g=l;a(o.additionalProperties,(c||"")+".additionalProperties",o,"additionalProperties",h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var m=l===g}if(m){var p=o.definitions;if(p===void 0)m=!0;else{var g=l;if(p&&typeof p=="object"&&!Array.isArray(p)){var w=l,_=!0;for(var q in p){var R=l;a(p[q],(c||"")+".definitions['"+q+"']",p,q,h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var _=l===R;if(!_)break}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".definitions",schemaPath:"#/properties/definitions/type",params:{type:"object"},message:"should be object"}],!1;var m=l===g}if(m){var p=o.properties;if(p===void 0)m=!0;else{var g=l;if(p&&typeof p=="object"&&!Array.isArray(p)){var w=l,_=!0;for(var q in p){var R=l;a(p[q],(c||"")+".properties['"+q+"']",p,q,h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var _=l===R;if(!_)break}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".properties",schemaPath:"#/properties/properties/type",params:{type:"object"},message:"should be object"}],!1;var m=l===g}if(m){var p=o.patternProperties;if(p===void 0)m=!0;else{var g=l;if(p&&typeof p=="object"&&!Array.isArray(p)){var w=l;for(var q in p){var L=l,Y=q,R=l;if(l===R&&typeof Y=="string"&&!Vn.regex(Y)){var y={keyword:"format",dataPath:(c||"")+".patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",params:{format:"regex"},message:'should match format "regex"'};d===null?d=[y]:d.push(y),l++}var _=l===R;if(!_){for(var Q=L;Q<l;Q++)d[Q].propertyName=q;var y={keyword:"propertyNames",dataPath:(c||"")+".patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",params:{propertyName:""+q+""},message:"property name '"+q+"' is invalid"};return d===null?d=[y]:d.push(y),l++,a.errors=d,!1;break}}if(w==l){var w=l,_=!0;for(var q in p){var R=l;a(p[q],(c||"")+".patternProperties['"+q+"']",p,q,h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var _=l===R;if(!_)break}}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".patternProperties",schemaPath:"#/properties/patternProperties/type",params:{type:"object"},message:"should be object"}],!1;var m=l===g}if(m){var p=o.dependencies;if(p===void 0)m=!0;else{var g=l;if(p&&typeof p=="object"&&!Array.isArray(p)){var w=l,_=!0;for(var q in p){var Y=p[q],R=l,O=l,_=!1,D=l;a(Y,(c||"")+".dependencies['"+q+"']",p,q,h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var C=l===D;if(_=_||C,!_){var D=l,H=l;if(Array.isArray(Y)){for(var X=l,ee,U=0;U<Y.length;U++){var B=l;if(typeof Y[U]!="string"){var y={keyword:"type",dataPath:(c||"")+".dependencies['"+q+"']["+U+"]",schemaPath:"#/definitions/stringArray/items/type",params:{type:"string"},message:"should be string"};d===null?d=[y]:d.push(y),l++}var J=l===B;if(!J)break}if(X==l){var N=Y.length,ee=!0,x;if(N>1)for(var k={},j;N--;){var j=Y[N];if(typeof j=="string"){if(typeof k[j]=="number"){ee=!1,x=k[j];break}k[j]=N}}if(!ee){var y={keyword:"uniqueItems",dataPath:(c||"")+".dependencies['"+q+"']",schemaPath:"#/definitions/stringArray/uniqueItems",params:{i:N,j:x},message:"should NOT have duplicate items (items ## "+x+" and "+N+" are identical)"};d===null?d=[y]:d.push(y),l++}}}else{var y={keyword:"type",dataPath:(c||"")+".dependencies['"+q+"']",schemaPath:"#/definitions/stringArray/type",params:{type:"array"},message:"should be array"};d===null?d=[y]:d.push(y),l++}var ee=l===H,C=l===D;_=_||C}if(_)l=O,d!==null&&(O?d.length=O:d=null);else{var y={keyword:"anyOf",dataPath:(c||"")+".dependencies['"+q+"']",schemaPath:"#/properties/dependencies/additionalProperties/anyOf",params:{},message:"should match some schema in anyOf"};return d===null?d=[y]:d.push(y),l++,a.errors=d,!1}var _=l===R;if(!_)break}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".dependencies",schemaPath:"#/properties/dependencies/type",params:{type:"object"},message:"should be object"}],!1;var m=l===g}if(m){if(o.propertyNames===void 0)m=!0;else{var g=l;a(o.propertyNames,(c||"")+".propertyNames",o,"propertyNames",h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var m=l===g}if(m&&m){var p=o.enum;if(p===void 0)m=!0;else{var g=l;if(Array.isArray(p)){if(p.length<1)return a.errors=[{keyword:"minItems",dataPath:(c||"")+".enum",schemaPath:"#/properties/enum/minItems",params:{limit:1},message:"should NOT have fewer than 1 items"}],!1;var w=l,m;if(w==l){var N=p.length,m=!0,x;if(N>1){e:for(;N--;)for(x=N;x--;)if(qa(p[N],p[x])){m=!1;break e}}if(!m)return a.errors=[{keyword:"uniqueItems",dataPath:(c||"")+".enum",schemaPath:"#/properties/enum/uniqueItems",params:{i:N,j:x},message:"should NOT have duplicate items (items ## "+x+" and "+N+" are identical)"}],!1}}else return a.errors=[{keyword:"type",dataPath:(c||"")+".enum",schemaPath:"#/properties/enum/type",params:{type:"array"},message:"should be array"}],!1;var m=l===g}if(m){var p=o.type;if(p===void 0)m=!0;else{var g=l,w=l,m=!1,R=l,D=l,A=i.enum,C;C=!1;for(var F=0;F<A.length;F++)if(qa(p,A[F])){C=!0;break}if(!C){var y={keyword:"enum",dataPath:(c||"")+".type",schemaPath:"#/definitions/simpleTypes/enum",params:{allowedValues:A},message:"should be equal to one of the allowed values"};d===null?d=[y]:d.push(y),l++}var C=l===D,_=l===R;if(m=m||_,!m){var R=l;if(Array.isArray(p))if(p.length<1){var y={keyword:"minItems",dataPath:(c||"")+".type",schemaPath:"#/properties/type/anyOf/1/minItems",params:{limit:1},message:"should NOT have fewer than 1 items"};d===null?d=[y]:d.push(y),l++}else{for(var O=l,_,$=0;$<p.length;$++){var D=l,H=l,V=r[5].enum,ee;ee=!1;for(var U=0;U<V.length;U++)if(qa(p[$],V[U])){ee=!0;break}if(!ee){var y={keyword:"enum",dataPath:(c||"")+".type["+$+"]",schemaPath:"#/definitions/simpleTypes/enum",params:{allowedValues:V},message:"should be equal to one of the allowed values"};d===null?d=[y]:d.push(y),l++}var ee=l===H,C=l===D;if(!C)break}if(O==l){var N=p.length,_=!0,x;if(N>1){e:for(;N--;)for(x=N;x--;)if(qa(p[N],p[x])){_=!1;break e}}if(!_){var y={keyword:"uniqueItems",dataPath:(c||"")+".type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",params:{i:N,j:x},message:"should NOT have duplicate items (items ## "+x+" and "+N+" are identical)"};d===null?d=[y]:d.push(y),l++}}}else{var y={keyword:"type",dataPath:(c||"")+".type",schemaPath:"#/properties/type/anyOf/1/type",params:{type:"array"},message:"should be array"};d===null?d=[y]:d.push(y),l++}var _=l===R;m=m||_}if(m)l=w,d!==null&&(w?d.length=w:d=null);else{var y={keyword:"anyOf",dataPath:(c||"")+".type",schemaPath:"#/properties/type/anyOf",params:{},message:"should match some schema in anyOf"};return d===null?d=[y]:d.push(y),l++,a.errors=d,!1}var m=l===g}if(m){if(o.format===void 0)m=!0;else{var g=l;if(typeof o.format!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".format",schemaPath:"#/properties/format/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m){if(o.contentMediaType===void 0)m=!0;else{var g=l;if(typeof o.contentMediaType!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".contentMediaType",schemaPath:"#/properties/contentMediaType/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m){if(o.contentEncoding===void 0)m=!0;else{var g=l;if(typeof o.contentEncoding!="string")return a.errors=[{keyword:"type",dataPath:(c||"")+".contentEncoding",schemaPath:"#/properties/contentEncoding/type",params:{type:"string"},message:"should be string"}],!1;var m=l===g}if(m){if(o.if===void 0)m=!0;else{var g=l;a(o.if,(c||"")+".if",o,"if",h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var m=l===g}if(m){if(o.then===void 0)m=!0;else{var g=l;a(o.then,(c||"")+".then",o,"then",h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var m=l===g}if(m){if(o.else===void 0)m=!0;else{var g=l;a(o.else,(c||"")+".else",o,"else",h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var m=l===g}if(m){if(o.allOf===void 0)m=!0;else{var g=l;r[3](o.allOf,(c||"")+".allOf",o,"allOf",h)||(d===null?d=r[3].errors:d=d.concat(r[3].errors),l=d.length);var m=l===g}if(m){if(o.anyOf===void 0)m=!0;else{var g=l;r[3](o.anyOf,(c||"")+".anyOf",o,"anyOf",h)||(d===null?d=r[3].errors:d=d.concat(r[3].errors),l=d.length);var m=l===g}if(m){if(o.oneOf===void 0)m=!0;else{var g=l;r[3](o.oneOf,(c||"")+".oneOf",o,"oneOf",h)||(d===null?d=r[3].errors:d=d.concat(r[3].errors),l=d.length);var m=l===g}if(m)if(o.not===void 0)m=!0;else{var g=l;a(o.not,(c||"")+".not",o,"not",h)||(d===null?d=a.errors:d=d.concat(a.errors),l=d.length);var m=l===g}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return a.errors=d,l===0}}();wu.schema={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};wu.errors=null;Uv.exports=wu});var eg=b((pz,Zv)=>{Zv.exports=Ie;var xr=null;try{xr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ie(r,e,t){this.low=r|0,this.high=e|0,this.unsigned=!!t}Ie.prototype.__isLong__;Object.defineProperty(Ie.prototype,"__isLong__",{value:!0});function gr(r){return(r&&r.__isLong__)===!0}Ie.isLong=gr;var zv={},Bv={};function ns(r,e){var t,n,s;return e?(r>>>=0,(s=0<=r&&r<256)&&(n=Bv[r],n)?n:(t=Ce(r,(r|0)<0?-1:0,!0),s&&(Bv[r]=t),t)):(r|=0,(s=-128<=r&&r<128)&&(n=zv[r],n)?n:(t=Ce(r,r<0?-1:0,!1),s&&(zv[r]=t),t))}Ie.fromInt=ns;function jr(r,e){if(isNaN(r))return e?is:kr;if(e){if(r<0)return is;if(r>=Kv)return Xv}else{if(r<=-Jv)return yr;if(r+1>=Jv)return Yv}return r<0?jr(-r,e).neg():Ce(r%Ks|0,r/Ks|0,e)}Ie.fromNumber=jr;function Ce(r,e,t){return new Ie(r,e,t)}Ie.fromBits=Ce;var Aa=Math.pow;function _u(r,e,t){if(r.length===0)throw Error("empty string");if(r==="NaN"||r==="Infinity"||r==="+Infinity"||r==="-Infinity")return kr;if(typeof e=="number"?(t=e,e=!1):e=!!e,t=t||10,t<2||36<t)throw RangeError("radix");var n;if((n=r.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return _u(r.substring(1),e,t).neg();for(var s=jr(Aa(t,8)),i=kr,a=0;a<r.length;a+=8){var o=Math.min(8,r.length-a),c=parseInt(r.substring(a,a+o),t);if(o<8){var f=jr(Aa(t,o));i=i.mul(f).add(jr(c))}else i=i.mul(s),i=i.add(jr(c))}return i.unsigned=e,i}Ie.fromString=_u;function Jr(r,e){return typeof r=="number"?jr(r,e):typeof r=="string"?_u(r,e):Ce(r.low,r.high,typeof e=="boolean"?e:r.unsigned)}Ie.fromValue=Jr;var Gv=1<<16,bI=1<<24,Ks=Gv*Gv,Kv=Ks*Ks,Jv=Kv/2,Wv=ns(bI),kr=ns(0);Ie.ZERO=kr;var is=ns(0,!0);Ie.UZERO=is;var Js=ns(1);Ie.ONE=Js;var Qv=ns(1,!0);Ie.UONE=Qv;var Su=ns(-1);Ie.NEG_ONE=Su;var Yv=Ce(4294967295|0,2147483647|0,!1);Ie.MAX_VALUE=Yv;var Xv=Ce(4294967295|0,4294967295|0,!0);Ie.MAX_UNSIGNED_VALUE=Xv;var yr=Ce(0,2147483648|0,!1);Ie.MIN_VALUE=yr;var M=Ie.prototype;M.toInt=function(){return this.unsigned?this.low>>>0:this.low};M.toNumber=function(){return this.unsigned?(this.high>>>0)*Ks+(this.low>>>0):this.high*Ks+(this.low>>>0)};M.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(yr)){var t=jr(e),n=this.div(t),s=n.mul(t).sub(this);return n.toString(e)+s.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=jr(Aa(e,6),this.unsigned),a=this,o="";;){var c=a.div(i),f=a.sub(c.mul(i)).toInt()>>>0,u=f.toString(e);if(a=c,a.isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}};M.getHighBits=function(){return this.high};M.getHighBitsUnsigned=function(){return this.high>>>0};M.getLowBits=function(){return this.low};M.getLowBitsUnsigned=function(){return this.low>>>0};M.getNumBitsAbs=function(){if(this.isNegative())return this.eq(yr)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return this.high!=0?t+33:t+1};M.isZero=function(){return this.high===0&&this.low===0};M.eqz=M.isZero;M.isNegative=function(){return!this.unsigned&&this.high<0};M.isPositive=function(){return this.unsigned||this.high>=0};M.isOdd=function(){return(this.low&1)==1};M.isEven=function(){return(this.low&1)==0};M.equals=function(e){return gr(e)||(e=Jr(e)),this.unsigned!==e.unsigned&&this.high>>>31==1&&e.high>>>31==1?!1:this.high===e.high&&this.low===e.low};M.eq=M.equals;M.notEquals=function(e){return!this.eq(e)};M.neq=M.notEquals;M.ne=M.notEquals;M.lessThan=function(e){return this.comp(e)<0};M.lt=M.lessThan;M.lessThanOrEqual=function(e){return this.comp(e)<=0};M.lte=M.lessThanOrEqual;M.le=M.lessThanOrEqual;M.greaterThan=function(e){return this.comp(e)>0};M.gt=M.greaterThan;M.greaterThanOrEqual=function(e){return this.comp(e)>=0};M.gte=M.greaterThanOrEqual;M.ge=M.greaterThanOrEqual;M.compare=function(e){if(gr(e)||(e=Jr(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};M.comp=M.compare;M.negate=function(){return!this.unsigned&&this.eq(yr)?yr:this.not().add(Js)};M.neg=M.negate;M.add=function(e){gr(e)||(e=Jr(e));var t=this.high>>>16,n=this.high&65535,s=this.low>>>16,i=this.low&65535,a=e.high>>>16,o=e.high&65535,c=e.low>>>16,f=e.low&65535,u=0,h=0,d=0,l=0;return l+=i+f,d+=l>>>16,l&=65535,d+=s+c,h+=d>>>16,d&=65535,h+=n+o,u+=h>>>16,h&=65535,u+=t+a,u&=65535,Ce(d<<16|l,u<<16|h,this.unsigned)};M.subtract=function(e){return gr(e)||(e=Jr(e)),this.add(e.neg())};M.sub=M.subtract;M.multiply=function(e){if(this.isZero())return kr;if(gr(e)||(e=Jr(e)),xr){var t=xr.mul(this.low,this.high,e.low,e.high);return Ce(t,xr.get_high(),this.unsigned)}if(e.isZero())return kr;if(this.eq(yr))return e.isOdd()?yr:kr;if(e.eq(yr))return this.isOdd()?yr:kr;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Wv)&&e.lt(Wv))return jr(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,s=this.high&65535,i=this.low>>>16,a=this.low&65535,o=e.high>>>16,c=e.high&65535,f=e.low>>>16,u=e.low&65535,h=0,d=0,l=0,v=0;return v+=a*u,l+=v>>>16,v&=65535,l+=i*u,d+=l>>>16,l&=65535,l+=a*f,d+=l>>>16,l&=65535,d+=s*u,h+=d>>>16,d&=65535,d+=i*f,h+=d>>>16,d&=65535,d+=a*c,h+=d>>>16,d&=65535,h+=n*u+s*f+i*c+a*o,h&=65535,Ce(l<<16|v,h<<16|d,this.unsigned)};M.mul=M.multiply;M.divide=function(e){if(gr(e)||(e=Jr(e)),e.isZero())throw Error("division by zero");if(xr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var t=(this.unsigned?xr.div_u:xr.div_s)(this.low,this.high,e.low,e.high);return Ce(t,xr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?is:kr;var n,s,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return is;if(e.gt(this.shru(1)))return Qv;i=is}else{if(this.eq(yr)){if(e.eq(Js)||e.eq(Su))return yr;if(e.eq(yr))return Js;var a=this.shr(1);return n=a.div(e).shl(1),n.eq(kr)?e.isNegative()?Js:Su:(s=this.sub(e.mul(n)),i=n.add(s.div(e)),i)}else if(e.eq(yr))return this.unsigned?is:kr;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=kr}for(s=this;s.gte(e);){n=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:Aa(2,o-48),f=jr(n),u=f.mul(e);u.isNegative()||u.gt(s);)n-=c,f=jr(n,this.unsigned),u=f.mul(e);f.isZero()&&(f=Js),i=i.add(f),s=s.sub(u)}return i};M.div=M.divide;M.modulo=function(e){if(gr(e)||(e=Jr(e)),xr){var t=(this.unsigned?xr.rem_u:xr.rem_s)(this.low,this.high,e.low,e.high);return Ce(t,xr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};M.mod=M.modulo;M.rem=M.modulo;M.not=function(){return Ce(~this.low,~this.high,this.unsigned)};M.and=function(e){return gr(e)||(e=Jr(e)),Ce(this.low&e.low,this.high&e.high,this.unsigned)};M.or=function(e){return gr(e)||(e=Jr(e)),Ce(this.low|e.low,this.high|e.high,this.unsigned)};M.xor=function(e){return gr(e)||(e=Jr(e)),Ce(this.low^e.low,this.high^e.high,this.unsigned)};M.shiftLeft=function(e){return gr(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?Ce(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ce(0,this.low<<e-32,this.unsigned)};M.shl=M.shiftLeft;M.shiftRight=function(e){return gr(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?Ce(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ce(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};M.shr=M.shiftRight;M.shiftRightUnsigned=function(e){if(gr(e)&&(e=e.toInt()),e&=63,e===0)return this;var t=this.high;if(e<32){var n=this.low;return Ce(n>>>e|t<<32-e,t>>>e,this.unsigned)}else return e===32?Ce(t,0,this.unsigned):Ce(t>>>e-32,0,this.unsigned)};M.shru=M.shiftRightUnsigned;M.shr_u=M.shiftRightUnsigned;M.toSigned=function(){return this.unsigned?Ce(this.low,this.high,!1):this};M.toUnsigned=function(){return this.unsigned?this:Ce(this.low,this.high,!0)};M.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};M.toBytesLE=function(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};M.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};Ie.fromBytes=function(e,t,n){return n?Ie.fromBytesLE(e,t):Ie.fromBytesBE(e,t)};Ie.fromBytesLE=function(e,t){return new Ie(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)};Ie.fromBytesBE=function(e,t){return new Ie(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}});var sg=b((mz,tg)=>{tg.exports={compareTwoStrings:rg,findBestMatch:EI};function rg(r,e){if(r=r.replace(/\s+/g,""),e=e.replace(/\s+/g,""),r===e)return 1;if(r.length<2||e.length<2)return 0;let t=new Map;for(let s=0;s<r.length-1;s++){let i=r.substring(s,s+2),a=t.has(i)?t.get(i)+1:1;t.set(i,a)}let n=0;for(let s=0;s<e.length-1;s++){let i=e.substring(s,s+2),a=t.has(i)?t.get(i):0;a>0&&(t.set(i,a-1),n++)}return 2*n/(r.length+e.length-2)}function EI(r,e){if(!wI(r,e))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");let t=[],n=0;for(let i=0;i<e.length;i++){let a=e[i],o=rg(r,a);t.push({target:a,rating:o}),o>t[n].rating&&(n=i)}let s=t[n];return{ratings:t,bestMatch:s,bestMatchIndex:n}}function wI(r,e){return!(typeof r!="string"||!Array.isArray(e)||!e.length||e.find(function(t){return typeof t!="string"}))}});var qu=b((vz,Cu)=>{"use strict";var ng=bu(),Pu=Fv(),ig=Ca()({proto:!0}),Na=Symbol("fast-json-stringify.cloned"),ag=Vv(),Ru=null,Ws;try{Ws=eg().isLong}catch{Ws=null}var qe=`
  if (addComma) {
    json += ','
  } else {
    addComma = true
  }
`;function $u(r,e){if(!ag(r)){e?e=`"${e}" `:e="";let t=ag.errors[0],n=new Error(`${e}schema is invalid: data${t.dataPath} ${t.message}`);throw n.errors=$u.errors,n}}function Dr(r,e){return{schema:e.schema||r.schema,root:e.root||r.root,externalSchema:e.externalSchema||r.externalSchema}}var zn=new Map,Bn=new Map;function _I(r,e){if(zn.clear(),Bn.clear(),e=e||{},$u(r),e.schema)for(var t of Object.keys(e.schema))$u(e.schema[t],t);let n="trunc";if(e.rounding)if(["floor","ceil","round"].includes(e.rounding))n=e.rounding;else throw new Error(`Unsupported integer rounding method ${e.rounding}`);let s=`
    'use strict'
  `;s+=`
    ${OI}

    var isLong = ${Ws?Ws.toString():!1}

    function parseInteger(int) { return Math.${n}(int) }
    `;let i={schema:r,root:r,externalSchema:e.schema};r.$ref&&(i=at(r.$ref,i),r=i.schema),r.type===void 0&&(r.type=og(r));let a;switch(r.type){case"object":a="$main",s=ja(i,s,a);break;case"string":a=r.nullable?"$asStringNullable":xa(r.format);break;case"integer":a=r.nullable?"$asIntegerNullable":"$asInteger";break;case"number":a=r.nullable?"$asNumberNullable":"$asNumber";break;case"boolean":a=r.nullable?"$asBooleanNullable":"$asBoolean";break;case"null":a="$asNull";break;case"array":a="$main",s=ka(i,s,a),r=i.schema;break;case void 0:a="$asAny";break;default:throw new Error(`${r.type} unsupported`)}s+=`
    ;
     return ${a}
  `;let o=[new ng(e.ajv)],c=["ajv"];return c.push(s),e.debugMode?(c.toString=function(){return c.join(`
`)},c):(zn.clear(),Bn.clear(),Function.apply(null,c).apply(null,o))}var SI=["maxProperties","minProperties","required","properties","patternProperties","additionalProperties","dependencies"],PI=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],RI=["maxLength","minLength","pattern"],$I=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function og(r){for(var e of SI)if(e in r)return"object";for(var e of PI)if(e in r)return"array";for(var e of RI)if(e in r)return"string";for(var e of $I)if(e in r)return"number";return r.type}var lg={"date-time":"$asDatetime",date:"$asDate",time:"$asTime"};function xa(r){return lg[r]||"$asString"}function ug(r){return lg[r]}var OI=`
function $pad2Zeros (num) {
  const s = '00' + num
  return s[s.length - 2] + s[s.length - 1]
}

function $asAny (i) {
  return JSON.stringify(i)
}

function $asNull () {
  return 'null'
}

function $asInteger (i) {
  if (isLong && isLong(i)) {
    return i.toString()
  } else if (typeof i === 'bigint') {
    return i.toString()
  } else if (Number.isInteger(i)) {
    return $asNumber(i)
  } else {
    /* eslint no-undef: "off" */
    return $asNumber(parseInteger(i))
  }
}

function $asIntegerNullable (i) {
  return i === null ? null : $asInteger(i)
}

function $asNumber (i) {
  const num = Number(i)
  if (isNaN(num)) {
    return 'null'
  } else {
    return '' + num
  }
}

function $asNumberNullable (i) {
  return i === null ? null : $asNumber(i)
}

function $asBoolean (bool) {
  return bool && 'true' || 'false' // eslint-disable-line
}

function $asBooleanNullable (bool) {
  return bool === null ? null : $asBoolean(bool)
}

function $asDatetime (date, skipQuotes) {
  const quotes = skipQuotes === true ? '' : '"'
  if (date instanceof Date) {
    return quotes + date.toISOString() + quotes
  } else if (date && typeof date.toISOString === 'function') {
    return quotes + date.toISOString() + quotes
  } else {
    return $asString(date, skipQuotes)
  }
}

function $asDate (date, skipQuotes) {
  const quotes = skipQuotes === true ? '' : '"'
  if (date instanceof Date) {
    return quotes + new Date(date.getTime() - (date.getTimezoneOffset() * 60000 )).toISOString().slice(0, 10) + quotes
  } else if (date && typeof date.format === 'function') {
    return quotes + date.format('YYYY-MM-DD') + quotes
  } else {
    return $asString(date, skipQuotes)
  }
}

function $asTime (date, skipQuotes) {
  const quotes = skipQuotes === true ? '' : '"'
  if (date instanceof Date) {
    const hour = new Intl.DateTimeFormat('en', { hour: 'numeric', hour12: false }).format(date)
    const minute = new Intl.DateTimeFormat('en', { minute: 'numeric' }).format(date)
    const second = new Intl.DateTimeFormat('en', { second: 'numeric' }).format(date)
    return quotes + $pad2Zeros(hour) + ':' + $pad2Zeros(minute) + ':' + $pad2Zeros(second) + quotes
  } else if (date && typeof date.format === 'function') {
    return quotes + date.format('HH:mm:ss') + quotes
  } else {
    return $asString(date, skipQuotes)
  }
}

function $asString (str, skipQuotes) {
  const quotes = skipQuotes === true ? '' : '"'
  if (str instanceof Date) {
    return quotes + str.toISOString() + quotes
  } else if (str === null) {
    return quotes + quotes
  } else if (str instanceof RegExp) {
    str = str.source
  } else if (typeof str !== 'string') {
    str = str.toString()
  }
  // If we skipQuotes it means that we are using it as test
  // no need to test the string length for the render
  if (skipQuotes) {
    return str
  }

  if (str.length < 42) {
    return $asStringSmall(str)
  } else {
    return JSON.stringify(str)
  }
}

function $asStringNullable (str) {
  return str === null ? null : $asString(str)
}

// magically escape strings for json
// relying on their charCodeAt
// everything below 32 needs JSON.stringify()
// every string that contain surrogate needs JSON.stringify()
// 34 and 92 happens all the time, so we
// have a fast case for them
function $asStringSmall (str) {
  const l = str.length
  let result = ''
  let last = 0
  let found = false
  let surrogateFound = false
  let point = 255
  // eslint-disable-next-line
  for (var i = 0; i < l && point >= 32; i++) {
    point = str.charCodeAt(i)
    if (point >= 0xD800 && point <= 0xDFFF) {
      // The current character is a surrogate.
      surrogateFound = true
    }
    if (point === 34 || point === 92) {
      result += str.slice(last, i) + '\\\\'
      last = i
      found = true
    }
  }

  if (!found) {
    result = str
  } else {
    result += str.slice(last)
  }
  return ((point < 32) || (surrogateFound === true)) ? JSON.stringify(str) : '"' + result + '"'
}
`;function TI(r){let e=r.schema,t=e.patternProperties,n=`
      var properties = ${JSON.stringify(e.properties)} || {}
      var keys = Object.keys(obj)
      for (var i = 0; i < keys.length; i++) {
        if (properties[keys[i]]) continue
  `;return Object.keys(t).forEach((s,i)=>{let a=Dr(r,{schema:t[s]});t[s].$ref&&(a=at(t[s].$ref,r),t[s]=a.schema);let o=t[s].type,c=t[s].format,f=xa(c);try{RegExp(s)}catch(h){throw new Error(`${h.message}. Found at ${s} matching ${JSON.stringify(t[s])}`)}let u=`if (/${s.replace(/\\*\//g,"\\/")}/.test(keys[i])) {`;o==="object"?n+=`${ja(a,"","buildObjectPP"+i)}
          ${u}
          ${qe}
          json += $asString(keys[i]) + ':' + buildObjectPP${i}(obj[keys[i]])
      `:o==="array"?n+=`${ka(a,"","buildArrayPP"+i)}
          ${u}
          ${qe}
          json += $asString(keys[i]) + ':' + buildArrayPP${i}(obj[keys[i]])
      `:o==="null"?n+=`
          ${u}
          ${qe}
          json += $asString(keys[i]) +':null'
      `:o==="string"?n+=`
          ${u}
          ${qe}
          json += $asString(keys[i]) + ':' + ${f}(obj[keys[i]])
      `:o==="integer"?n+=`
          ${u}
          ${qe}
          json += $asString(keys[i]) + ':' + $asInteger(obj[keys[i]])
      `:o==="number"?n+=`
          ${u}
          ${qe}
          json += $asString(keys[i]) + ':' + $asNumber(obj[keys[i]])
      `:o==="boolean"?n+=`
          ${u}
          ${qe}
          json += $asString(keys[i]) + ':' + $asBoolean(obj[keys[i]])
      `:o===void 0?n+=`
          ${u}
          ${qe}
          json += $asString(keys[i]) + ':' + $asAny(obj[keys[i]])
      `:n+=`
        ${u}
        throw new Error('Cannot coerce ' + obj[keys[i]] + ' to ' + ${JSON.stringify(o)})
      `,n+=`
          continue
        }
    `}),e.additionalProperties&&(n+=cg(r)),n+=`
      }
  `,n}function cg(r){let e=r.schema.additionalProperties,t="";if(e===!0)return`
        if (obj[keys[i]] !== undefined && typeof obj[keys[i]] !== 'function' && typeof obj[keys[i]] !== 'symbol') {
          ${qe}
          json += $asString(keys[i]) + ':' + JSON.stringify(obj[keys[i]])
        }
    `;let n=Dr(r,{schema:e});e.$ref&&(n=at(e.$ref,r),e=n.schema);let s=e.type,i=e.format,a=xa(i);return s==="object"?t+=`${ja(n,"","buildObjectAP")}
        ${qe}
        json += $asString(keys[i]) + ':' + buildObjectAP(obj[keys[i]])
    `:s==="array"?t+=`${ka(n,"","buildArrayAP")}
        ${qe}
        json += $asString(keys[i]) + ':' + buildArrayAP(obj[keys[i]])
    `:s==="null"?t+=`
        ${qe}
        json += $asString(keys[i]) +':null'
    `:s==="string"?t+=`
        ${qe}
        json += $asString(keys[i]) + ':' + ${a}(obj[keys[i]])
    `:s==="integer"?(t+=`
        var t = Number(obj[keys[i]])
    `,Ws?t+=`
          if (isLong(obj[keys[i]]) || !isNaN(t)) {
            ${qe}
            json += $asString(keys[i]) + ':' + $asInteger(obj[keys[i]])
          }
      `:t+=`
          if (!isNaN(t)) {
            ${qe}
            json += $asString(keys[i]) + ':' + t
          }
      `):s==="number"?t+=`
        var t = Number(obj[keys[i]])
        if (!isNaN(t)) {
          ${qe}
          json += $asString(keys[i]) + ':' + t
        }
    `:s==="boolean"?t+=`
        ${qe}
        json += $asString(keys[i]) + ':' + $asBoolean(obj[keys[i]])
    `:s===void 0?t+=`
        ${qe}
        json += $asString(keys[i]) + ':' + $asAny(obj[keys[i]])
    `:t+=`
        throw new Error('Cannot coerce ' + obj[keys[i]] + ' to ' + ${JSON.stringify(s)})
    `,t}function II(r){return`
      var properties = ${JSON.stringify(r.schema.properties)} || {}
      var keys = Object.keys(obj)
      for (var i = 0; i < keys.length; i++) {
        if (properties[keys[i]]) continue
        ${cg(r)}
      }
  `}function fg(r,e){let t,n=(s,i)=>{Object.keys(s||{}).forEach((a,o,c)=>{a==="$id"&&s[a]===i?t=s:t===void 0&&typeof s[a]=="object"&&n(s[a],i)})};return n(r,e),t}function at(r,e){let t=e.externalSchema,n=e.root,s=e.schema;if(t&&t[r])return{schema:t[r],root:t[r],externalSchema:t};if(r=r.split("#"),r[0]&&(s=t[r[0]],n=t[r[0]],s===void 0&&f(t,[r[0]]),s.$ref))return at(s.$ref,{schema:s,root:n,externalSchema:t});let i="return schema";if(r[1]){let u=r[1].split("/");if(u.length===1){let h=`#${r[1]}`,d=fg(s,h);if(d===void 0&&!r[0]){for(var a of Object.keys(t))if(d=fg(t[a],h),d!==void 0){n=t[a];break}}return{schema:d,root:n,externalSchema:t}}else for(var o=1;o<u.length;o++)i+=`[${JSON.stringify(u[o])}]`}let c;try{c=new Function("schema",i)(n)}catch{}if(c===void 0&&r[1]){let u=r[1].split("/");f(s,u.slice(1))}if(c.$ref)return at(c.$ref,{schema:s,root:n,externalSchema:t});return{schema:c,root:n,externalSchema:t};function f(u,h){if(h.length===0)return null;let d=h.shift();if(u[d]===void 0){Ru=Ru||sg();let{bestMatch:l}=Ru.findBestMatch(d,Object.keys(u));throw l.rating>=.5?new Error(`Cannot find reference ${JSON.stringify(d)}, did you mean ${JSON.stringify(l.target)}?`):new Error(`Cannot find reference ${JSON.stringify(d)}`)}return f(u[d],h)}}function CI(r,e,t,n){r.schema.$ref&&(r=at(r.schema.$ref,r));let s=r.schema,i=s.required;if(Object.keys(s.properties||{}).forEach((o,c,f)=>{let u=Dr(r,{schema:s.properties[o]});s.properties[o].$ref&&(u=at(s.properties[o].$ref,r),s.properties[o]=u.schema);let h=s.properties[o].type,d=s.properties[o].nullable,l=JSON.stringify(o),v=JSON.stringify(l);if(d&&(e+=`
        if (obj[${l}] === null) {
          ${qe}
          json += ${v} + ':null'
          var rendered = true
        } else {
      `),h==="number")e+=`
          var t = Number(obj[${l}])
          if (!isNaN(t)) {
            ${qe}
            json += ${v} + ':' + t
      `;else if(h==="integer")e+=`
          var rendered = false
      `,Ws?e+=`
            if (isLong(obj[${l}])) {
              ${qe}
              json += ${v} + ':' + obj[${l}].toString()
              rendered = true
            } else {
              var t = Number(obj[${l}])
              if (!isNaN(t)) {
                ${qe}
                json += ${v} + ':' + t
                rendered = true
              }
            }
        `:e+=`
            var t = $asInteger(obj[${l}])
            if (!isNaN(t)) {
              ${qe}
              json += ${v} + ':' + t
              rendered = true
            }
        `,e+=`
          if (rendered) {
      `;else{e+=`
        if (obj[${l}] !== undefined) {
          ${qe}
          json += ${v} + ':'
        `;let p=as(t,n,o,Dr(u,{schema:s.properties[o]}),void 0,!1);e+=p.code,t=p.laterCode}let m=s.properties[o].default;m!==void 0?(i=hg(i,o),e+=`
      } else {
        ${qe}
        json += ${v} + ':' + ${JSON.stringify(JSON.stringify(m))}
      `):i&&i.indexOf(o)!==-1&&(i=hg(i,o),e+=`
      } else {
        throw new Error('${l} is required!')
      `),e+=`
      }
    `,d&&(e+=`
        }
      `)}),i&&i.length>0){e+="var required = [";for(var a=0;a<i.length;a++)a>0&&(e+=","),e+=`${JSON.stringify(i[a])}`;e+=`]
      for (var i = 0; i < required.length; i++) {
        if (obj[required[i]] === undefined) throw new Error('"' + required[i] + '" is required!')
      }
    `}if(s.allOf){let o=Ou(r,e,t,n);e=o.code,t=o.laterCode}return{code:e,laterCode:t}}function hg(r,e){return r&&r.filter(t=>t!==e)}function Ou(r,e,t,n){if(r.schema.allOf)r.schema.allOf.forEach(s=>{let i=Ou(Dr(r,{schema:s}),e,t,n);e=i.code,t=i.laterCode});else{let s=CI(r,e,t,n);e=s.code,t=s.laterCode}return{code:e,laterCode:t}}function Tu(r,e){let t=r.schema,n=Ou(r,"","",e);return t.patternProperties?n.code+=TI(r):t.additionalProperties&&!t.patternProperties&&(n.code+=II(r)),n}function Iu(r,e){let t="",n,s="",i,a=r.schema,o=Pu({},a),c=o.if,f=o.then,u=o.else?o.else:{additionalProperties:!0};delete o.if,delete o.then,delete o.else;let h=Pu(o,f),d=Dr(r,{schema:h});return t+=`
    valid = ajv.validate(${JSON.stringify(c)}, obj)
    if (valid) {
  `,h.if&&h.then&&(i=Iu(d,e+"Then"),t+=i.code,s=i.laterCode),n=Tu(d,e+"Then"),t+=n.code,s+=n.laterCode,t+=`
    }
  `,h=Pu(o,u),d=Dr(d,{schema:h}),t+=`
      else {
    `,h.if&&h.then&&(i=Iu(d,e+"Else"),t+=i.code,s+=i.laterCode),n=Tu(d,e+"Else"),t+=n.code,s+=n.laterCode,t+=`
      }
    `,{code:t,laterCode:s}}function qI(r){return`(${r} && typeof ${r}.toJSON === 'function')
    ? ${r}.toJSON()
    : ${r}
  `}function ja(r,e,t){let n=r.schema;if(e+=`
    function ${t} (input) {
  `,n.nullable&&(e+=`
      if(input === null) {
        return 'null';
      }
  `),Bn.has(n))return e+=`
      return ${Bn.get(n)}(input)
    }
    `,e;Bn.set(n,t),e+=`
      var obj = ${qI("input")}
      var json = '{'
      var addComma = false
  `;let s;return n.if&&n.then?(e+=`
      var valid
    `,s=Iu(r,t)):s=Tu(r,t),e+=`${s.code}
      json += '}'
      return json
    }
    ${s.laterCode}
  `,e}function ka(r,e,t,n=null){let s=r.schema;e+=`
    function ${t} (obj) {
  `,s.nullable&&(e+=`
      if(obj === null) {
        return 'null';
      }
    `);let i="";if(s.items||(s.items={}),s.items.$ref){if(s[Na]||(r.schema=ig(r.schema),s=r.schema,s[Na]=!0),r=at(s.items.$ref,r),s.items=r.schema,zn.has(s.items))return e+=`
      return ${zn.get(s.items)}(obj)
      }
      `,e;zn.set(s.items,t)}let a={code:"",laterCode:""},o="[i]";if(Array.isArray(s.items)){if(a=s.items.reduce((c,f,u)=>{let h=as(i,t,o,Dr(r,{schema:f}),u,!0),d=`i === ${u} && ${dg(f.type,o)}`;return{code:`${c.code}
        ${u>0?"else":""} if (${d}) {
          ${h.code}
        }`,laterCode:`${c.laterCode}
        ${h.laterCode}`}},a),s.additionalItems){let c=as(i,t,o,Dr(r,{schema:s.items}),void 0,!0);a.code+=`
      else if (i >= ${s.items.length}) {
        ${c.code}
      }
      `}a.code+=`
    else {
      throw new Error(\`Item at \${i} does not match schema definition.\`)
    }
    `}else a=as(i,t,o,Dr(r,{schema:s.items}),void 0,!0);return n&&(e+=`
    if(!Array.isArray(obj)) {
      throw new TypeError(\`Property '${n}' should be of type array, received '\${obj}' instead.\`)
    }
    `),e+=`
    var l = obj.length
    var jsonOutput= ''
    for (var i = 0; i < l; i++) {
      var json = ''
      ${a.code}
      jsonOutput += json

      if (json.length > 0 && i < l - 1) {
        jsonOutput += ','
      }
    }
    return \`[\${jsonOutput}]\`
  }
  ${a.laterCode}
  `,e}function dg(r,e){let t;switch(r){case"null":t=`obj${e} === null`;break;case"string":t=`typeof obj${e} === 'string'`;break;case"integer":t=`Number.isInteger(obj${e})`;break;case"number":t=`Number.isFinite(obj${e})`;break;case"boolean":t=`typeof obj${e} === 'boolean'`;break;case"object":t=`obj${e} && typeof obj${e} === 'object' && obj${e}.constructor === Object`;break;case"array":t=`Array.isArray(obj${e})`;break;default:if(Array.isArray(r))t=`(${r.map(s=>dg(s,e)).join(" || ")})`;else throw new Error(`${r} unsupported`)}return t}function pg(r,e){if(!r.schema[Na]){let s=ig(r.schema);s[Na]=!0,r.schema=s}let t=r.schema,n=[];return t[e].forEach((s,i)=>{let a=Dr(r,{schema:s});for(;s.$ref;)a=at(s.$ref,a),t[e][i]=a.schema,s=t[e][i];n[i]=a}),n}var mg=0;function vg(r){let e=r.replace(/[^a-zA-Z0-9$_]/g,"");return e.length===0?"anan"+mg++:(e!==r&&(e+=mg++),e)}function as(r,e,t,n,s,i){let a="",o;s=s||"";let c=n.schema;if(c.$ref&&(c=at(c.$ref,n)),c.type===void 0){let d=og(c);d&&(c.type=d)}let f=c.type,u=c.nullable===!0,h=i?t:`[${JSON.stringify(t)}]`;switch(f){case"null":a+=`
        json += $asNull()
      `;break;case"string":{let d=xa(c.format);a+=u?`json += obj${h} === null ? null : ${d}(obj${h})`:`json += ${d}(obj${h})`;break}case"integer":a+=u?`json += obj${h} === null ? null : $asInteger(obj${h})`:`json += $asInteger(obj${h})`;break;case"number":a+=u?`json += obj${h} === null ? null : $asNumber(obj${h})`:`json += $asNumber(obj${h})`;break;case"boolean":a+=u?`json += obj${h} === null ? null : $asBoolean(obj${h})`:`json += $asBoolean(obj${h})`;break;case"object":o=vg(e+t+s),r=ja(n,r,o),a+=`
        json += ${o}(obj${h})
      `;break;case"array":o=vg("$arr"+e+t+s),r=ka(n,r,o,t),a+=`
        json += ${o}(obj${h})
      `;break;case void 0:if("anyOf"in c)pg(n,"anyOf").forEach((l,v)=>{let m=as(r,e,t,l,s!==""?s:"i"+v,i),p=ug(l.schema.format),g=p!==void 0?`${p}(obj${h}, true)`:`obj${h}`;a+=`
            ${v===0?"if":"else if"}(ajv.validate(${JSON.stringify(l.schema)}, ${g}))
              ${m.code}
          `,r=m.laterCode}),a+=`
          else json+= null
        `;else if("oneOf"in c)pg(n,"oneOf").forEach((l,v)=>{let m=as(r,e,t,l,s!==""?s:"i"+v,i),p=ug(l.schema.format),g=p!==void 0?`${p}(obj${h}, true)`:`obj${h}`;a+=`
            ${v===0?"if":"else if"}(ajv.validate(${JSON.stringify(l.schema)}, ${g}))
              ${m.code}
          `,r=m.laterCode}),i||(a+=`
            else json+= null
          `);else if(AI(c))a+=`
          json += JSON.stringify(obj${h})
        `;else if("const"in c)a+=`
          if(ajv.validate(${JSON.stringify(c)}, obj${h}))
            json += '${JSON.stringify(c.const)}'
          else
            throw new Error(\`Item \${JSON.stringify(obj${h})} does not match schema definition.\`)
        `;else if(c.type===void 0)a+=`
          json += JSON.stringify(obj${h})
        `;else throw new Error(`${c.type} unsupported`);break;default:if(Array.isArray(f)){let d=f.indexOf("null");(d!==-1?[f[d]].concat(f.slice(0,d)).concat(f.slice(d+1)):f).forEach((v,m)=>{let p=m===0?"if":"else if",g=Object.assign({},c,{type:v}),w=as(r,e,t,Dr(n,{schema:g}),s,i);switch(v){case"string":{a+=`
                ${p}(obj${h} === null || typeof obj${h} === "${v}" || obj${h} instanceof Date || typeof obj${h}.toISOString === "function" || obj${h} instanceof RegExp || (typeof obj${h} === "object" && Object.hasOwnProperty.call(obj${h}, "toString")))
                  ${w.code}
              `;break}case"null":{a+=`
                ${p}(obj${h} == null)
                  ${w.code}
              `;break}case"array":{a+=`
                ${p}(Array.isArray(obj${h}))
                  ${w.code}
              `;break}case"integer":{a+=`
                ${p}(Number.isInteger(obj${h}) || obj${h} === null)
                  ${w.code}
              `;break}case"number":{a+=`
                ${p}(isNaN(obj${h}) === false)
                  ${w.code}
              `;break}default:{a+=`
                ${p}(typeof obj${h} === "${v}")
                  ${w.code}
              `;break}}r=w.laterCode}),a+=`
          else json+= null
        `}else throw new Error(`${f} unsupported`)}return{code:a,laterCode:r}}function AI(r){for(var e in r)if(r.hasOwnProperty(e)&&r[e]!==void 0)return!1;return!0}Cu.exports=_I;Cu.exports.restore=function(r,e={}){let t=[r],n=[];return r.startsWith("ajv")&&(t.unshift("ajv"),n.push(new ng(e.ajv))),Function.apply(null,["ajv",r]).apply(null,n)}});var os=b((gz,Eg)=>{"use strict";var NI=["onRoute","onRegister","onReady","onClose"],gg=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError"],yg=gg.concat(NI),{FST_ERR_HOOK_INVALID_TYPE:xI,FST_ERR_HOOK_INVALID_HANDLER:jI,FST_ERR_SEND_UNDEFINED_ERR:kI}=$r(),{kReplyIsError:DI,kChildren:Au,kHooks:FI}=nr();function Da(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onTimeout=[]}Da.prototype.validate=function(r,e){if(typeof r!="string")throw new xI;if(typeof e!="function")throw new jI;if(yg.indexOf(r)===-1)throw new Error(`${r} hook not supported!`)};Da.prototype.add=function(r,e){this.validate(r,e),this[r].push(e)};function LI(r){let e=new Da;return e.onRequest=r.onRequest.slice(),e.preParsing=r.preParsing.slice(),e.preValidation=r.preValidation.slice(),e.preSerialization=r.preSerialization.slice(),e.preHandler=r.preHandler.slice(),e.onSend=r.onSend.slice(),e.onResponse=r.onResponse.slice(),e.onError=r.onError.slice(),e.onRoute=r.onRoute.slice(),e.onRegister=r.onRegister.slice(),e.onTimeout=r.onTimeout.slice(),e.onReady=[],e}function bg(r,e,t,n){let s=t[FI][r],i=0,a=0;c();function o(u){if(u){n(u);return}n()}function c(u){if(u){o(u);return}if(i===s.length&&a===t[Au].length){i===0&&a===0?o():e(function(d,l){o(d),l(d)});return}if(i===s.length&&a<t[Au].length){let h=t[Au][a++];bg(r,e,h,c);return}e(f(s[i++],t)),c()}function f(u,h){return function(d,l){if(d){l(d);return}if(u.length===1){try{u.call(h,l)}catch(m){l(m)}return}let v=u.call(h);if(v&&typeof v.then=="function"){v.then(l,l);return}l(d)}}}function MI(r,e,t,n,s){let i=0;function a(f){if(f||i===r.length){s(f,t,n);return}let u;try{u=e(r[i++],t,n,a)}catch(h){a(h);return}u&&typeof u.then=="function"&&u.then(o,c)}function o(){a()}function c(f){f?f instanceof Error||(n[DI]=!0):f=new kI,s(f,t,n)}a()}function HI(r,e,t,n,s){let i=0;function a(f,u){if(f){s(f,e,t,n);return}if(u!==void 0&&(n=u),i===r.length){try{s(null,e,t,n)}catch(d){c(d)}return}let h;try{h=r[i++](e,t,n,a)}catch(d){a(d);return}h&&typeof h.then=="function"&&h.then(o,c)}function o(f){a(null,f)}function c(f){s(f,e,t,n)}a()}function UI(r,e,t,n){if(t.sent!==!0)return r(e,t,n)}Eg.exports={Hooks:Da,buildHooks:LI,hookRunner:MI,onSendHookRunner:HI,hookIterator:UI,hookRunnerApplication:bg,lifecycleHooks:gg,supportedHooks:yg}});var ku=b((yz,_g)=>{"use strict";var{kSchemaHeaders:Fa,kSchemaParams:Nu,kSchemaQuerystring:xu,kSchemaBody:ju,kSchemaResponse:wg}=nr();function VI(r,e){if(!r.schema||!r.schema.response)return;let{method:t,url:n}=r.config||{};r[wg]=Object.keys(r.schema.response).reduce(function(s,i){return s[i]=e({schema:r.schema.response[i],url:n,method:t,httpStatus:i}),s},{})}function zI(r,e){if(!r.schema)return;let{method:t,url:n}=r.config||{},s=r.schema.headers;if(s&&Object.getPrototypeOf(s)!==Object.prototype)r[Fa]=e({schema:s,method:t,url:n,httpPart:"headers"});else if(s){let i={};Object.keys(s).forEach(a=>{i[a]=s[a]}),i.required instanceof Array&&(i.required=i.required.map(a=>a.toLowerCase())),s.properties&&(i.properties={},Object.keys(s.properties).forEach(a=>{i.properties[a.toLowerCase()]=s.properties[a]})),r[Fa]=e({schema:i,method:t,url:n,httpPart:"headers"})}r.schema.body&&(r[ju]=e({schema:r.schema.body,method:t,url:n,httpPart:"body"})),r.schema.querystring&&(r[xu]=e({schema:r.schema.querystring,method:t,url:n,httpPart:"querystring"})),r.schema.params&&(r[Nu]=e({schema:r.schema.params,method:t,url:n,httpPart:"params"}))}function La(r,e,t){let n=r&&r(e[t]);return n===!1?r.errors:n&&n.error?n.error:(n&&n.value&&(e[t]=n.value),!1)}function BI(r,e){let t=La(r[Nu],e,"params");if(t)return Ma(t,"params",r.schemaErrorFormatter);let n=La(r[ju],e,"body");if(n)return Ma(n,"body",r.schemaErrorFormatter);let s=La(r[xu],e,"query");if(s)return Ma(s,"querystring",r.schemaErrorFormatter);let i=La(r[Fa],e,"headers");return i?Ma(i,"headers",r.schemaErrorFormatter):null}function Ma(r,e,t){if(r instanceof Error)return r.validationContext=r.validationContext||e,r;let n=t(r,e);return n.validation=r,n.validationContext=e,n}_g.exports={symbols:{bodySchema:ju,querystringSchema:xu,responseSchema:wg,paramsSchema:Nu,headersSchema:Fa},compileSchemasForValidation:zI,compileSchemasForSerialization:VI,validate:BI}});var Du=b((bz,Rg)=>{"use strict";var{kReplyIsError:Sg,kReplySent:Ha,kReplySentOverwritten:Pg}=nr(),{FST_ERR_PROMISE_NOT_FULFILLED:GI}=$r();function KI(r,e){r.then(function(t){if(e[Pg]!==!0)if(t!==void 0||e.raw.statusCode===204&&e[Ha]===!1)try{e.send(t)}catch(n){e[Ha]=!1,e[Sg]=!0,e.send(n)}else e[Ha]===!1&&e.log.error({err:new GI},"Promise may not be fulfilled with 'undefined' when statusCode is not 204")},function(t){if(e[Pg]===!0||e.sent===!0){e.log.error({err:t},"Promise errored, but reply.sent = true was set");return}e[Ha]=!1,e[Sg]=!0,e.send(t)})}Rg.exports=KI});var Hu=b((Ez,Mu)=>{"use strict";var{validate:JI}=ku(),{hookRunner:$g,hookIterator:Og}=os(),WI=Du(),{kReplyIsError:QI}=nr();function YI(r,e,t){if(t.sent===!0)return;if(r!=null){t.send(r);return}let n=e.raw.method,s=e.headers;if(n==="GET"||n==="HEAD"){ls(e,t);return}let i=s["content-type"];if(n==="POST"||n==="PUT"||n==="PATCH"){i===void 0?s["transfer-encoding"]===void 0&&(s["content-length"]==="0"||s["content-length"]===void 0)?ls(e,t):t.context.contentTypeParser.run("",ls,e,t):t.context.contentTypeParser.run(i,ls,e,t);return}if(n==="OPTIONS"||n==="DELETE"){i!==void 0&&(s["transfer-encoding"]!==void 0||s["content-length"]!==void 0)?t.context.contentTypeParser.run(i,ls,e,t):ls(e,t);return}t.code(404).send(new Error("Not Found"))}function ls(r,e){try{e.context.preValidation!==null?$g(e.context.preValidation,Og,r,e,Fu):Fu(null,r,e)}catch(t){Fu(t,r,e)}}function Fu(r,e,t){if(t.sent===!0||t.raw.writableEnded===!0||t.raw.writable===!1)return;if(r!=null){t.send(r);return}let n=JI(t.context,e);if(n){if(t.context.attachValidation===!1){t.code(400).send(n);return}t.request.validationError=n}t.context.preHandler!==null?$g(t.context.preHandler,Og,e,t,Lu):Lu(null,e,t)}function Lu(r,e,t){if(t.sent||t.raw.writableEnded===!0||t.raw.writable===!1)return;if(r!=null){t.send(r);return}let n;try{n=t.context.handler(e,t)}catch(s){s instanceof Error||(t[QI]=!0),t.send(s);return}n!==void 0&&(n!==null&&typeof n.then=="function"?WI(n,t):t.send(n))}Mu.exports=YI;Mu.exports[Symbol.for("internals")]={handler:ls,preHandlerCallback:Lu}});var Ig=b((wz,Tg)=>{"use strict";function Qs(){}var XI={fatal:Qs,error:Qs,warn:Qs,info:Qs,debug:Qs,trace:Qs};Object.defineProperty(Tg,"exports",{get(){return Object.create(XI)}})});var Ng=b((_z,Ag)=>{"use strict";Ag.exports=qg;var{toString:ZI}=Object.prototype,Uu=Symbol("circular-ref-tag"),Vu=Symbol("pino-raw-err-ref"),Cg=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Vu]},set:function(r){this[Vu]=r}}});Object.defineProperty(Cg,Vu,{writable:!0,value:{}});function qg(r){if(!(r instanceof Error))return r;r[Uu]=void 0;let e=Object.create(Cg);e.type=ZI.call(r.constructor)==="[object Function]"?r.constructor.name:r.name,e.message=r.message,e.stack=r.stack;for(let t in r)if(e[t]===void 0){let n=r[t];n instanceof Error?n.hasOwnProperty(Uu)||(e[t]=qg(n)):e[t]=n}return delete r[Uu],e.raw=r,e}});var Dg=b((Sz,kg)=>{"use strict";kg.exports={mapHttpRequest:eC,reqSerializer:jg};var zu=Symbol("pino-raw-req-ref"),xg=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[zu]},set:function(r){this[zu]=r}}});Object.defineProperty(xg,zu,{writable:!0,value:{}});function jg(r){let e=r.info||r.socket,t=Object.create(xg);return t.id=typeof r.id=="function"?r.id():r.id||(r.info?r.info.id:void 0),t.method=r.method,r.originalUrl?(t.url=r.originalUrl,t.query=r.query,t.params=r.params):t.url=r.path||(r.url?r.url.path||r.url:void 0),t.headers=r.headers,t.remoteAddress=e&&e.remoteAddress,t.remotePort=e&&e.remotePort,t.raw=r.raw||r,t}function eC(r){return{req:jg(r)}}});var Hg=b((Pz,Mg)=>{"use strict";Mg.exports={mapHttpResponse:rC,resSerializer:Lg};var Bu=Symbol("pino-raw-res-ref"),Fg=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Bu]},set:function(r){this[Bu]=r}}});Object.defineProperty(Fg,Bu,{writable:!0,value:{}});function Lg(r){let e=Object.create(Fg);return e.statusCode=r.statusCode,e.headers=r.getHeaders?r.getHeaders():r._headers,e.raw=r,e}function rC(r){return{res:Lg(r)}}});var Ku=b((Rz,Ug)=>{"use strict";var Gu=Ng(),Ua=Dg(),Va=Hg();Ug.exports={err:Gu,mapHttpRequest:Ua.mapHttpRequest,mapHttpResponse:Va.mapHttpResponse,req:Ua.reqSerializer,res:Va.resSerializer,wrapErrorSerializer:function(e){return e===Gu?e:function(n){return e(Gu(n))}},wrapRequestSerializer:function(e){return e===Ua.reqSerializer?e:function(n){return e(Ua.reqSerializer(n))}},wrapResponseSerializer:function(e){return e===Va.resSerializer?e:function(n){return e(Va.resSerializer(n))}}}});var zg=b(($z,Vg)=>{"use strict";var{createContext:tC,runInContext:sC}=require("vm");Vg.exports=nC;function nC(r={}){let{ERR_PATHS_MUST_BE_STRINGS:e=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:t=n=>`fast-redact \u2013 Invalid path (${n})`}=r;return function({paths:s}){s.forEach(i=>{if(typeof i!="string")throw Error(e());try{if(/〇/.test(i))throw Error();let a=new Proxy({},{get:()=>a,set:()=>{throw Error()}}),o=(i[0]==="["?"":".")+i.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(o)||/\/\*/.test(o))throw Error();sC(`
          (function () {
            'use strict'
            o${o}
            if ([o${o}].length !== 1) throw Error()
          })()
        `,tC({o:a,"\u3007":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch{throw Error(t(i))}})}}});var za=b((Oz,Bg)=>{"use strict";Bg.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var Kg=b((Tz,Gg)=>{"use strict";var iC=za();Gg.exports=aC;function aC({paths:r}){let e=[];var t=0;let n=r.reduce(function(s,i,a){var o=i.match(iC).map(u=>u.replace(/'|"|`/g,""));let c=i[0]==="[";o=o.map(u=>u[0]==="["?u.substr(1,u.length-2):u);let f=o.indexOf("*");if(f>-1){let u=o.slice(0,f),h=u.join("."),d=o.slice(f+1,o.length);if(d.indexOf("*")>-1)throw Error("fast-redact \u2013 Only one wildcard per path is supported");let l=d.length>0;t++,e.push({before:u,beforeStr:h,after:d,nested:l})}else s[i]={path:o,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(i),leadingBracket:c};return s},{});return{wildcards:e,wcLen:t,secret:n}}});var Wg=b((Iz,Jg)=>{"use strict";var oC=za();Jg.exports=lC;function lC({secret:r,serialize:e,wcLen:t,strict:n,isCensorFct:s,censorFctTakesPath:i},a){let o=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${hC(n,e)}
    }
    const { censor, secret } = this
    ${uC(r,s,i)}
    this.compileRestore()
    ${cC(t>0,s,i)}
    ${fC(e)}
  `).bind(a);return e===!1&&(o.restore=c=>a.restore(c)),o}function uC(r,e,t){return Object.keys(r).map(n=>{let{escPath:s,leadingBracket:i,path:a}=r[n],o=i?1:0,c=i?"":".",f=[];for(var u;(u=oC.exec(n))!==null;){let[,v]=u,{index:m,input:p}=u;m>o&&f.push(p.substring(0,m-(v?0:1)))}var h=f.map(v=>`o${c}${v}`).join(" && ");h.length===0?h+=`o${c}${n} != null`:h+=` && o${c}${n} != null`;let d=`
      switch (true) {
        ${f.reverse().map(v=>`
          case o${c}${v} === censor:
            secret[${s}].circle = ${JSON.stringify(v)}
            break
        `).join(`
`)}
      }
    `,l=t?`val, ${JSON.stringify(a)}`:"val";return`
      if (${h}) {
        const val = o${c}${n}
        if (val === censor) {
          secret[${s}].precensored = true
        } else {
          secret[${s}].val = val
          o${c}${n} = ${e?`censor(${l})`:"censor"}
          ${d}
        }
      }
    `}).join(`
`)}function cC(r,e,t){return r===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${e}, ${t})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${e}, ${t})
      }
    }
  `:""}function fC(r){return r===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function hC(r,e){return r===!0?"throw Error('fast-redact: primitives cannot be redacted')":e===!1?"return o":"return this.serialize(o)"}});var Ju=b((Cz,Yg)=>{"use strict";Yg.exports={groupRedact:pC,groupRestore:dC,nestedRedact:vC,nestedRestore:mC};function dC({keys:r,values:e,target:t}){if(t==null)return;let n=r.length;for(var s=0;s<n;s++){let i=r[s];t[i]=e[s]}}function pC(r,e,t,n,s){let i=Qg(r,e);if(i==null)return{keys:null,values:null,target:null,flat:!0};let a=Object.keys(i),o=a.length,c=e.length,f=s?[...e]:void 0,u=new Array(o);for(var h=0;h<o;h++){let d=a[h];u[h]=i[d],s?(f[c]=d,i[d]=t(i[d],f)):n?i[d]=t(i[d]):i[d]=t}return{keys:a,values:u,target:i,flat:!0}}function mC(r){let e=r.length;for(var t=0;t<e;t++){let{key:n,target:s,value:i}=r[t];s[n]=i}}function vC(r,e,t,n,s,i,a){let o=Qg(e,t);if(o==null)return;let c=Object.keys(o),f=c.length;for(var u=0;u<f;u++){let h=c[u],{value:d,parent:l,exists:v}=yC(o,h,t,n,s,i,a);v===!0&&l!==null&&r.push({key:n[n.length-1],target:l,value:d})}return r}function gC(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function yC(r,e,t,n,s,i,a){let o=n.length,c=o-1,f=e;var u=-1,h,d,l,v=null,m=!0;if(l=h=r[e],typeof h!="object")return{value:null,parent:null,exists:m};for(;h!=null&&++u<o;){if(e=n[u],v=l,!(e in h)){m=!1;break}if(l=h[e],d=u!==c?l:i?a?s(l,[...t,f,...n]):s(l):s,h[e]=gC(h,e)&&d===l||d===void 0&&s!==void 0?h[e]:d,h=h[e],typeof h!="object")break}return{value:l,parent:v,exists:m}}function Qg(r,e){for(var t=-1,n=e.length,s=r;s!=null&&++t<n;)s=s[e[t]];return s}});var Zg=b((qz,Xg)=>{"use strict";var{groupRestore:bC,nestedRestore:EC}=Ju();Xg.exports=wC;function wC({secret:r,wcLen:e}){return function(){if(this.restore)return;let n=Object.keys(r),s=_C(r,n),i=e>0,a=i?{secret:r,groupRestore:bC,nestedRestore:EC}:{secret:r};this.restore=Function("o",SC(s,n,i)).bind(a)}}function _C(r,e){return e.map(t=>{let{circle:n,escPath:s,leadingBracket:i}=r[t],o=n?`o.${n} = secret[${s}].val`:`o${i?"":"."}${t} = secret[${s}].val`,c=`secret[${s}].val = undefined`;return`
      if (secret[${s}].val !== undefined) {
        try { ${o} } catch (e) {}
        ${c}
      }
    `}).join("")}function SC(r,e,t){return`
    const secret = this.secret
    ${t===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${e.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:""}
    ${r}
    return o
  `}});var ry=b((Az,ey)=>{"use strict";ey.exports=PC;function PC(r){let{secret:e,censor:t,compileRestore:n,serialize:s,groupRedact:i,nestedRedact:a,wildcards:o,wcLen:c}=r,f=[{secret:e,censor:t,compileRestore:n}];return s!==!1&&f.push({serialize:s}),c>0&&f.push({groupRedact:i,nestedRedact:a,wildcards:o,wcLen:c}),Object.assign(...f)}});var ny=b((Nz,sy)=>{"use strict";var ty=zg(),RC=Kg(),$C=Wg(),OC=Zg(),{groupRedact:TC,nestedRedact:IC}=Ju(),CC=ry(),qC=za(),AC=ty(),Wu=r=>r;Wu.restore=Wu;var NC="[REDACTED]";Qu.rx=qC;Qu.validator=ty;sy.exports=Qu;function Qu(r={}){let e=Array.from(new Set(r.paths||[])),t="serialize"in r&&(r.serialize===!1||typeof r.serialize=="function")?r.serialize:JSON.stringify,n=r.remove;if(n===!0&&t!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let s=n===!0?void 0:"censor"in r?r.censor:NC,i=typeof s=="function",a=i&&s.length>1;if(e.length===0)return t||Wu;AC({paths:e,serialize:t,censor:s});let{wildcards:o,wcLen:c,secret:f}=RC({paths:e,censor:s}),u=OC({secret:f,wcLen:c}),h="strict"in r?r.strict:!0;return $C({secret:f,wcLen:c,serialize:t,strict:h,isCensorFct:i,censorFctTakesPath:a},CC({secret:f,censor:s,compileRestore:u,serialize:t,groupRedact:TC,nestedRedact:IC,wildcards:o,wcLen:c}))}});var Ys=b((xz,iy)=>{"use strict";var xC=Symbol("pino.setLevel"),jC=Symbol("pino.getLevel"),kC=Symbol("pino.levelVal"),DC=Symbol("pino.useLevelLabels"),FC=Symbol("pino.useOnlyCustomLevels"),LC=Symbol("pino.mixin"),MC=Symbol("pino.lsCache"),HC=Symbol("pino.chindings"),UC=Symbol("pino.parsedChindings"),VC=Symbol("pino.asJson"),zC=Symbol("pino.write"),BC=Symbol("pino.redactFmt"),GC=Symbol("pino.time"),KC=Symbol("pino.timeSliceIndex"),JC=Symbol("pino.stream"),WC=Symbol("pino.stringify"),QC=Symbol("pino.stringifiers"),YC=Symbol("pino.end"),XC=Symbol("pino.formatOpts"),ZC=Symbol("pino.messageKey"),eq=Symbol("pino.nestedKey"),rq=Symbol("pino.wildcardFirst"),tq=Symbol.for("pino.serializers"),sq=Symbol.for("pino.formatters"),nq=Symbol.for("pino.hooks"),iq=Symbol.for("pino.metadata");iy.exports={setLevelSym:xC,getLevelSym:jC,levelValSym:kC,useLevelLabelsSym:DC,mixinSym:LC,lsCacheSym:MC,chindingsSym:HC,parsedChindingsSym:UC,asJsonSym:VC,writeSym:zC,serializersSym:tq,redactFmtSym:BC,timeSym:GC,timeSliceIndexSym:KC,streamSym:JC,stringifySym:WC,stringifiersSym:QC,endSym:YC,formatOptsSym:XC,messageKeySym:ZC,nestedKeySym:eq,wildcardFirstSym:rq,needsMetadataGsym:iq,useOnlyCustomLevelsSym:FC,formattersSym:sq,hooksSym:nq}});var Zu=b((jz,uy)=>{"use strict";var Yu=ny(),{redactFmtSym:aq,wildcardFirstSym:Ba}=Ys(),{rx:Xu,validator:oq}=Yu,ay=oq({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:r=>`pino \u2013 redact paths array contains an invalid path (${r})`}),oy="[Redacted]",ly=!1;function lq(r,e){let{paths:t,censor:n}=uq(r),s=t.reduce((o,c)=>{Xu.lastIndex=0;let f=Xu.exec(c),u=Xu.exec(c),h=f[1]!==void 0?f[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):f[0];if(h==="*"&&(h=Ba),u===null)return o[h]=null,o;if(o[h]===null)return o;let{index:d}=u,l=`${c.substr(d,c.length-1)}`;return o[h]=o[h]||[],h!==Ba&&o[h].length===0&&o[h].push(...o[Ba]||[]),h===Ba&&Object.keys(o).forEach(function(v){o[v]&&o[v].push(l)}),o[h].push(l),o},{}),i={[aq]:Yu({paths:t,censor:n,serialize:e,strict:ly})},a=(...o)=>e(typeof n=="function"?n(...o):n);return[...Object.keys(s),...Object.getOwnPropertySymbols(s)].reduce((o,c)=>{if(s[c]===null)o[c]=f=>a(f,[c]);else{let f=typeof n=="function"?(u,h)=>n(u,[c,...h]):n;o[c]=Yu({paths:s[c],censor:f,serialize:e,strict:ly})}return o},i)}function uq(r){if(Array.isArray(r))return r={paths:r,censor:oy},ay(r),r;let{paths:e,censor:t=oy,remove:n}=r;if(Array.isArray(e)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(t=void 0),ay({paths:e,censor:t}),{paths:e,censor:t}}uy.exports=lq});var fy=b((kz,cy)=>{"use strict";var cq=()=>"",fq=()=>`,"time":${Date.now()}`,hq=()=>`,"time":${Math.round(Date.now()/1e3)}`,dq=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;cy.exports={nullTime:cq,epochTime:fq,unixTime:hq,isoTime:dq}});var hy=b((Dz,ec)=>{"use strict";if(typeof SharedArrayBuffer!="undefined"&&typeof Atomics!="undefined"){let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(r,0,0,Number(t))},r=new Int32Array(new SharedArrayBuffer(4));ec.exports=e}else{let r=function(e){if((e>0&&e<1/0)===!1)throw typeof e!="number"&&typeof e!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(e);for(;n>Date.now(););};ec.exports=r}});var sc=b((Fz,my)=>{"use strict";var ot=require("fs"),pq=require("events"),mq=Mn(),vq=require("util").inherits,rc=100,dy=hy(),tc=16*1024*1024;function py(r,e){e._opening=!0,e._writing=!0,e._asyncDrainScheduled=!1;function t(n,s){if(n){e._reopening=!1,e._writing=!1,e._opening=!1,e.sync?process.nextTick(()=>{e.listenerCount("error")>0&&e.emit("error",n)}):e.emit("error",n);return}if(e.fd=s,e.file=r,e._reopening=!1,e._opening=!1,e._writing=!1,e.sync?process.nextTick(()=>e.emit("ready")):e.emit("ready"),e._reopening)return;let i=e._buf.length;i>0&&i>e.minLength&&!e.destroyed&&Xs(e)}if(e.sync)try{let n=ot.openSync(r,"a");t(null,n)}catch(n){throw t(n),n}else ot.open(r,"a",t)}function lt(r){if(!(this instanceof lt))return new lt(r);let{fd:e,dest:t,minLength:n,sync:s}=r||{};if(e=e||t,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=s||!1,this.minLength=n||0,typeof e=="number")this.fd=e,process.nextTick(()=>this.emit("ready"));else if(typeof e=="string")py(e,this);else throw new Error("SonicBoom supports only file descriptors and files");this.release=(i,a)=>{if(i){if(i.code==="EAGAIN")if(this.sync)try{dy(rc),this.release(void 0,0)}catch(c){this.release(c)}else setTimeout(()=>{ot.write(this.fd,this._writingBuf,"utf8",this.release)},rc);else this._buf=this._writingBuf+this._buf,this._writingBuf="",this._writing=!1,this.emit("error",i);return}if(this._writingBuf.length!==a)if(this._writingBuf=this._writingBuf.slice(a),this.sync)try{do a=ot.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(a);while(this._writingBuf.length!==0)}catch(c){this.release(c);return}else{ot.write(this.fd,this._writingBuf,"utf8",this.release);return}if(this._writingBuf="",this.destroyed)return;let o=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):o>0&&o>this.minLength?Xs(this):this._ending?o>0?Xs(this):(this._writing=!1,Ga(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(gq,this)):this.emit("drain"))},this.on("newListener",function(i){i==="drain"&&(this._asyncDrainScheduled=!1)})}function gq(r){r.listenerCount("drain")>0&&(r._asyncDrainScheduled=!1,r.emit("drain"))}vq(lt,pq);lt.prototype.write=function(r){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=r;let e=this._buf.length;return!this._writing&&e>this.minLength&&Xs(this),e<16384};lt.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||Xs(this)};lt.prototype.reopen=function(r){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(r)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(this._reopening=!0,this._writing)return;let e=this.fd;this.once("ready",()=>{e!==this.fd&&ot.close(e,t=>{if(t)return this.emit("error",t)})}),py(r||this.file,this)};lt.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}if(!this._ending){if(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0){Xs(this);return}this._writing||Ga(this)}};lt.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");for(;this._buf.length>0;)try{ot.writeSync(this.fd,this._buf,"utf8"),this._buf=""}catch(r){if(r.code!=="EAGAIN")throw r;dy(rc)}};lt.prototype.destroy=function(){this.destroyed||Ga(this)};function Xs(r){r._writing=!0;let e=r._buf,t=r.release;if(e.length>tc?(e=e.slice(0,tc),r._buf=r._buf.slice(tc)):r._buf="",mq(e),r._writingBuf=e,r.sync)try{let n=ot.writeSync(r.fd,e,"utf8");t(null,n)}catch(n){t(n)}else ot.write(r.fd,e,"utf8",t)}function Ga(r){if(r.fd===-1){r.once("ready",Ga.bind(null,r));return}ot.close(r.fd,e=>{if(e){r.emit("error",e);return}r._ending&&!r._writing&&r.emit("finish"),r.emit("close")}),r.destroyed=!0,r._buf=""}my.exports=lt});var ic=b((Lz,vy)=>{"use strict";var{format:nc}=require("util");function yq(){let r={},e=new Map;function t(s,i,a){if(!s)throw new Error("Warning name must not be empty");if(!i)throw new Error("Warning code must not be empty");if(!a)throw new Error("Warning message must not be empty");if(i=i.toUpperCase(),r[i]!==void 0)throw new Error(`The code '${i}' already exist`);function o(c,f,u){let h;return c&&f&&u?h=nc(a,c,f,u):c&&f?h=nc(a,c,f):c?h=nc(a,c):h=a,{code:i,name:s,message:h}}return e.set(i,!1),r[i]=o,r[i]}function n(s,i,a,o){if(r[s]===void 0)throw new Error(`The code '${s}' does not exist`);if(e.get(s)===!0)return;e.set(s,!0);let c=r[s](i,a,o);process.emitWarning(c.message,c.name,c.code)}return{create:t,emit:n,emitted:e}}vy.exports=yq});var yy=b((Mz,gy)=>{"use strict";var Gn=ic()();gy.exports=Gn;var Ka="PinoWarning";Gn.create(Ka,"PINODEP004","bindings.serializers is deprecated, use options.serializers option instead");Gn.create(Ka,"PINODEP005","bindings.formatters is deprecated, use options.formatters option instead");Gn.create(Ka,"PINODEP006","bindings.customLevels is deprecated, use options.customLevels option instead");Gn.create(Ka,"PINODEP007","bindings.level is deprecated, use options.level option instead")});var Ey=b((Hz,by)=>{"use strict";function bq(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}by.exports=Eq;function Eq(r,e,t){var n=t&&t.stringify||bq,s=1;if(typeof r=="object"&&r!==null){var i=e.length+s;if(i===1)return r;var a=new Array(i);a[0]=n(r);for(var o=1;o<i;o++)a[o]=n(e[o]);return a.join(" ")}if(typeof r!="string")return r;var c=e.length;if(c===0)return r;for(var f="",u=1-s,h=-1,d=r&&r.length||0,l=0;l<d;){if(r.charCodeAt(l)===37&&l+1<d){switch(h=h>-1?h:0,r.charCodeAt(l+1)){case 100:case 102:if(u>=c||e[u]==null)break;h<l&&(f+=r.slice(h,l)),f+=Number(e[u]),h=l+2,l++;break;case 105:if(u>=c||e[u]==null)break;h<l&&(f+=r.slice(h,l)),f+=Math.floor(Number(e[u])),h=l+2,l++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;h<l&&(f+=r.slice(h,l));var v=typeof e[u];if(v==="string"){f+="'"+e[u]+"'",h=l+2,l++;break}if(v==="function"){f+=e[u].name||"<anonymous>",h=l+2,l++;break}f+=n(e[u]),h=l+2,l++;break;case 115:if(u>=c)break;h<l&&(f+=r.slice(h,l)),f+=String(e[u]),h=l+2,l++;break;case 37:h<l&&(f+=r.slice(h,l)),f+="%",h=l+2,l++,u--;break}++u}++l}return h===-1?r:(h<d&&(f+=r.slice(h)),f)}});var $y=b((Uz,Ry)=>{Ry.exports=Kn;Kn.default=Kn;Kn.stable=Sy;Kn.stableStringify=Sy;var Ja="[...]",wy="[Circular]",us=[],cs=[];function _y(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Kn(r,e,t,n){typeof n=="undefined"&&(n=_y()),ac(r,"",0,[],void 0,0,n);var s;try{cs.length===0?s=JSON.stringify(r,e,t):s=JSON.stringify(r,Py(e),t)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;us.length!==0;){var i=us.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function Zs(r,e,t,n){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:r}),us.push([n,t,e,s])):cs.push([e,t,r]):(n[t]=r,us.push([n,t,e]))}function ac(r,e,t,n,s,i,a){i+=1;var o;if(typeof r=="object"&&r!==null){for(o=0;o<n.length;o++)if(n[o]===r){Zs(wy,r,e,s);return}if(typeof a.depthLimit!="undefined"&&i>a.depthLimit){Zs(Ja,r,e,s);return}if(typeof a.edgesLimit!="undefined"&&t+1>a.edgesLimit){Zs(Ja,r,e,s);return}if(n.push(r),Array.isArray(r))for(o=0;o<r.length;o++)ac(r[o],o,o,n,r,i,a);else{var c=Object.keys(r);for(o=0;o<c.length;o++){var f=c[o];ac(r[f],f,o,n,r,i,a)}}n.pop()}}function wq(r,e){return r<e?-1:r>e?1:0}function Sy(r,e,t,n){typeof n=="undefined"&&(n=_y());var s=oc(r,"",0,[],void 0,0,n)||r,i;try{cs.length===0?i=JSON.stringify(s,e,t):i=JSON.stringify(s,Py(e),t)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;us.length!==0;){var a=us.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function oc(r,e,t,n,s,i,a){i+=1;var o;if(typeof r=="object"&&r!==null){for(o=0;o<n.length;o++)if(n[o]===r){Zs(wy,r,e,s);return}try{if(typeof r.toJSON=="function")return}catch{return}if(typeof a.depthLimit!="undefined"&&i>a.depthLimit){Zs(Ja,r,e,s);return}if(typeof a.edgesLimit!="undefined"&&t+1>a.edgesLimit){Zs(Ja,r,e,s);return}if(n.push(r),Array.isArray(r))for(o=0;o<r.length;o++)oc(r[o],o,o,n,r,i,a);else{var c={},f=Object.keys(r).sort(wq);for(o=0;o<f.length;o++){var u=f[o];oc(r[u],u,o,n,r,i,a),c[u]=r[u]}if(typeof s!="undefined")us.push([s,e,r]),s[e]=c;else return c}n.pop()}}function Py(r){return r=typeof r!="undefined"?r:function(e,t){return t},function(e,t){if(cs.length>0)for(var n=0;n<cs.length;n++){var s=cs[n];if(s[1]===e&&s[0]===t){t=s[2],cs.splice(n,1);break}}return r.call(this,e,t)}}});var Qa=b((Vz,Fy)=>{"use strict";var Oy=Ey(),{mapHttpRequest:_q,mapHttpResponse:Sq}=Ku(),Ty=sc(),Pq=$y(),{lsCacheSym:Rq,chindingsSym:lc,parsedChindingsSym:uc,writeSym:Iy,serializersSym:cc,formatOptsSym:Cy,endSym:$q,stringifiersSym:fc,stringifySym:qy,wildcardFirstSym:Ay,needsMetadataGsym:Ny,redactFmtSym:Oq,streamSym:Tq,nestedKeySym:xy,formattersSym:hc,messageKeySym:jy}=Ys();function Jn(){}function Iq(r,e){if(!e)return t;return function(...s){e.call(this,s,t,r)};function t(n,...s){if(typeof n=="object"){let i=n;n!==null&&(n.method&&n.headers&&n.socket?n=_q(n):typeof n.setHeader=="function"&&(n=Sq(n))),this[xy]&&(n={[this[xy]]:n});let a;i===null&&s.length===0?a=[null]:(i=s.shift(),a=s),this[Iy](n,Oy(i,a,this[Cy]),r)}else this[Iy](null,Oy(n,s,this[Cy]),r)}}function Cq(r){let e="",t=0,n=!1,s=255,i=r.length;if(i>100)return JSON.stringify(r);for(var a=0;a<i&&s>=32;a++)s=r.charCodeAt(a),(s===34||s===92)&&(e+=r.slice(t,a)+"\\",t=a,n=!0);return n?e+=r.slice(t):e=r,s<32?JSON.stringify(r):'"'+e+'"'}function qq(r,e,t,n){let s=this[qy],i=this[fc],a=this[$q],o=this[lc],c=this[cc],f=this[hc],u=this[jy],h=this[Rq][t]+n;h=h+o;let d,l=r.hasOwnProperty===void 0;f.log&&(r=f.log(r)),e!==void 0&&(r[u]=e);let v=i[Ay];for(let m in r)if(d=r[m],(l||r.hasOwnProperty(m))&&d!==void 0){d=c[m]?c[m](d):d;let p=i[m]||v;switch(typeof d){case"undefined":case"function":continue;case"number":Number.isFinite(d)===!1&&(d=null);case"boolean":p&&(d=p(d));break;case"string":d=(p||Cq)(d);break;default:d=(p||s)(d)}if(d===void 0)continue;h+=',"'+m+'":'+d}return h+a}function Aq(r,e){let t,n=r[lc],s=r[qy],i=r[fc],a=i[Ay],o=r[cc];e=r[hc].bindings(e);for(let f in e)if(t=e[f],(f!=="level"&&f!=="serializers"&&f!=="formatters"&&f!=="customLevels"&&e.hasOwnProperty(f)&&t!==void 0)===!0){if(t=o[f]?o[f](t):t,t=(i[f]||a||s)(t),t===void 0)continue;n+=',"'+f+'":'+t}return n}function ky(r,e,t,n){if(e&&typeof e=="function")return e=e.bind(n),dc(e(r),t,r);try{let s=require("pino-pretty").prettyFactory||require("pino-pretty");return s.asMetaWrapper=dc,dc(s(r),t,r)}catch(s){throw s.message.startsWith("Cannot find module 'pino-pretty'")?Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately"):s}}function dc(r,e,t){t=Object.assign({suppressFlushSyncWarning:!1},t);let n=!1;return{[Ny]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){t.suppressFlushSyncWarning||n||(n=!0,Dy(e,this),e.write(r(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){let s=this.lastLogger,i=null;return s?(s.hasOwnProperty(uc)?i=s[uc]:(i=JSON.parse("{"+s[lc].substr(1)+"}"),s[uc]=i),i):null},write(s){let i=this.lastLogger,a=this.chindings(),o=this.lastTime;o.match(/^\d+/)?o=parseInt(o):o=o.slice(1,-1);let c=this.lastObj,f=this.lastMsg,u=null,h=i[hc],d=h.log?h.log(c):c,l=i[jy];f&&d&&!d.hasOwnProperty(l)&&(d[l]=f);let v=Object.assign({level:this.lastLevel,time:o},d,u),m=i[cc],p=Object.keys(m);for(var g=0;g<p.length;g++){let y=p[g];v[y]!==void 0&&(v[y]=m[y](v[y]))}for(let y in a)v.hasOwnProperty(y)||(v[y]=a[y]);let R=i[fc][Oq],_=r(typeof R=="function"?R(v):v);_!==void 0&&(Dy(e,this),e.write(_))}}}function Nq(r){return r.write!==r.constructor.prototype.write}function Wa(r){let e=new Ty(r);return e.on("error",t),e;function t(n){if(n.code==="EPIPE"){e.write=Jn,e.end=Jn,e.flushSync=Jn,e.destroy=Jn;return}e.removeListener("error",t),e.emit("error",n)}}function xq(r){return function(t,n={},s){if(typeof n=="string"?(s=Wa({dest:n,sync:!0}),n={}):typeof s=="string"?s=Wa({dest:s,sync:!0}):(n instanceof Ty||n.writable||n._writableState)&&(s=n,n=null),n=Object.assign({},r,n),"extreme"in n)throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in n)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in n&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),n.levelKey=n.changeLevelName,delete n.changeLevelName);let{enabled:i,prettyPrint:a,prettifier:o,messageKey:c}=n;if(i===!1&&(n.level="silent"),s=s||process.stdout,s===process.stdout&&s.fd>=0&&!Nq(s)&&(s=Wa({fd:s.fd,sync:!0})),a){let f=Object.assign({messageKey:c},a);s=ky(f,o,s,t)}return{opts:n,stream:s}}}function jq(r,e){if(typeof r=="undefined"||typeof r.child!="function")throw Error("expected a pino logger instance");let t=typeof e!="undefined";if(t&&typeof e!="function")throw Error("if supplied, the handler parameter should be a function");let n=r[Tq];if(typeof n.flushSync!="function")throw Error("final requires a stream that has a flushSync method, such as pino.destination");let s=new Proxy(r,{get:(i,a)=>a in i.levels.values?(...o)=>{i[a](...o),n.flushSync()}:i[a]});return t?(i=null,...a)=>{try{n.flushSync()}catch{}return e(i,s,...a)}:s}function kq(r){try{return JSON.stringify(r)}catch{return Pq(r)}}function Dq(r,e,t){return{level:r,bindings:e,log:t}}function Dy(r,e){r[Ny]===!0&&(r.lastLevel=e.lastLevel,r.lastMsg=e.lastMsg,r.lastObj=e.lastObj,r.lastTime=e.lastTime,r.lastLogger=e.lastLogger)}Fy.exports={noop:Jn,buildSafeSonicBoom:Wa,getPrettyStream:ky,asChindings:Aq,asJson:qq,genLog:Iq,createArgsNormalizer:xq,final:jq,stringify:kq,buildFormatters:Dq}});var vc=b((zz,My)=>{"use strict";var Fq=Mn(),{lsCacheSym:Lq,levelValSym:pc,useOnlyCustomLevelsSym:Mq,streamSym:Hq,formattersSym:Uq,hooksSym:Vq}=Ys(),{noop:zq,genLog:fs}=Qa(),ut={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Ly={fatal:r=>{let e=fs(ut.fatal,r);return function(...t){let n=this[Hq];if(e.call(this,...t),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:r=>fs(ut.error,r),warn:r=>fs(ut.warn,r),info:r=>fs(ut.info,r),debug:r=>fs(ut.debug,r),trace:r=>fs(ut.trace,r)},mc=Object.keys(ut).reduce((r,e)=>(r[ut[e]]=e,r),{}),Bq=Object.keys(mc).reduce((r,e)=>(r[e]=Fq('{"level":'+Number(e)),r),{});function Gq(r){let e=r[Uq].level,{labels:t}=r.levels,n={};for(let s in t){let i=e(t[s],Number(s));n[s]=JSON.stringify(i).slice(0,-1)}return r[Lq]=n,r}function Kq(r,e){if(e)return!1;switch(r){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function Jq(r){let{labels:e,values:t}=this.levels;if(typeof r=="number"){if(e[r]===void 0)throw Error("unknown level value"+r);r=e[r]}if(t[r]===void 0)throw Error("unknown level "+r);let n=this[pc],s=this[pc]=t[r],i=this[Mq],a=this[Vq].logMethod;for(let o in t){if(s>t[o]){this[o]=zq;continue}this[o]=Kq(o,i)?Ly[o](a):fs(t[o],a)}this.emit("level-change",r,s,e[n],n)}function Wq(r){let{levels:e,levelVal:t}=this;return e&&e.labels?e.labels[t]:""}function Qq(r){let{values:e}=this.levels,t=e[r];return t!==void 0&&t>=this[pc]}function Yq(r=null,e=!1){let t=r?Object.keys(r).reduce((i,a)=>(i[r[a]]=a,i),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),e?null:mc,t),s=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),e?null:ut,r);return{labels:n,values:s}}function Xq(r,e,t){if(typeof r=="number"){if(![].concat(Object.keys(e||{}).map(i=>e[i]),t?[]:Object.keys(mc).map(i=>+i),1/0).includes(r))throw Error(`default level:${r} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:ut,e);if(!(r in n))throw Error(`default level:${r} must be included in custom levels`)}function Zq(r,e){let{labels:t,values:n}=r;for(let s in e){if(s in n)throw Error("levels cannot be overridden");if(e[s]in t)throw Error("pre-existing level values cannot be used for new levels")}}My.exports={initialLsCache:Bq,genLsCache:Gq,levelMethods:Ly,getLevel:Wq,setLevel:Jq,isLevelEnabled:Qq,mappings:Yq,assertNoLevelCollisions:Zq,assertDefaultLevelFound:Xq}});var Hy=b((Bz,eA)=>{eA.exports={name:"pino",version:"6.13.4",description:"super fast, all natural json logger",main:"pino.js",browser:"./browser.js",files:["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],scripts:{docs:"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js",lint:"eslint .",test:"npm run lint && tap --100 test/*test.js test/*/*test.js","test-ci":"npm run lint && tap test/*test.js test/*/*test.js --coverage-report=lcovonly","cov-ui":"tap --coverage-report=html test/*test.js test/*/*test.js",bench:"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},bin:{pino:"./bin.js"},precommit:"test",repository:{type:"git",url:"git+https://github.com/pinojs/pino.git"},keywords:["fast","logger","stream","json"],author:"Matteo Collina <hello@matteocollina.com>",contributors:["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],license:"MIT",bugs:{url:"https://github.com/pinojs/pino/issues"},homepage:"http://getpino.io",devDependencies:{airtap:"4.0.3",benchmark:"^2.1.4",bole:"^4.0.0",bunyan:"^1.8.14","docsify-cli":"^4.4.1",eslint:"^7.17.0","eslint-config-standard":"^16.0.2","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0",execa:"^5.0.0",fastbench:"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1",log:"^6.0.0",loglevel:"^1.6.7","pino-pretty":"^5.0.0","pre-commit":"^1.2.2",proxyquire:"^2.1.3",pump:"^3.0.0",semver:"^7.0.0",split2:"^3.1.1",steed:"^1.1.3","strip-ansi":"^6.0.0",tap:"^15.0.1",tape:"^5.0.0",through2:"^4.0.0",winston:"^3.3.3"},dependencies:{"fast-redact":"^3.0.0","fast-safe-stringify":"^2.0.8","process-warning":"^1.0.0",flatstr:"^1.0.12","pino-std-serializers":"^3.1.0","quick-format-unescaped":"^4.0.3","sonic-boom":"^1.0.2"}}});var gc=b((Gz,Uy)=>{"use strict";var{version:rA}=Hy();Uy.exports={version:rA}});var Xy=b((Jz,Yy)=>{"use strict";var{EventEmitter:tA}=require("events"),sA=sc(),nA=Mn(),Ya=yy(),{lsCacheSym:iA,levelValSym:aA,setLevelSym:yc,getLevelSym:Vy,chindingsSym:bc,parsedChindingsSym:oA,mixinSym:lA,asJsonSym:zy,writeSym:uA,timeSym:cA,timeSliceIndexSym:fA,streamSym:By,serializersSym:hs,formattersSym:Ec,useOnlyCustomLevelsSym:hA,needsMetadataGsym:dA,redactFmtSym:pA,stringifySym:mA,formatOptsSym:vA,stringifiersSym:gA}=Ys(),{getLevel:yA,setLevel:bA,isLevelEnabled:EA,mappings:wA,initialLsCache:_A,genLsCache:SA,assertNoLevelCollisions:PA}=vc(),{asChindings:Gy,asJson:RA,buildFormatters:Ky,stringify:Jy}=Qa(),{version:$A}=gc(),OA=Zu(),TA=class{},Wy={constructor:TA,child:IA,bindings:CA,setBindings:qA,flush:NA,isLevelEnabled:EA,version:$A,get level(){return this[Vy]()},set level(r){this[yc](r)},get levelVal(){return this[aA]},set levelVal(r){throw Error("levelVal is read-only")},[iA]:_A,[uA]:AA,[zy]:RA,[Vy]:yA,[yc]:bA};Object.setPrototypeOf(Wy,tA.prototype);Yy.exports=function(){return Object.create(Wy)};var Qy=r=>r;function IA(r,e){if(!r)throw Error("missing bindings for child Pino");e=e||{};let t=this[hs],n=this[Ec],s=Object.create(this);if(r.hasOwnProperty("serializers")===!0&&(Ya.emit("PINODEP004"),e.serializers=r.serializers),r.hasOwnProperty("formatters")===!0&&(Ya.emit("PINODEP005"),e.formatters=r.formatters),r.hasOwnProperty("customLevels")===!0&&(Ya.emit("PINODEP006"),e.customLevels=r.customLevels),r.hasOwnProperty("level")===!0&&(Ya.emit("PINODEP007"),e.level=r.level),e.hasOwnProperty("serializers")===!0){s[hs]=Object.create(null);for(let u in t)s[hs][u]=t[u];let c=Object.getOwnPropertySymbols(t);for(var i=0;i<c.length;i++){let u=c[i];s[hs][u]=t[u]}for(let u in e.serializers)s[hs][u]=e.serializers[u];let f=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<f.length;a++){let u=f[a];s[hs][u]=e.serializers[u]}}else s[hs]=t;if(e.hasOwnProperty("formatters")){let{level:c,bindings:f,log:u}=e.formatters;s[Ec]=Ky(c||n.level,f||Qy,u||n.log)}else s[Ec]=Ky(n.level,Qy,n.log);if(e.hasOwnProperty("customLevels")===!0&&(PA(this.levels,e.customLevels),s.levels=wA(e.customLevels,s[hA]),SA(s)),typeof e.redact=="object"&&e.redact!==null||Array.isArray(e.redact)){s.redact=e.redact;let c=OA(s.redact,Jy),f={stringify:c[pA]};s[mA]=Jy,s[gA]=c,s[vA]=f}s[bc]=Gy(s,r);let o=e.level||this.level;return s[yc](o),s}function CA(){let e=`{${this[bc].substr(1)}}`,t=JSON.parse(e);return delete t.pid,delete t.hostname,t}function qA(r){let e=Gy(this,r);this[bc]=e,delete this[oA]}function AA(r,e,t){let n=this[cA](),s=this[lA],i=r instanceof Error,a;r==null?a=s?s({}):{}:(a=Object.assign(s?s(r):{},r),!e&&i&&(e=r.message),i&&(a.stack=r.stack,a.type||(a.type="Error")));let o=this[zy](a,e,t,n),c=this[By];c[dA]===!0&&(c.lastLevel=t,c.lastObj=a,c.lastMsg=e,c.lastTime=n.slice(this[fA]),c.lastLogger=this),c instanceof sA?c.write(o):c.write(nA(o))}function NA(){let r=this[By];"flush"in r&&r.flush()}});var u0=b((Wz,Fr)=>{"use strict";var xA=require("os"),Zy=Ku(),jA=Zu(),e0=fy(),kA=Xy(),r0=Ys(),{assertDefaultLevelFound:DA,mappings:t0,genLsCache:FA}=vc(),{createArgsNormalizer:LA,asChindings:MA,final:HA,stringify:Xa,buildSafeSonicBoom:wc,buildFormatters:UA,noop:VA}=Qa(),{version:zA}=gc(),{chindingsSym:s0,redactFmtSym:BA,serializersSym:n0,timeSym:GA,timeSliceIndexSym:KA,streamSym:JA,stringifySym:i0,stringifiersSym:a0,setLevelSym:WA,endSym:QA,formatOptsSym:YA,messageKeySym:XA,nestedKeySym:ZA,mixinSym:eN,useOnlyCustomLevelsSym:rN,formattersSym:o0,hooksSym:tN}=r0,{epochTime:l0,nullTime:sN}=e0,{pid:nN}=process,iN=xA.hostname(),aN=Zy.err,_c={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:nN,hostname:iN},serializers:Object.assign(Object.create(null),{err:aN}),formatters:Object.assign(Object.create(null),{bindings(r){return r},level(r,e){return{level:e}}}),hooks:{logMethod:void 0},timestamp:l0,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},oN=LA(_c),lN=Object.assign(Object.create(null),Zy);function Sc(...r){let e={},{opts:t,stream:n}=oN(e,...r),{redact:s,crlf:i,serializers:a,timestamp:o,messageKey:c,nestedKey:f,base:u,name:h,level:d,customLevels:l,useLevelLabels:v,changeLevelName:m,levelKey:p,mixin:g,useOnlyCustomLevels:w,formatters:R,hooks:_}=t,y=UA(R.level,R.bindings,R.log);v&&!(m||p)?(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),y.level=uN):(m||p)&&!v?(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),y.level=cN(m||p)):(m||p)&&v&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),y.level=fN(m||p)),a[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),y.log=a[Symbol.for("pino.*")]),y.bindings||(y.bindings=_c.formatters.bindings),y.level||(y.level=_c.formatters.level);let O=s?jA(s,Xa):{},$=s?{stringify:O[BA]}:{stringify:Xa},D="}"+(i?`\r
`:`
`),C=MA.bind(null,{[s0]:"",[n0]:a,[a0]:O,[i0]:Xa,[o0]:y}),N="";u!==null&&(h===void 0?N=C(u):N=C(Object.assign({},u,{name:h})));let x=o instanceof Function?o:o?l0:sN,k=x().indexOf(":")+1;if(w&&!l)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(g&&typeof g!="function")throw Error(`Unknown mixin type "${typeof g}" - expected "function"`);DA(d,l,w);let j=t0(l,w);return Object.assign(e,{levels:j,[rN]:w,[JA]:n,[GA]:x,[KA]:k,[i0]:Xa,[a0]:O,[QA]:D,[YA]:$,[XA]:c,[ZA]:f,[n0]:a,[eN]:g,[s0]:N,[o0]:y,[tN]:_,silent:VA}),Object.setPrototypeOf(e,kA()),FA(e),e[WA](d),e}function uN(r,e){return{level:r}}function cN(r){return function(e,t){return{[r]:t}}}function fN(r){return function(e,t){return{[r]:e}}}Fr.exports=Sc;Fr.exports.extreme=(r=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),wc({dest:r,minLength:4096,sync:!1}));Fr.exports.destination=(r=process.stdout.fd)=>typeof r=="object"?(r.dest=r.dest||process.stdout.fd,wc(r)):wc({dest:r,minLength:0,sync:!0});Fr.exports.final=HA;Fr.exports.levels=t0();Fr.exports.stdSerializers=lN;Fr.exports.stdTimeFunctions=Object.assign({},e0);Fr.exports.symbols=r0;Fr.exports.version=zA;Fr.exports.default=Sc;Fr.exports.pino=Sc});var Rc=b((Qz,h0)=>{"use strict";var hN=Ig(),Za=u0(),{serializersSym:c0}=Za.symbols,{FST_ERR_LOG_INVALID_DESTINATION:dN}=$r();function f0(r,e){if(e=e||r.stream,delete r.stream,e&&r.file)throw new dN;r.file&&(e=Za.destination(r.file),delete r.file);let t=r.logger,n=r.genReqId,s=null;return t?(r.logger=void 0,r.genReqId=void 0,t[c0]&&(r.serializers=Object.assign({},r.serializers,t[c0])),s=t.child({},r),r.logger=t,r.genReqId=n):s=Za(r,e),s}var Pc={req:function(e){return{method:e.method,url:e.url,version:e.headers&&e.headers["accept-version"],hostname:e.hostname,remoteAddress:e.ip,remotePort:e.socket?e.socket.remotePort:void 0}},err:Za.stdSerializers.err,res:function(e){return{statusCode:e.statusCode}}};function pN(){let r=process.hrtime();return r[0]*1e3+r[1]/1e6}function mN(r){if(vN(r.logger))return{logger:f0({logger:r.logger,serializers:Object.assign({},Pc,r.logger.serializers)}),hasLogger:!0};if(r.logger){let e={};return Object.prototype.toString.call(r.logger)==="[object Object]"&&Reflect.ownKeys(r.logger).forEach(n=>{Object.defineProperty(e,n,{value:r.logger[n],writable:!0,enumerable:!0,configurable:!0})}),e.level=e.level||"info",e.serializers=Object.assign({},Pc,e.serializers),r.logger=e,{logger:f0(r.logger),hasLogger:!0}}else{let e=hN;return e.child=()=>e,{logger:e,hasLogger:!1}}}function vN(r){if(!r)return!1;let e=!0,t=["info","error","debug","fatal","warn","trace","child"];for(let n=0;n<t.length;n+=1)if(!r[t[n]]||typeof r[t[n]]!="function"){e=!1;break}return e}h0.exports={createLogger:mN,serializers:Pc,now:pN}});var ds=b((Yz,d0)=>{"use strict";var ct=ic()();ct.create("FastifyDeprecation","FSTDEP001",'You are accessing the Node.js core request object via "request.req", Use "request.raw" instead.');ct.create("FastifyDeprecation","FSTDEP002",'You are accessing the Node.js core response object via "reply.res", Use "reply.raw" instead.');ct.create("FastifyDeprecation","FSTDEP003","You are using the legacy Content Type Parser function signature. Use the one suggested in the documentation instead.");ct.create("FastifyDeprecation","FSTDEP004","You are using the legacy preParsing hook signature. Use the one suggested in the documentation instead.");ct.create("FastifyDeprecation","FSTDEP005",'You are accessing the deprecated "request.connection" property. Use "request.socket" instead.');ct.create("FastifyDeprecation","FSTDEP006","You are decorating Request/Reply with a reference type. This reference is shared amongst all requests. Use onRequest hook instead. Property: %s");ct.create("FastifyDeprecation","FSTDEP007",'You are trying to set a HEAD route using "exposeHeadRoute" route flag when a sibling route is already set. See documentation for more info.');ct.create("FastifyDeprecation","FSTDEP008",'You are using route constraints via the route { version: "..." } option, use { constraints: { version: "..." } } option instead.');ct.create("FastifyDeprecation","FSTDEP009",'You are using a custom route versioning strategy via the server { versioning: "..." } option, use { constraints: { version: "..." } } option instead.');d0.exports=ct});var no=b((Xz,so)=>{"use strict";var $c=require("stream").finished,Oc=require("http").STATUS_CODES,p0=Mn(),gN=qu(),{kSchemaResponse:yN,kFourOhFourContext:m0,kReplyErrorHandlerCalled:Wn,kReplySent:cr,kReplySentOverwritten:v0,kReplyStartTime:Qn,kReplyEndTime:Tc,kReplySerializer:wt,kReplySerializerDefault:eo,kReplyIsError:Yn,kReplyHeaders:ve,kReplyHasStatusCode:Ic,kReplyIsRunningOnErrorHook:ro,kDisableRequestLogging:g0}=nr(),{hookRunner:y0,hookIterator:bN,onSendHookRunner:Cc}=os(),b0=Hu()[Symbol.for("internals")],EN=Rc(),qc=EN.now,wN=Du(),E0=gN({type:"object",properties:{statusCode:{type:"number"},code:{type:"string"},error:{type:"string"},message:{type:"string"}}}),en={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE:w0,FST_ERR_REP_ALREADY_SENT:_0,FST_ERR_REP_SENT_VALUE:_N,FST_ERR_SEND_INSIDE_ONERR:SN,FST_ERR_BAD_STATUS_CODE:PN}=$r(),RN=ds();function De(r,e,t){this.raw=r,this[cr]=!1,this[wt]=null,this[Wn]=!1,this[Yn]=!1,this[ro]=!1,this.request=e,this[ve]={},this[Ic]=!1,this[Qn]=void 0,this.log=t}De.props=[];Object.defineProperties(De.prototype,{context:{get(){return this.request.context}},res:{get(){return RN.emit("FSTDEP002"),this.raw}},sent:{enumerable:!0,get(){return this[cr]},set(r){if(r!==!0)throw new _N;if(this[cr])throw new _0;this[v0]=!0,this[cr]=!0}},statusCode:{get(){return this.raw.statusCode},set(r){this.code(r)}},server:{value:null,writable:!0}});De.prototype.hijack=function(){return this[cr]=!0,this};De.prototype.send=function(r){if(this[ro]===!0)throw new SN;if(this[cr])return this.log.warn({err:new _0},"Reply already sent"),this;if(r instanceof Error||this[Yn]===!0)return to(this,r,rn),this;if(r===void 0)return rn(this,r),this;let e=this.getHeader("content-type"),t=e!==void 0;if(r!==null){if(Buffer.isBuffer(r)||typeof r.pipe=="function")return t===!1&&(this[ve]["content-type"]=en.OCTET),rn(this,r),this;if(t===!1&&typeof r=="string")return this[ve]["content-type"]=en.PLAIN,rn(this,r),this}if(this[wt]!==null){if(typeof r!="string")return S0(this,r),this;r=this[wt](r)}else if(t===!1||e.indexOf("json")>-1){if(t===!1)this[ve]["content-type"]=en.JSON;else if(e.indexOf("charset")===-1)if(e.indexOf("/json")>-1)this[ve]["content-type"]=en.JSON;else{let n=this[ve]["content-type"],s=n.substring(n.indexOf("/"),n.indexOf("json")+4);this[ve]["content-type"]=en.JSON.replace("/json",s)}if(typeof r!="string")return S0(this,r),this}return rn(this,r),this};De.prototype.getHeader=function(r){r=r.toLowerCase();let e=this.raw,t=this[ve][r];return t===void 0&&e.hasHeader(r)&&(t=e.getHeader(r)),t};De.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[ve]}};De.prototype.hasHeader=function(r){return r=r.toLowerCase(),this[ve][r]!==void 0?!0:this.raw.hasHeader(r)};De.prototype.removeHeader=function(r){return delete this[ve][r.toLowerCase()],this};De.prototype.header=function(r,e){let t=r.toLowerCase();return e=e===void 0?"":e,this[ve][t]&&t==="set-cookie"?(typeof this[ve][t]=="string"&&(this[ve][t]=[this[ve][t]]),Array.isArray(e)?Array.prototype.push.apply(this[ve][t],e):this[ve][t].push(e)):this[ve][t]=e,this};De.prototype.headers=function(r){let e=Object.keys(r);for(var t=0;t!==e.length;++t){let n=e[t];this.header(n,r[n])}return this};De.prototype.code=function(r){let e=parseInt(r);if(isNaN(e)||e<100||e>600)throw new PN(r||String(r));return this.raw.statusCode=e,this[Ic]=!0,this};De.prototype.status=De.prototype.code;De.prototype.serialize=function(r){return this[wt]!==null?this[wt](r):this.context&&this.context[eo]?this.context[eo](r,this.raw.statusCode):I0(this.context,r,this.raw.statusCode)};De.prototype.serializer=function(r){return this[wt]=r,this};De.prototype.type=function(r){return this[ve]["content-type"]=r,this};De.prototype.redirect=function(r,e){typeof r=="string"&&(e=r,r=this[Ic]?this.raw.statusCode:302),this.header("location",e).code(r).send()};De.prototype.callNotFound=function(){qN(this)};De.prototype.getResponseTime=function(){let r=0;return this[Qn]!==void 0&&(r=(this[Tc]||qc())-this[Qn]),r};De.prototype.then=function(r,e){if(this.sent){r();return}$c(this.raw,t=>{t&&t.code!=="ERR_STREAM_PREMATURE_CLOSE"?e?e(t):this.log&&this.log.warn("unhandled rejection on reply.then"):r()})};function S0(r,e){r.context.preSerialization!==null?Cc(r.context.preSerialization,r.request,r,e,P0):P0(null,r.request,r,e)}function P0(r,e,t,n){if(r!=null){to(t,r);return}t[wt]!==null?n=t[wt](n):t.context&&t.context[eo]?n=t.context[eo](n,t.raw.statusCode):n=I0(t.context,n,t.raw.statusCode),p0(n),rn(t,n)}function rn(r,e){r.context.onSend!==null?(r[cr]=!0,Cc(r.context.onSend,r.request,r,e,$N)):R0(r,e)}function $N(r,e,t,n){r!=null?to(t,r):R0(t,n)}function R0(r,e){let t=r.raw,n=r.request,s=t.statusCode;if(e==null){r[cr]=!0,s>=200&&s!==204&&s!==304&&n.method!=="HEAD"&&(r[ve]["content-length"]="0"),t.writeHead(s,r[ve]),t.end(null,null,null);return}if(typeof e.pipe=="function"){r[cr]=!0,ON(e,t,r);return}if(typeof e!="string"&&!Buffer.isBuffer(e))throw new w0(typeof e);r[ve]["content-length"]?n.raw.method!=="HEAD"&&r[ve]["content-length"]!==Buffer.byteLength(e)&&(r[ve]["content-length"]=""+Buffer.byteLength(e)):r[ve]["content-length"]=""+Buffer.byteLength(e),r[cr]=!0,t.writeHead(s,r[ve]),t.end(e,null,null)}function $0(r,e,t){e.code==="ERR_STREAM_PREMATURE_CLOSE"?r[g0]||r.info({res:t},"stream closed prematurely"):r.warn({err:e},"response terminated with an error with headers already sent")}function ON(r,e,t){let n=!0,s=!1;if($c(r,{readable:!0,writable:!1},function(i){n=!1,i!=null&&(e.headersSent?(s||(s=!0,$0(t.log,i,e)),e.destroy()):to(t,i))}),$c(e,function(i){n&&(i!=null&&e.headersSent&&!s&&(s=!0,$0(t.log,i,e)),typeof r.destroy=="function"?r.destroy():typeof r.close=="function"?r.close(AN):typeof r.abort=="function"?r.abort():t.log.warn("stream payload does not end properly"))}),e.headersSent)t.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let i in t[ve])e.setHeader(i,t[ve][i]);r.pipe(e)}function to(r,e,t){r[cr]=!0,r.context.onError!==null&&r[Wn]===!0?(r[ro]=!0,Cc(r.context.onError,r.request,r,e,()=>O0(r,e,t))):O0(r,e,t)}function O0(r,e,t){r[ro]=!1;let n=r.raw,s=n.statusCode;s=s>=400?s:500,e!=null&&(e.headers!==void 0&&r.headers(e.headers),e.status>=400?s=e.status:e.statusCode>=400&&(s=e.statusCode)),n.statusCode=s;let i=r.context.errorHandler;if(i&&r[Wn]===!1){r[cr]=!1,r[Yn]=!1,r[Wn]=!0,r.removeHeader("content-length");let o=i(e,r.request,r);o!==void 0&&(o!==null&&typeof o.then=="function"?wN(o,r):r.send(o));return}let a;try{let o=C0(r.context,s);if(a=o===!1?E0({error:Oc[s+""],code:e.code,message:e.message||"",statusCode:s}):o(Object.create(e,{error:{value:Oc[s+""]},message:{value:e.message||""},statusCode:{value:s}})),o!==!1&&typeof a!="string")throw new w0(typeof a)}catch(o){r.log.error({err:o,statusCode:n.statusCode},"The serializer for the given status code failed"),n.statusCode=500,a=E0({error:Oc["500"],code:o.code,message:o.message,statusCode:500})}if(p0(a),r[ve]["content-type"]=en.JSON,r[ve]["content-length"]=""+Buffer.byteLength(a),t){t(r,a);return}r[cr]=!0,n.writeHead(n.statusCode,r[ve]),n.end(a)}function TN(r){r[Qn]=qc();let e=t=>{r[Tc]=qc(),r.raw.removeListener("finish",e),r.raw.removeListener("error",e);let n=r.context;n&&n.onResponse!==null?y0(n.onResponse,IN,r.request,r,T0):T0(t,r.request,r)};r.raw.on("finish",e),r.raw.on("error",e)}function IN(r,e,t,n){return r(e,t,n)}function T0(r,e,t){if(t.log[g0])return;let n=t.getResponseTime();if(r!=null){t.log.error({res:t,err:r,responseTime:n},"request errored");return}t.log.info({res:t,responseTime:n},"request completed")}function CN(r){let e=[...r.props];function t(n,s,i){this.raw=n,this[Yn]=!1,this[Wn]=!1,this[cr]=!1,this[v0]=!1,this[wt]=null,this.request=s,this[ve]={},this[Qn]=void 0,this[Tc]=void 0,this.log=i;for(var a,o=0;o<e.length;o++)a=e[o],this[a.key]=a.value}return t.prototype=new r,t.props=e,t}function qN(r){if(r[cr]=!1,r[Yn]=!1,r.context[m0]===null){r.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),r.code(404).send("404 Not Found");return}r.request.context=r.context[m0],r.context.preHandler!==null?y0(r.context.preHandler,bN,r.request,r,b0.preHandlerCallback):b0.preHandlerCallback(null,r.request,r)}function I0(r,e,t){let n=C0(r,t);return n?n(e):JSON.stringify(e)}function C0(r,e){let t=r[yN];if(!t)return!1;if(t[e])return t[e];let n=(e+"")[0]+"xx";return t[n]?t[n]:!1}function AN(){}so.exports=De;so.exports.buildReply=CN;so.exports.setupResponseListeners=TN});var A0=b((Zz,q0)=>{"use strict";q0.exports=NN;function NN(r){if(!r)throw new TypeError("argument req is required");var e=jN(r.headers["x-forwarded-for"]||""),t=xN(r),n=[t].concat(e);return n}function xN(r){return r.socket?r.socket.remoteAddress:r.connection.remoteAddress}function jN(r){for(var e=r.length,t=[],n=r.length,s=r.length-1;s>=0;s--)switch(r.charCodeAt(s)){case 32:n===e&&(n=e=s);break;case 44:n!==e&&t.push(r.substring(n,e)),n=e=s;break;default:n=s;break}return n!==e&&t.push(r.substring(n,e)),t}});var x0=b((N0,Xn)=>{(function(){var r,e,t,n,s,i,a,o,c;e={},o=this,typeof Xn!="undefined"&&Xn!==null&&Xn.exports?Xn.exports=e:o.ipaddr=e,a=function(f,u,h,d){var l,v;if(f.length!==u.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(l=0;d>0;){if(v=h-d,v<0&&(v=0),f[l]>>v!=u[l]>>v)return!1;d-=h,l+=1}return!0},e.subnetMatch=function(f,u,h){var d,l,v,m,p;h==null&&(h="unicast");for(v in u)for(m=u[v],m[0]&&!(m[0]instanceof Array)&&(m=[m]),d=0,l=m.length;d<l;d++)if(p=m[d],f.kind()===p[0].kind()&&f.match.apply(f,p))return v;return h},e.IPv4=function(){function f(u){var h,d,l;if(u.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(h=0,d=u.length;h<d;h++)if(l=u[h],!(0<=l&&l<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=u}return f.prototype.kind=function(){return"ipv4"},f.prototype.toString=function(){return this.octets.join(".")},f.prototype.toNormalizedString=function(){return this.toString()},f.prototype.toByteArray=function(){return this.octets.slice(0)},f.prototype.match=function(u,h){var d;if(h===void 0&&(d=u,u=d[0],h=d[1]),u.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return a(this.octets,u.octets,8,h)},f.prototype.SpecialRanges={unspecified:[[new f([0,0,0,0]),8]],broadcast:[[new f([255,255,255,255]),32]],multicast:[[new f([224,0,0,0]),4]],linkLocal:[[new f([169,254,0,0]),16]],loopback:[[new f([127,0,0,0]),8]],carrierGradeNat:[[new f([100,64,0,0]),10]],private:[[new f([10,0,0,0]),8],[new f([172,16,0,0]),12],[new f([192,168,0,0]),16]],reserved:[[new f([192,0,0,0]),24],[new f([192,0,2,0]),24],[new f([192,88,99,0]),24],[new f([198,51,100,0]),24],[new f([203,0,113,0]),24],[new f([240,0,0,0]),4]]},f.prototype.range=function(){return e.subnetMatch(this,this.SpecialRanges)},f.prototype.toIPv4MappedAddress=function(){return e.IPv6.parse("::ffff:"+this.toString())},f.prototype.prefixLengthFromSubnetMask=function(){var u,h,d,l,v,m,p;for(p={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},u=0,v=!1,h=d=3;d>=0;h=d+=-1)if(l=this.octets[h],l in p){if(m=p[l],v&&m!==0)return null;m!==8&&(v=!0),u+=m}else return null;return 32-u},f}(),t="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp("^"+t+"\\."+t+"\\."+t+"\\."+t+"$","i"),longValue:new RegExp("^"+t+"$","i")},e.IPv4.parser=function(f){var u,h,d,l,v;if(h=function(m){return m[0]==="0"&&m[1]!=="x"?parseInt(m,8):parseInt(m)},u=f.match(n.fourOctet))return function(){var m,p,g,w;for(g=u.slice(1,6),w=[],m=0,p=g.length;m<p;m++)d=g[m],w.push(h(d));return w}();if(u=f.match(n.longValue)){if(v=h(u[1]),v>4294967295||v<0)throw new Error("ipaddr: address outside defined range");return function(){var m,p;for(p=[],l=m=0;m<=24;l=m+=8)p.push(v>>l&255);return p}().reverse()}else return null},e.IPv6=function(){function f(u,h){var d,l,v,m,p,g;if(u.length===16)for(this.parts=[],d=l=0;l<=14;d=l+=2)this.parts.push(u[d]<<8|u[d+1]);else if(u.length===8)this.parts=u;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(g=this.parts,v=0,m=g.length;v<m;v++)if(p=g[v],!(0<=p&&p<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");h&&(this.zoneId=h)}return f.prototype.kind=function(){return"ipv6"},f.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},f.prototype.toRFC5952String=function(){var u,h,d,l,v;for(l=/((^|:)(0(:|$)){2,})/g,v=this.toNormalizedString(),u=0,h=-1;d=l.exec(v);)d[0].length>h&&(u=d.index,h=d[0].length);return h<0?v:v.substring(0,u)+"::"+v.substring(u+h)},f.prototype.toByteArray=function(){var u,h,d,l,v;for(u=[],v=this.parts,h=0,d=v.length;h<d;h++)l=v[h],u.push(l>>8),u.push(l&255);return u},f.prototype.toNormalizedString=function(){var u,h,d;return u=function(){var l,v,m,p;for(m=this.parts,p=[],l=0,v=m.length;l<v;l++)h=m[l],p.push(h.toString(16));return p}.call(this).join(":"),d="",this.zoneId&&(d="%"+this.zoneId),u+d},f.prototype.toFixedLengthString=function(){var u,h,d;return u=function(){var l,v,m,p;for(m=this.parts,p=[],l=0,v=m.length;l<v;l++)h=m[l],p.push(h.toString(16).padStart(4,"0"));return p}.call(this).join(":"),d="",this.zoneId&&(d="%"+this.zoneId),u+d},f.prototype.match=function(u,h){var d;if(h===void 0&&(d=u,u=d[0],h=d[1]),u.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return a(this.parts,u.parts,16,h)},f.prototype.SpecialRanges={unspecified:[new f([0,0,0,0,0,0,0,0]),128],linkLocal:[new f([65152,0,0,0,0,0,0,0]),10],multicast:[new f([65280,0,0,0,0,0,0,0]),8],loopback:[new f([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new f([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new f([0,0,0,0,0,65535,0,0]),96],rfc6145:[new f([0,0,0,0,65535,0,0,0]),96],rfc6052:[new f([100,65435,0,0,0,0,0,0]),96],"6to4":[new f([8194,0,0,0,0,0,0,0]),16],teredo:[new f([8193,0,0,0,0,0,0,0]),32],reserved:[[new f([8193,3512,0,0,0,0,0,0]),32]]},f.prototype.range=function(){return e.subnetMatch(this,this.SpecialRanges)},f.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},f.prototype.toIPv4Address=function(){var u,h,d;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return d=this.parts.slice(-2),u=d[0],h=d[1],new e.IPv4([u>>8,u&255,h>>8,h&255])},f.prototype.prefixLengthFromSubnetMask=function(){var u,h,d,l,v,m,p;for(p={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},u=0,v=!1,h=d=7;d>=0;h=d+=-1)if(l=this.parts[h],l in p){if(m=p[l],v&&m!==0)return null;m!==16&&(v=!0),u+=m}else return null;return 128-u},f}(),s="(?:[0-9a-f]+::?)+",c="%[0-9a-z]{1,}",i={zoneIndex:new RegExp(c,"i"),native:new RegExp("^(::)?("+s+")?([0-9a-f]+)?(::)?("+c+")?$","i"),transitional:new RegExp("^((?:"+s+")|(?:::)(?:"+s+")?)"+(t+"\\."+t+"\\."+t+"\\."+t)+("("+c+")?$"),"i")},r=function(f,u){var h,d,l,v,m,p;if(f.indexOf("::")!==f.lastIndexOf("::"))return null;for(p=(f.match(i.zoneIndex)||[])[0],p&&(p=p.substring(1),f=f.replace(/%.+$/,"")),h=0,d=-1;(d=f.indexOf(":",d+1))>=0;)h++;if(f.substr(0,2)==="::"&&h--,f.substr(-2,2)==="::"&&h--,h>u)return null;for(m=u-h,v=":";m--;)v+="0:";return f=f.replace("::",v),f[0]===":"&&(f=f.slice(1)),f[f.length-1]===":"&&(f=f.slice(0,-1)),u=function(){var g,w,R,_;for(R=f.split(":"),_=[],g=0,w=R.length;g<w;g++)l=R[g],_.push(parseInt(l,16));return _}(),{parts:u,zoneId:p}},e.IPv6.parser=function(f){var u,h,d,l,v,m,p;if(i.native.test(f))return r(f,8);if((l=f.match(i.transitional))&&(p=l[6]||"",u=r(l[1].slice(0,-1)+p,6),u.parts)){for(m=[parseInt(l[2]),parseInt(l[3]),parseInt(l[4]),parseInt(l[5])],h=0,d=m.length;h<d;h++)if(v=m[h],!(0<=v&&v<=255))return null;return u.parts.push(m[0]<<8|m[1]),u.parts.push(m[2]<<8|m[3]),{parts:u.parts,zoneId:u.zoneId}}return null},e.IPv4.isIPv4=e.IPv6.isIPv6=function(f){return this.parser(f)!==null},e.IPv4.isValid=function(f){var u;try{return new this(this.parser(f)),!0}catch(h){return u=h,!1}},e.IPv4.isValidFourPartDecimal=function(f){return!!(e.IPv4.isValid(f)&&f.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},e.IPv6.isValid=function(f){var u,h;if(typeof f=="string"&&f.indexOf(":")===-1)return!1;try{return u=this.parser(f),new this(u.parts,u.zoneId),!0}catch(d){return h=d,!1}},e.IPv4.parse=function(f){var u;if(u=this.parser(f),u===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u)},e.IPv6.parse=function(f){var u;if(u=this.parser(f),u.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u.parts,u.zoneId)},e.IPv4.parseCIDR=function(f){var u,h,d;if((h=f.match(/^(.+)\/(\d+)$/))&&(u=parseInt(h[2]),u>=0&&u<=32))return d=[this.parse(h[1]),u],Object.defineProperty(d,"toString",{value:function(){return this.join("/")}}),d;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},e.IPv4.subnetMaskFromPrefixLength=function(f){var u,h,d;if(f=parseInt(f),f<0||f>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(d=[0,0,0,0],h=0,u=Math.floor(f/8);h<u;)d[h]=255,h++;return u<4&&(d[u]=Math.pow(2,f%8)-1<<8-f%8),new this(d)},e.IPv4.broadcastAddressFromCIDR=function(f){var u,h,d,l,v,m;try{for(u=this.parseCIDR(f),l=u[0].toByteArray(),m=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),v=[],d=0;d<4;)v.push(parseInt(l[d],10)|parseInt(m[d],10)^255),d++;return new this(v)}catch(p){throw h=p,new Error("ipaddr: the address does not have IPv4 CIDR format")}},e.IPv4.networkAddressFromCIDR=function(f){var u,h,d,l,v,m;try{for(u=this.parseCIDR(f),l=u[0].toByteArray(),m=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),v=[],d=0;d<4;)v.push(parseInt(l[d],10)&parseInt(m[d],10)),d++;return new this(v)}catch(p){throw h=p,new Error("ipaddr: the address does not have IPv4 CIDR format")}},e.IPv6.parseCIDR=function(f){var u,h,d;if((h=f.match(/^(.+)\/(\d+)$/))&&(u=parseInt(h[2]),u>=0&&u<=128))return d=[this.parse(h[1]),u],Object.defineProperty(d,"toString",{value:function(){return this.join("/")}}),d;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},e.isValid=function(f){return e.IPv6.isValid(f)||e.IPv4.isValid(f)},e.parse=function(f){if(e.IPv6.isValid(f))return e.IPv6.parse(f);if(e.IPv4.isValid(f))return e.IPv4.parse(f);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},e.parseCIDR=function(f){var u;try{return e.IPv6.parseCIDR(f)}catch(h){u=h;try{return e.IPv4.parseCIDR(f)}catch(d){throw u=d,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},e.fromByteArray=function(f){var u;if(u=f.length,u===4)return new e.IPv4(f);if(u===16)return new e.IPv6(f);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},e.process=function(f){var u;return u=this.parse(f),u.kind()==="ipv6"&&u.isIPv4MappedAddress()?u.toIPv4Address():u}}).call(N0)});var L0=b((e9,oo)=>{"use strict";oo.exports=UN;oo.exports.all=D0;oo.exports.compile=F0;var kN=A0(),j0=x0(),DN=/^[0-9]+$/,io=j0.isValid,ao=j0.parse,k0={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function D0(r,e){var t=kN(r);if(!e)return t;typeof e!="function"&&(e=F0(e));for(var n=0;n<t.length-1;n++)e(t[n],n)||(t.length=n+1);return t}function F0(r){if(!r)throw new TypeError("argument is required");var e;if(typeof r=="string")e=[r];else if(Array.isArray(r))e=r.slice();else throw new TypeError("unsupported trust argument");for(var t=0;t<e.length;t++)r=e[t],!!Object.prototype.hasOwnProperty.call(k0,r)&&(r=k0[r],e.splice.apply(e,[t,1].concat(r)),t+=r.length-1);return LN(FN(e))}function FN(r){for(var e=new Array(r.length),t=0;t<r.length;t++)e[t]=MN(r[t]);return e}function LN(r){var e=r.length;return e===0?VN:e===1?BN(r[0]):zN(r)}function MN(r){var e=r.lastIndexOf("/"),t=e!==-1?r.substring(0,e):r;if(!io(t))throw new TypeError("invalid IP address: "+t);var n=ao(t);e===-1&&n.kind()==="ipv6"&&n.isIPv4MappedAddress()&&(n=n.toIPv4Address());var s=n.kind()==="ipv6"?128:32,i=e!==-1?r.substring(e+1,r.length):null;if(i===null?i=s:DN.test(i)?i=parseInt(i,10):n.kind()==="ipv4"&&io(i)?i=HN(i):i=null,i<=0||i>s)throw new TypeError("invalid range on address: "+r);return[n,i]}function HN(r){var e=ao(r),t=e.kind();return t==="ipv4"?e.prefixLengthFromSubnetMask():null}function UN(r,e){if(!r)throw new TypeError("req argument is required");if(!e)throw new TypeError("trust argument is required");var t=D0(r,e),n=t[t.length-1];return n}function VN(){return!1}function zN(r){return function(t){if(!io(t))return!1;for(var n=ao(t),s,i=n.kind(),a=0;a<r.length;a++){var o=r[a],c=o[0],f=c.kind(),u=o[1],h=n;if(i!==f){if(f==="ipv4"&&!n.isIPv4MappedAddress())continue;s||(s=f==="ipv4"?n.toIPv4Address():n.toIPv4MappedAddress()),h=s}if(h.match(c,u))return!0}return!1}}function BN(r){var e=r[0],t=e.kind(),n=t==="ipv4",s=r[1];return function(a){if(!io(a))return!1;var o=ao(a),c=o.kind();if(c!==t){if(n&&!o.isIPv4MappedAddress())return!1;o=n?o.toIPv4Address():o.toIPv4MappedAddress()}return o.match(e,s)}}});var Zn=b((r9,M0)=>{var GN="2.0.0",KN=256,JN=Number.MAX_SAFE_INTEGER||9007199254740991,WN=16;M0.exports={SEMVER_SPEC_VERSION:GN,MAX_LENGTH:KN,MAX_SAFE_INTEGER:JN,MAX_SAFE_COMPONENT_LENGTH:WN}});var ei=b((t9,H0)=>{var QN=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};H0.exports=QN});var ps=b((At,U0)=>{var{MAX_SAFE_COMPONENT_LENGTH:Ac}=Zn(),YN=ei();At=U0.exports={};var XN=At.re=[],G=At.src=[],K=At.t={},ZN=0,ne=(r,e,t)=>{let n=ZN++;YN(n,e),K[r]=n,G[n]=e,XN[n]=new RegExp(e,t?"g":void 0)};ne("NUMERICIDENTIFIER","0|[1-9]\\d*");ne("NUMERICIDENTIFIERLOOSE","[0-9]+");ne("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");ne("MAINVERSION",`(${G[K.NUMERICIDENTIFIER]})\\.(${G[K.NUMERICIDENTIFIER]})\\.(${G[K.NUMERICIDENTIFIER]})`);ne("MAINVERSIONLOOSE",`(${G[K.NUMERICIDENTIFIERLOOSE]})\\.(${G[K.NUMERICIDENTIFIERLOOSE]})\\.(${G[K.NUMERICIDENTIFIERLOOSE]})`);ne("PRERELEASEIDENTIFIER",`(?:${G[K.NUMERICIDENTIFIER]}|${G[K.NONNUMERICIDENTIFIER]})`);ne("PRERELEASEIDENTIFIERLOOSE",`(?:${G[K.NUMERICIDENTIFIERLOOSE]}|${G[K.NONNUMERICIDENTIFIER]})`);ne("PRERELEASE",`(?:-(${G[K.PRERELEASEIDENTIFIER]}(?:\\.${G[K.PRERELEASEIDENTIFIER]})*))`);ne("PRERELEASELOOSE",`(?:-?(${G[K.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${G[K.PRERELEASEIDENTIFIERLOOSE]})*))`);ne("BUILDIDENTIFIER","[0-9A-Za-z-]+");ne("BUILD",`(?:\\+(${G[K.BUILDIDENTIFIER]}(?:\\.${G[K.BUILDIDENTIFIER]})*))`);ne("FULLPLAIN",`v?${G[K.MAINVERSION]}${G[K.PRERELEASE]}?${G[K.BUILD]}?`);ne("FULL",`^${G[K.FULLPLAIN]}$`);ne("LOOSEPLAIN",`[v=\\s]*${G[K.MAINVERSIONLOOSE]}${G[K.PRERELEASELOOSE]}?${G[K.BUILD]}?`);ne("LOOSE",`^${G[K.LOOSEPLAIN]}$`);ne("GTLT","((?:<|>)?=?)");ne("XRANGEIDENTIFIERLOOSE",`${G[K.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ne("XRANGEIDENTIFIER",`${G[K.NUMERICIDENTIFIER]}|x|X|\\*`);ne("XRANGEPLAIN",`[v=\\s]*(${G[K.XRANGEIDENTIFIER]})(?:\\.(${G[K.XRANGEIDENTIFIER]})(?:\\.(${G[K.XRANGEIDENTIFIER]})(?:${G[K.PRERELEASE]})?${G[K.BUILD]}?)?)?`);ne("XRANGEPLAINLOOSE",`[v=\\s]*(${G[K.XRANGEIDENTIFIERLOOSE]})(?:\\.(${G[K.XRANGEIDENTIFIERLOOSE]})(?:\\.(${G[K.XRANGEIDENTIFIERLOOSE]})(?:${G[K.PRERELEASELOOSE]})?${G[K.BUILD]}?)?)?`);ne("XRANGE",`^${G[K.GTLT]}\\s*${G[K.XRANGEPLAIN]}$`);ne("XRANGELOOSE",`^${G[K.GTLT]}\\s*${G[K.XRANGEPLAINLOOSE]}$`);ne("COERCE",`(^|[^\\d])(\\d{1,${Ac}})(?:\\.(\\d{1,${Ac}}))?(?:\\.(\\d{1,${Ac}}))?(?:$|[^\\d])`);ne("COERCERTL",G[K.COERCE],!0);ne("LONETILDE","(?:~>?)");ne("TILDETRIM",`(\\s*)${G[K.LONETILDE]}\\s+`,!0);At.tildeTrimReplace="$1~";ne("TILDE",`^${G[K.LONETILDE]}${G[K.XRANGEPLAIN]}$`);ne("TILDELOOSE",`^${G[K.LONETILDE]}${G[K.XRANGEPLAINLOOSE]}$`);ne("LONECARET","(?:\\^)");ne("CARETTRIM",`(\\s*)${G[K.LONECARET]}\\s+`,!0);At.caretTrimReplace="$1^";ne("CARET",`^${G[K.LONECARET]}${G[K.XRANGEPLAIN]}$`);ne("CARETLOOSE",`^${G[K.LONECARET]}${G[K.XRANGEPLAINLOOSE]}$`);ne("COMPARATORLOOSE",`^${G[K.GTLT]}\\s*(${G[K.LOOSEPLAIN]})$|^$`);ne("COMPARATOR",`^${G[K.GTLT]}\\s*(${G[K.FULLPLAIN]})$|^$`);ne("COMPARATORTRIM",`(\\s*)${G[K.GTLT]}\\s*(${G[K.LOOSEPLAIN]}|${G[K.XRANGEPLAIN]})`,!0);At.comparatorTrimReplace="$1$2$3";ne("HYPHENRANGE",`^\\s*(${G[K.XRANGEPLAIN]})\\s+-\\s+(${G[K.XRANGEPLAIN]})\\s*$`);ne("HYPHENRANGELOOSE",`^\\s*(${G[K.XRANGEPLAINLOOSE]})\\s+-\\s+(${G[K.XRANGEPLAINLOOSE]})\\s*$`);ne("STAR","(<|>)?=?\\s*\\*");ne("GTE0","^\\s*>=\\s*0.0.0\\s*$");ne("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var ri=b((s9,V0)=>{var ex=["includePrerelease","loose","rtl"],rx=r=>r?typeof r!="object"?{loose:!0}:ex.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};V0.exports=rx});var lo=b((n9,G0)=>{var z0=/^[0-9]+$/,B0=(r,e)=>{let t=z0.test(r),n=z0.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},tx=(r,e)=>B0(e,r);G0.exports={compareIdentifiers:B0,rcompareIdentifiers:tx}});var ir=b((i9,Q0)=>{var uo=ei(),{MAX_LENGTH:K0,MAX_SAFE_INTEGER:co}=Zn(),{re:J0,t:W0}=ps(),sx=ri(),{compareIdentifiers:ti}=lo(),Lr=class{constructor(e,t){if(t=sx(t),e instanceof Lr){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>K0)throw new TypeError(`version is longer than ${K0} characters`);uo("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?J0[W0.LOOSE]:J0[W0.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>co||this.major<0)throw new TypeError("Invalid major version");if(this.minor>co||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>co||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<co)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(uo("SemVer.compare",this.version,this.options,e),!(e instanceof Lr)){if(typeof e=="string"&&e===this.version)return 0;e=new Lr(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Lr||(e=new Lr(e,this.options)),ti(this.major,e.major)||ti(this.minor,e.minor)||ti(this.patch,e.patch)}comparePre(e){if(e instanceof Lr||(e=new Lr(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(uo("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ti(n,s)}while(++t)}compareBuild(e){e instanceof Lr||(e=new Lr(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(uo("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ti(n,s)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Q0.exports=Lr});var ms=b((a9,eb)=>{var{MAX_LENGTH:nx}=Zn(),{re:Y0,t:X0}=ps(),Z0=ir(),ix=ri(),ax=(r,e)=>{if(e=ix(e),r instanceof Z0)return r;if(typeof r!="string"||r.length>nx||!(e.loose?Y0[X0.LOOSE]:Y0[X0.FULL]).test(r))return null;try{return new Z0(r,e)}catch{return null}};eb.exports=ax});var tb=b((o9,rb)=>{var ox=ms(),lx=(r,e)=>{let t=ox(r,e);return t?t.version:null};rb.exports=lx});var nb=b((l9,sb)=>{var ux=ms(),cx=(r,e)=>{let t=ux(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};sb.exports=cx});var ab=b((u9,ib)=>{var fx=ir(),hx=(r,e,t,n)=>{typeof t=="string"&&(n=t,t=void 0);try{return new fx(r,t).inc(e,n).version}catch{return null}};ib.exports=hx});var Mr=b((c9,lb)=>{var ob=ir(),dx=(r,e,t)=>new ob(r,t).compare(new ob(e,t));lb.exports=dx});var fo=b((f9,ub)=>{var px=Mr(),mx=(r,e,t)=>px(r,e,t)===0;ub.exports=mx});var hb=b((h9,fb)=>{var cb=ms(),vx=fo(),gx=(r,e)=>{if(vx(r,e))return null;{let t=cb(r),n=cb(e),s=t.prerelease.length||n.prerelease.length,i=s?"pre":"",a=s?"prerelease":"";for(let o in t)if((o==="major"||o==="minor"||o==="patch")&&t[o]!==n[o])return i+o;return a}};fb.exports=gx});var pb=b((d9,db)=>{var yx=ir(),bx=(r,e)=>new yx(r,e).major;db.exports=bx});var vb=b((p9,mb)=>{var Ex=ir(),wx=(r,e)=>new Ex(r,e).minor;mb.exports=wx});var yb=b((m9,gb)=>{var _x=ir(),Sx=(r,e)=>new _x(r,e).patch;gb.exports=Sx});var Eb=b((v9,bb)=>{var Px=ms(),Rx=(r,e)=>{let t=Px(r,e);return t&&t.prerelease.length?t.prerelease:null};bb.exports=Rx});var _b=b((g9,wb)=>{var $x=Mr(),Ox=(r,e,t)=>$x(e,r,t);wb.exports=Ox});var Pb=b((y9,Sb)=>{var Tx=Mr(),Ix=(r,e)=>Tx(r,e,!0);Sb.exports=Ix});var ho=b((b9,$b)=>{var Rb=ir(),Cx=(r,e,t)=>{let n=new Rb(r,t),s=new Rb(e,t);return n.compare(s)||n.compareBuild(s)};$b.exports=Cx});var Tb=b((E9,Ob)=>{var qx=ho(),Ax=(r,e)=>r.sort((t,n)=>qx(t,n,e));Ob.exports=Ax});var Cb=b((w9,Ib)=>{var Nx=ho(),xx=(r,e)=>r.sort((t,n)=>Nx(n,t,e));Ib.exports=xx});var si=b((_9,qb)=>{var jx=Mr(),kx=(r,e,t)=>jx(r,e,t)>0;qb.exports=kx});var po=b((S9,Ab)=>{var Dx=Mr(),Fx=(r,e,t)=>Dx(r,e,t)<0;Ab.exports=Fx});var Nc=b((P9,Nb)=>{var Lx=Mr(),Mx=(r,e,t)=>Lx(r,e,t)!==0;Nb.exports=Mx});var mo=b((R9,xb)=>{var Hx=Mr(),Ux=(r,e,t)=>Hx(r,e,t)>=0;xb.exports=Ux});var vo=b(($9,jb)=>{var Vx=Mr(),zx=(r,e,t)=>Vx(r,e,t)<=0;jb.exports=zx});var xc=b((O9,kb)=>{var Bx=fo(),Gx=Nc(),Kx=si(),Jx=mo(),Wx=po(),Qx=vo(),Yx=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Bx(r,t,n);case"!=":return Gx(r,t,n);case">":return Kx(r,t,n);case">=":return Jx(r,t,n);case"<":return Wx(r,t,n);case"<=":return Qx(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};kb.exports=Yx});var Fb=b((T9,Db)=>{var Xx=ir(),Zx=ms(),{re:go,t:yo}=ps(),ej=(r,e)=>{if(r instanceof Xx)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(go[yo.COERCE]);else{let n;for(;(n=go[yo.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),go[yo.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;go[yo.COERCERTL].lastIndex=-1}return t===null?null:Zx(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};Db.exports=ej});var Mb=b((I9,Lb)=>{"use strict";Lb.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Ub=b((C9,Hb)=>{"use strict";Hb.exports=ge;ge.Node=vs;ge.create=ge;function ge(r){var e=this;if(e instanceof ge||(e=new ge),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}ge.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};ge.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};ge.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};ge.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)tj(this,arguments[r]);return this.length};ge.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)sj(this,arguments[r]);return this.length};ge.prototype.pop=function(){if(!!this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};ge.prototype.shift=function(){if(!!this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};ge.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};ge.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};ge.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};ge.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};ge.prototype.map=function(r,e){e=e||this;for(var t=new ge,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};ge.prototype.mapReverse=function(r,e){e=e||this;for(var t=new ge,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};ge.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};ge.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};ge.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};ge.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};ge.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new ge;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};ge.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new ge;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};ge.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=rj(this,s,t[n]);return i};ge.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function rj(r,e,t){var n=e===r.head?new vs(t,null,e,r):new vs(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function tj(r,e){r.tail=new vs(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function sj(r,e){r.head=new vs(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function vs(r,e,t,n){if(!(this instanceof vs))return new vs(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Mb()(ge)}catch{}});var Wb=b((q9,Jb)=>{"use strict";var nj=Ub(),gs=Symbol("max"),_t=Symbol("length"),tn=Symbol("lengthCalculator"),ni=Symbol("allowStale"),ys=Symbol("maxAge"),St=Symbol("dispose"),Vb=Symbol("noDisposeOnSet"),Ke=Symbol("lruList"),Wr=Symbol("cache"),zb=Symbol("updateAgeOnGet"),jc=()=>1,Bb=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[gs]=e.max||1/0,n=e.length||jc;if(this[tn]=typeof n!="function"?jc:n,this[ni]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ys]=e.maxAge||0,this[St]=e.dispose,this[Vb]=e.noDisposeOnSet||!1,this[zb]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[gs]=e||1/0,ii(this)}get max(){return this[gs]}set allowStale(e){this[ni]=!!e}get allowStale(){return this[ni]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ys]=e,ii(this)}get maxAge(){return this[ys]}set lengthCalculator(e){typeof e!="function"&&(e=jc),e!==this[tn]&&(this[tn]=e,this[_t]=0,this[Ke].forEach(t=>{t.length=this[tn](t.value,t.key),this[_t]+=t.length})),ii(this)}get lengthCalculator(){return this[tn]}get length(){return this[_t]}get itemCount(){return this[Ke].length}rforEach(e,t){t=t||this;for(let n=this[Ke].tail;n!==null;){let s=n.prev;Kb(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[Ke].head;n!==null;){let s=n.next;Kb(this,e,n,t),n=s}}keys(){return this[Ke].toArray().map(e=>e.key)}values(){return this[Ke].toArray().map(e=>e.value)}reset(){this[St]&&this[Ke]&&this[Ke].length&&this[Ke].forEach(e=>this[St](e.key,e.value)),this[Wr]=new Map,this[Ke]=new nj,this[_t]=0}dump(){return this[Ke].map(e=>bo(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ke]}set(e,t,n){if(n=n||this[ys],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[tn](t,e);if(this[Wr].has(e)){if(i>this[gs])return sn(this,this[Wr].get(e)),!1;let c=this[Wr].get(e).value;return this[St]&&(this[Vb]||this[St](e,c.value)),c.now=s,c.maxAge=n,c.value=t,this[_t]+=i-c.length,c.length=i,this.get(e),ii(this),!0}let a=new Gb(e,t,i,s,n);return a.length>this[gs]?(this[St]&&this[St](e,t),!1):(this[_t]+=a.length,this[Ke].unshift(a),this[Wr].set(e,this[Ke].head),ii(this),!0)}has(e){if(!this[Wr].has(e))return!1;let t=this[Wr].get(e).value;return!bo(this,t)}get(e){return kc(this,e,!0)}peek(e){return kc(this,e,!1)}pop(){let e=this[Ke].tail;return e?(sn(this,e),e.value):null}del(e){sn(this,this[Wr].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let a=i-t;a>0&&this.set(s.k,s.v,a)}}}prune(){this[Wr].forEach((e,t)=>kc(this,t,!1))}},kc=(r,e,t)=>{let n=r[Wr].get(e);if(n){let s=n.value;if(bo(r,s)){if(sn(r,n),!r[ni])return}else t&&(r[zb]&&(n.value.now=Date.now()),r[Ke].unshiftNode(n));return s.value}},bo=(r,e)=>{if(!e||!e.maxAge&&!r[ys])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[ys]&&t>r[ys]},ii=r=>{if(r[_t]>r[gs])for(let e=r[Ke].tail;r[_t]>r[gs]&&e!==null;){let t=e.prev;sn(r,e),e=t}},sn=(r,e)=>{if(e){let t=e.value;r[St]&&r[St](t.key,t.value),r[_t]-=t.length,r[Wr].delete(t.key),r[Ke].removeNode(e)}},Gb=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},Kb=(r,e,t,n)=>{let s=t.value;bo(r,s)&&(sn(r,t),r[ni]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};Jb.exports=Bb});var Hr=b((A9,Zb)=>{var nn=class{constructor(e,t){if(t=aj(t),e instanceof nn)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new nn(e.raw,t);if(e instanceof Dc)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!Yb(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&fj(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,s=Qb.get(n);if(s)return s;let i=this.options.loose,a=i?ar[Ye.HYPHENRANGELOOSE]:ar[Ye.HYPHENRANGE];e=e.replace(a,wj(this.options.includePrerelease)),Fe("hyphen replace",e),e=e.replace(ar[Ye.COMPARATORTRIM],lj),Fe("comparator trim",e,ar[Ye.COMPARATORTRIM]),e=e.replace(ar[Ye.TILDETRIM],uj),e=e.replace(ar[Ye.CARETTRIM],cj),e=e.split(/\s+/).join(" ");let o=i?ar[Ye.COMPARATORLOOSE]:ar[Ye.COMPARATOR],c=e.split(" ").map(d=>hj(d,this.options)).join(" ").split(/\s+/).map(d=>Ej(d,this.options)).filter(this.options.loose?d=>!!d.match(o):()=>!0).map(d=>new Dc(d,this.options)),f=c.length,u=new Map;for(let d of c){if(Yb(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return Qb.set(n,h),h}intersects(e,t){if(!(e instanceof nn))throw new TypeError("a Range is required");return this.set.some(n=>Xb(n,t)&&e.set.some(s=>Xb(s,t)&&n.every(i=>s.every(a=>i.intersects(a,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new oj(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(_j(this.set[t],e,this.options))return!0;return!1}};Zb.exports=nn;var ij=Wb(),Qb=new ij({max:1e3}),aj=ri(),Dc=ai(),Fe=ei(),oj=ir(),{re:ar,t:Ye,comparatorTrimReplace:lj,tildeTrimReplace:uj,caretTrimReplace:cj}=ps(),Yb=r=>r.value==="<0.0.0-0",fj=r=>r.value==="",Xb=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},hj=(r,e)=>(Fe("comp",r,e),r=mj(r,e),Fe("caret",r),r=dj(r,e),Fe("tildes",r),r=gj(r,e),Fe("xrange",r),r=bj(r,e),Fe("stars",r),r),fr=r=>!r||r.toLowerCase()==="x"||r==="*",dj=(r,e)=>r.trim().split(/\s+/).map(t=>pj(t,e)).join(" "),pj=(r,e)=>{let t=e.loose?ar[Ye.TILDELOOSE]:ar[Ye.TILDE];return r.replace(t,(n,s,i,a,o)=>{Fe("tilde",r,n,s,i,a,o);let c;return fr(s)?c="":fr(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:fr(a)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:o?(Fe("replaceTilde pr",o),c=`>=${s}.${i}.${a}-${o} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${a} <${s}.${+i+1}.0-0`,Fe("tilde return",c),c})},mj=(r,e)=>r.trim().split(/\s+/).map(t=>vj(t,e)).join(" "),vj=(r,e)=>{Fe("caret",r,e);let t=e.loose?ar[Ye.CARETLOOSE]:ar[Ye.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,a,o,c)=>{Fe("caret",r,s,i,a,o,c);let f;return fr(i)?f="":fr(a)?f=`>=${i}.0.0${n} <${+i+1}.0.0-0`:fr(o)?i==="0"?f=`>=${i}.${a}.0${n} <${i}.${+a+1}.0-0`:f=`>=${i}.${a}.0${n} <${+i+1}.0.0-0`:c?(Fe("replaceCaret pr",c),i==="0"?a==="0"?f=`>=${i}.${a}.${o}-${c} <${i}.${a}.${+o+1}-0`:f=`>=${i}.${a}.${o}-${c} <${i}.${+a+1}.0-0`:f=`>=${i}.${a}.${o}-${c} <${+i+1}.0.0-0`):(Fe("no pr"),i==="0"?a==="0"?f=`>=${i}.${a}.${o}${n} <${i}.${a}.${+o+1}-0`:f=`>=${i}.${a}.${o}${n} <${i}.${+a+1}.0-0`:f=`>=${i}.${a}.${o} <${+i+1}.0.0-0`),Fe("caret return",f),f})},gj=(r,e)=>(Fe("replaceXRanges",r,e),r.split(/\s+/).map(t=>yj(t,e)).join(" ")),yj=(r,e)=>{r=r.trim();let t=e.loose?ar[Ye.XRANGELOOSE]:ar[Ye.XRANGE];return r.replace(t,(n,s,i,a,o,c)=>{Fe("xRange",r,n,s,i,a,o,c);let f=fr(i),u=f||fr(a),h=u||fr(o),d=h;return s==="="&&d&&(s=""),c=e.includePrerelease?"-0":"",f?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&d?(u&&(a=0),o=0,s===">"?(s=">=",u?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):s==="<="&&(s="<",u?i=+i+1:a=+a+1),s==="<"&&(c="-0"),n=`${s+i}.${a}.${o}${c}`):u?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:h&&(n=`>=${i}.${a}.0${c} <${i}.${+a+1}.0-0`),Fe("xRange return",n),n})},bj=(r,e)=>(Fe("replaceStars",r,e),r.trim().replace(ar[Ye.STAR],"")),Ej=(r,e)=>(Fe("replaceGTE0",r,e),r.trim().replace(ar[e.includePrerelease?Ye.GTE0PRE:Ye.GTE0],"")),wj=r=>(e,t,n,s,i,a,o,c,f,u,h,d,l)=>(fr(n)?t="":fr(s)?t=`>=${n}.0.0${r?"-0":""}`:fr(i)?t=`>=${n}.${s}.0${r?"-0":""}`:a?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,fr(f)?c="":fr(u)?c=`<${+f+1}.0.0-0`:fr(h)?c=`<${f}.${+u+1}.0-0`:d?c=`<=${f}.${u}.${h}-${d}`:r?c=`<${f}.${u}.${+h+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),_j=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Fe(r[n].semver),r[n].semver!==Dc.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var ai=b((N9,nE)=>{var oi=Symbol("SemVer ANY"),li=class{static get ANY(){return oi}constructor(e,t){if(t=Sj(t),e instanceof li){if(e.loose===!!t.loose)return e;e=e.value}Lc("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oi?this.value="":this.value=this.operator+this.semver.version,Lc("comp",this)}parse(e){let t=this.options.loose?eE[rE.COMPARATORLOOSE]:eE[rE.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new tE(n[2],this.options.loose):this.semver=oi}toString(){return this.value}test(e){if(Lc("Comparator.test",e,this.options.loose),this.semver===oi||e===oi)return!0;if(typeof e=="string")try{e=new tE(e,this.options)}catch{return!1}return Fc(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof li))throw new TypeError("a Comparator is required");if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new sE(e.value,t).test(this.value);if(e.operator==="")return e.value===""?!0:new sE(this.value,t).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),i=this.semver.version===e.semver.version,a=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),o=Fc(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=Fc(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||i&&a||o||c}};nE.exports=li;var Sj=ri(),{re:eE,t:rE}=ps(),Fc=xc(),Lc=ei(),tE=ir(),sE=Hr()});var ui=b((x9,iE)=>{var Pj=Hr(),Rj=(r,e,t)=>{try{e=new Pj(e,t)}catch{return!1}return e.test(r)};iE.exports=Rj});var oE=b((j9,aE)=>{var $j=Hr(),Oj=(r,e)=>new $j(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));aE.exports=Oj});var uE=b((k9,lE)=>{var Tj=ir(),Ij=Hr(),Cj=(r,e,t)=>{let n=null,s=null,i=null;try{i=new Ij(e,t)}catch{return null}return r.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new Tj(n,t))}),n};lE.exports=Cj});var fE=b((D9,cE)=>{var qj=ir(),Aj=Hr(),Nj=(r,e,t)=>{let n=null,s=null,i=null;try{i=new Aj(e,t)}catch{return null}return r.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new qj(n,t))}),n};cE.exports=Nj});var pE=b((F9,dE)=>{var Mc=ir(),xj=Hr(),hE=si(),jj=(r,e)=>{r=new xj(r,e);let t=new Mc("0.0.0");if(r.test(t)||(t=new Mc("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(a=>{let o=new Mc(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||hE(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!t||hE(t,i))&&(t=i)}return t&&r.test(t)?t:null};dE.exports=jj});var vE=b((L9,mE)=>{var kj=Hr(),Dj=(r,e)=>{try{return new kj(r,e).range||"*"}catch{return null}};mE.exports=Dj});var Eo=b((M9,EE)=>{var Fj=ir(),gE=ai(),{ANY:Lj}=gE,Mj=Hr(),Hj=ui(),yE=si(),bE=po(),Uj=vo(),Vj=mo(),zj=(r,e,t,n)=>{r=new Fj(r,n),e=new Mj(e,n);let s,i,a,o,c;switch(t){case">":s=yE,i=Uj,a=bE,o=">",c=">=";break;case"<":s=bE,i=Vj,a=yE,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Hj(r,e,n))return!1;for(let f=0;f<e.set.length;++f){let u=e.set[f],h=null,d=null;if(u.forEach(l=>{l.semver===Lj&&(l=new gE(">=0.0.0")),h=h||l,d=d||l,s(l.semver,h.semver,n)?h=l:a(l.semver,d.semver,n)&&(d=l)}),h.operator===o||h.operator===c||(!d.operator||d.operator===o)&&i(r,d.semver))return!1;if(d.operator===c&&a(r,d.semver))return!1}return!0};EE.exports=zj});var _E=b((H9,wE)=>{var Bj=Eo(),Gj=(r,e,t)=>Bj(r,e,">",t);wE.exports=Gj});var PE=b((U9,SE)=>{var Kj=Eo(),Jj=(r,e,t)=>Kj(r,e,"<",t);SE.exports=Jj});var OE=b((V9,$E)=>{var RE=Hr(),Wj=(r,e,t)=>(r=new RE(r,t),e=new RE(e,t),r.intersects(e));$E.exports=Wj});var IE=b((z9,TE)=>{var Qj=ui(),Yj=Mr();TE.exports=(r,e,t)=>{let n=[],s=null,i=null,a=r.sort((u,h)=>Yj(u,h,t));for(let u of a)Qj(u,e,t)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let o=[];for(let[u,h]of n)u===h?o.push(u):!h&&u===a[0]?o.push("*"):h?u===a[0]?o.push(`<=${h}`):o.push(`${u} - ${h}`):o.push(`>=${u}`);let c=o.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return c.length<f.length?c:e}});var xE=b((B9,NE)=>{var CE=Hr(),wo=ai(),{ANY:Hc}=wo,ci=ui(),Uc=Mr(),Xj=(r,e,t={})=>{if(r===e)return!0;r=new CE(r,t),e=new CE(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let a=Zj(s,i,t);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},Zj=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===Hc){if(e.length===1&&e[0].semver===Hc)return!0;t.includePrerelease?r=[new wo(">=0.0.0-0")]:r=[new wo(">=0.0.0")]}if(e.length===1&&e[0].semver===Hc){if(t.includePrerelease)return!0;e=[new wo(">=0.0.0")]}let n=new Set,s,i;for(let l of r)l.operator===">"||l.operator===">="?s=qE(s,l,t):l.operator==="<"||l.operator==="<="?i=AE(i,l,t):n.add(l.semver);if(n.size>1)return null;let a;if(s&&i){if(a=Uc(s.semver,i.semver,t),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let l of n){if(s&&!ci(l,String(s),t)||i&&!ci(l,String(i),t))return null;for(let v of e)if(!ci(l,String(v),t))return!1;return!0}let o,c,f,u,h=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,d=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&i.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(let l of e){if(u=u||l.operator===">"||l.operator===">=",f=f||l.operator==="<"||l.operator==="<=",s){if(d&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===d.major&&l.semver.minor===d.minor&&l.semver.patch===d.patch&&(d=!1),l.operator===">"||l.operator===">="){if(o=qE(s,l,t),o===l&&o!==s)return!1}else if(s.operator===">="&&!ci(s.semver,String(l),t))return!1}if(i){if(h&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===h.major&&l.semver.minor===h.minor&&l.semver.patch===h.patch&&(h=!1),l.operator==="<"||l.operator==="<="){if(c=AE(i,l,t),c===l&&c!==i)return!1}else if(i.operator==="<="&&!ci(i.semver,String(l),t))return!1}if(!l.operator&&(i||s)&&a!==0)return!1}return!(s&&f&&!i&&a!==0||i&&u&&!s&&a!==0||d||h)},qE=(r,e,t)=>{if(!r)return e;let n=Uc(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},AE=(r,e,t)=>{if(!r)return e;let n=Uc(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};NE.exports=Xj});var zc=b((G9,jE)=>{var Vc=ps();jE.exports={re:Vc.re,src:Vc.src,tokens:Vc.t,SEMVER_SPEC_VERSION:Zn().SEMVER_SPEC_VERSION,SemVer:ir(),compareIdentifiers:lo().compareIdentifiers,rcompareIdentifiers:lo().rcompareIdentifiers,parse:ms(),valid:tb(),clean:nb(),inc:ab(),diff:hb(),major:pb(),minor:vb(),patch:yb(),prerelease:Eb(),compare:Mr(),rcompare:_b(),compareLoose:Pb(),compareBuild:ho(),sort:Tb(),rsort:Cb(),gt:si(),lt:po(),eq:fo(),neq:Nc(),gte:mo(),lte:vo(),cmp:xc(),coerce:Fb(),Comparator:ai(),Range:Hr(),satisfies:ui(),toComparators:oE(),maxSatisfying:uE(),minSatisfying:fE(),minVersion:pE(),validRange:vE(),outside:Eo(),gtr:_E(),ltr:PE(),intersects:OE(),simplifyRange:IE(),subset:xE()}});var So=b((K9,Gc)=>{"use strict";var _o=L0(),ek=zc(),kE=ds();function Bc(r,e,t,n,s,i){this.id=r,this.context=i,this.params=e,this.raw=t,this.query=n,this.log=s,this.body=null}Bc.props=[];function rk(r){if(typeof r=="function")return r;if(r===!0)return function(){return!0};if(typeof r=="number")return function(e,t){return t<r};if(typeof r=="string"){let e=r.split(",").map(t=>t.trim());return _o.compile(e)}return _o.compile(r)}function tk(r,e){return e?sk(r,e):DE(r)}function DE(r){let e=[...r.props];function t(n,s,i,a,o,c){this.id=n,this.context=c,this.params=s,this.raw=i,this.query=a,this.log=o,this.body=null;for(var f,u=0;u<e.length;u++)f=e[u],this[f.key]=f.value}return t.prototype=new r,t.props=e,t}function FE(r){let e=r.lastIndexOf(",");return e===-1?r.trim():r.slice(e+1).trim()}function sk(r,e){let t=DE(r),n=rk(e);return Object.defineProperties(t.prototype,{ip:{get(){return _o(this.raw,n)}},ips:{get(){return _o.all(this.raw,n)}},hostname:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?FE(this.headers["x-forwarded-host"]):this.headers.host||this.headers[":authority"]}},protocol:{get(){if(this.headers["x-forwarded-proto"])return FE(this.headers["x-forwarded-proto"]);if(this.socket)return this.socket.encrypted?"https":"http"}}}),t}Object.defineProperties(Bc.prototype,{req:{get(){return kE.emit("FSTDEP001"),this.raw}},url:{get(){return this.raw.url}},method:{get(){return this.raw.method}},routerPath:{get(){return this.context.config.url}},routerMethod:{get(){return this.context.config.method}},is404:{get(){return this.context.config.url===void 0}},connection:{get(){return ek.gte(process.versions.node,"13.0.0")&&kE.emit("FSTDEP005"),this.raw.connection}},socket:{get(){return this.raw.socket}},ip:{get(){if(this.socket)return this.socket.remoteAddress}},hostname:{get(){return this.raw.headers.host||this.raw.headers[":authority"]}},protocol:{get(){if(this.socket)return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(r){this.additionalHeaders=r}},server:{value:null,writable:!0}});Gc.exports=Bc;Gc.exports.buildRequest=tk});var Yc=b((J9,UE)=>{"use strict";var{kReply:Kc,kRequest:Jc,kState:nk}=nr(),{FST_ERR_DEC_ALREADY_PRESENT:LE,FST_ERR_DEC_MISSING_DEPENDENCY:ik,FST_ERR_DEC_AFTER_START:ak,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:ok}=$r(),lk=ds();function uk(r,e,t,n){if(r.hasOwnProperty(e))throw new LE(e);Wc(r,e,n),t&&(typeof t.getter=="function"||typeof t.setter=="function")?Object.defineProperty(r,e,{get:t.getter,set:t.setter}):r[e]=t}function ME(r,e,t,n){let s=r.prototype;if(s.hasOwnProperty(e)||Ro(r,e))throw new LE(e);Wc(r,e,n),t&&(typeof t.getter=="function"||typeof t.setter=="function")?Object.defineProperty(s,e,{get:t.getter,set:t.setter}):typeof t=="function"?s[e]=t:r.props.push({key:e,value:t})}function HE(r,e){typeof e=="object"&&e&&!(typeof e.getter=="function"||typeof e.setter=="function")&&lk.emit("FSTDEP006",r)}function ck(r,e,t){return Qc(this,r),uk(this,r,e,t),this}function Po(r,e){return e?e in r||r.prototype&&e in r.prototype||Ro(r,e):r in this}function Ro(r,e){return r.props?r.props.find(({key:t})=>t===e):!1}function fk(r){return r&&Ro(this[Jc],r)?!0:Po(this[Jc].prototype,r)}function hk(r){return r&&Ro(this[Kc],r)?!0:Po(this[Kc].prototype,r)}function Wc(r,e,t){if(t!=null){if(!Array.isArray(t))throw new ok(e);for(var n=0;n!==t.length;++n)if(!Po(r,t[n]))throw new ik(t[n])}}function dk(r,e,t){return Qc(this,r),HE(r,e),ME(this[Kc],r,e,t),this}function pk(r,e,t){return Qc(this,r),HE(r,e),ME(this[Jc],r,e,t),this}function Qc(r,e){if(r[nk].started)throw new ak(e)}UE.exports={add:ck,exist:Po,existRequest:fk,existReply:hk,dependencies:Wc,decorateReply:dk,decorateRequest:pk}});var BE=b((W9,zE)=>{"use strict";var VE=class{constructor(e=0,t=0){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.size=0,this.ttl=t}has(e){return e in this.items}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){let t=this.items[e];delete this.items[e],this.size--,t.prev!==null&&(t.prev.next=t.next),t.next!==null&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}evict(){let e=this.first;return delete this.items[e.key],this.first=e.next,this.first.prev=null,this.size--,this}get(e){let t;if(this.has(e)){let n=this.items[e];this.ttl>0&&n.expiry<=new Date().getTime()?this.delete(e):(t=n.value,this.set(e,t,!0))}return t}keys(){return Object.keys(this.items)}set(e,t,n=!1){let s;if(n||this.has(e)){if(s=this.items[e],s.value=t,n===!1&&(s.expiry=this.ttl>0?new Date().getTime()+this.ttl:this.ttl),this.last!==s){let i=this.last,a=s.next,o=s.prev;this.first===s&&(this.first=s.next),s.next=null,s.prev=this.last,i.next=s,o!==null&&(o.next=a),a!==null&&(a.prev=o)}}else this.max>0&&this.size===this.max&&this.evict(),s=this.items[e]={expiry:this.ttl>0?new Date().getTime()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},++this.size==1?this.first=s:this.last.next=s;return this.last=s,this}};function mk(r=1e3,e=0){if(isNaN(r)||r<0)throw new TypeError("Invalid max value");if(isNaN(e)||e<0)throw new TypeError("Invalid ttl value");return new VE(r,e)}zE.exports=mk});var YE=b((Q9,QE)=>{"use strict";var vk=typeof Buffer!="undefined",GE=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,KE=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function JE(r,e,t){t==null&&(e!==null&&typeof e=="object"?(t=e,e=void 0):t={});let n=t.protoAction||"error",s=t.constructorAction||"error";vk&&Buffer.isBuffer(r)&&(r=r.toString()),r&&r.charCodeAt(0)===65279&&(r=r.slice(1));let i=JSON.parse(r,e);if(n==="ignore"&&s==="ignore"||i===null||typeof i!="object")return i;if(n!=="ignore"&&s!=="ignore"){if(GE.test(r)===!1&&KE.test(r)===!1)return i}else if(n!=="ignore"&&s==="ignore"){if(GE.test(r)===!1)return i}else if(KE.test(r)===!1)return i;return WE(i,{protoAction:n,constructorAction:s}),i}function WE(r,{protoAction:e="error",constructorAction:t="error"}={}){let n=[r];for(;n.length;){let s=n;n=[];for(let i of s){if(e!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(e==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(let a in i){let o=i[a];o&&typeof o=="object"&&n.push(i[a])}}}}function gk(r,e){try{return JE(r,e)}catch{return null}}QE.exports={parse:JE,scan:WE,safeParse:gk}});var tf=b((Y9,hi)=>{"use strict";var{AsyncResource:yk}=require("async_hooks"),an=BE();an=typeof an=="function"?an:an.default;var bk=YE(),{kDefaultJsonParse:fi,kContentTypeParser:on,kBodyLimit:Ek,kRequestPayloadStream:Xc,kState:Zc,kTestInternals:wk}=nr(),{FST_ERR_CTP_INVALID_TYPE:XE,FST_ERR_CTP_EMPTY_TYPE:_k,FST_ERR_CTP_ALREADY_PRESENT:Sk,FST_ERR_CTP_INVALID_HANDLER:Pk,FST_ERR_CTP_INVALID_PARSE_TYPE:Rk,FST_ERR_CTP_BODY_TOO_LARGE:ZE,FST_ERR_CTP_INVALID_MEDIA_TYPE:$k,FST_ERR_CTP_INVALID_CONTENT_LENGTH:Ok,FST_ERR_CTP_EMPTY_JSON_BODY:Tk}=$r(),Ik=ds();function Pt(r,e,t){this[fi]=rw(e,t),this.customParsers={},this.customParsers["application/json"]=new rf(!0,!1,r,this[fi]),this.customParsers["text/plain"]=new rf(!0,!1,r,ef),this.parserList=["application/json","text/plain"],this.parserRegExpList=[],this.cache=an(100)}Pt.prototype.add=function(r,e,t){let n=typeof r=="string";if(!n&&!(r instanceof RegExp))throw new XE;if(n&&r.length===0)throw new _k;if(typeof t!="function")throw new Pk;if(this.existingParser(r))throw new Sk(r);if(e.parseAs!==void 0&&e.parseAs!=="string"&&e.parseAs!=="buffer")throw new Rk(e.parseAs);let s=new rf(e.parseAs==="string",e.parseAs==="buffer",e.bodyLimit,t);n&&r==="*"?this.customParsers[""]=s:(n?this.parserList.unshift(r):this.parserRegExpList.unshift(r),this.customParsers[r]=s)};Pt.prototype.hasParser=function(r){return r in this.customParsers};Pt.prototype.existingParser=function(r){return r==="application/json"?this.customParsers["application/json"]&&this.customParsers["application/json"].fn!==this[fi]:r==="text/plain"?this.customParsers["text/plain"]&&this.customParsers["text/plain"].fn!==ef:r in this.customParsers};Pt.prototype.getParser=function(r){for(var e=0;e!==this.parserList.length;++e){let n=this.parserList[e];if(r.indexOf(n)>-1){let s=this.customParsers[n];return this.cache.set(r,s),s}}for(var t=0;t!==this.parserRegExpList.length;++t){let n=this.parserRegExpList[t];if(n.test(r)){let s=this.customParsers[n];return this.cache.set(r,s),s}}return this.customParsers[""]};Pt.prototype.removeAll=function(){this.customParsers={},this.parserRegExpList=[],this.parserList=[],this.cache=an(100)};Pt.prototype.remove=function(r){if(!(typeof r=="string"||r instanceof RegExp))throw new XE;delete this.customParsers[r];let e=typeof r=="string"?this.parserList:this.parserRegExpList,t=e.findIndex(n=>n.toString()===r.toString());t>-1&&e.splice(t,1)};Pt.prototype.run=function(r,e,t,n){let s=this.cache.get(r)||this.getParser(r),i=new yk("content-type-parser:run",t);if(s===void 0)n.send(new $k(r));else if(s.asString===!0||s.asBuffer===!0)ew(t,n,n.context._parserOptions,s,a);else{let o;s.isDeprecatedSignature?o=s.fn(t[Xc],a):o=s.fn(t,t[Xc],a),o&&typeof o.then=="function"&&o.then(c=>a(null,c),a)}function a(o,c){i.runInAsyncScope(()=>{o?n.send(o):(t.body=c,e(t,n))})}};function ew(r,e,t,n,s){let i=n.asString,a=t.limit===null?n.bodyLimit:t.limit,o=r.headers["content-length"]===void 0?NaN:Number.parseInt(r.headers["content-length"],10);if(o>a){e.send(new ZE);return}let c=0,f=i===!0?"":[],u=r[Xc]||r.raw;i===!0&&u.setEncoding("utf8"),u.on("data",h),u.on("end",d),u.on("error",d),u.resume();function h(l){if(c+=l.length,(u.receivedEncodedLength||c)>a){u.removeListener("data",h),u.removeListener("end",d),u.removeListener("error",d),e.send(new ZE);return}i===!0?f+=l:f.push(l)}function d(l){if(u.removeListener("data",h),u.removeListener("end",d),u.removeListener("error",d),l!==void 0){l.statusCode=400,e.code(l.statusCode).send(l);return}if(i===!0&&(c=Buffer.byteLength(f)),!Number.isNaN(o)&&(u.receivedEncodedLength||c)!==o){e.send(new Ok);return}i===!1&&(f=Buffer.concat(f));let v=n.fn(r,f,s);v&&typeof v.then=="function"&&v.then(m=>s(null,m),s)}}function rw(r,e){return t;function t(n,s,i){if(s===""||s==null)return i(new Tk,void 0);let a;try{a=bk.parse(s,{protoAction:r,constructorAction:e})}catch(o){return o.statusCode=400,i(o,void 0)}i(null,a)}}function ef(r,e,t){t(null,e)}function rf(r,e,t,n){this.asString=r,this.asBuffer=e,this.bodyLimit=t,this.fn=n,n.length===(n.constructor.name==="AsyncFunction"?1:2)&&(Ik.emit("FSTDEP003"),this.isDeprecatedSignature=!0)}function Ck(r){let e=new Pt;return e[fi]=r[fi],Object.assign(e.customParsers,r.customParsers),e.parserList=r.parserList.slice(),e}function qk(r,e,t){if(this[Zc].started)throw new Error('Cannot call "addContentTypeParser" when fastify instance is already started!');return typeof e=="function"&&(t=e,e={}),e||(e={}),e.bodyLimit||(e.bodyLimit=this[Ek]),Array.isArray(r)?r.forEach(n=>this[on].add(n,e,t)):this[on].add(r,e,t),this}function Ak(r){return this[on].hasParser(r)}function Nk(r){if(this[Zc].started)throw new Error('Cannot call "removeContentTypeParser" when fastify instance is already started!');if(Array.isArray(r))for(let e of r)this[on].remove(e);else this[on].remove(r)}function xk(){if(this[Zc].started)throw new Error('Cannot call "removeAllContentTypeParsers" when fastify instance is already started!');this[on].removeAll()}hi.exports=Pt;hi.exports.helpers={buildContentTypeParser:Ck,addContentTypeParser:qk,hasContentTypeParser:Ak,removeContentTypeParser:Nk,removeAllContentTypeParsers:xk};hi.exports.defaultParsers={getDefaultJsonParser:rw,defaultTextParser:ef};hi.exports[wk]={rawBody:ew}});var nf=b((X9,sw)=>{"use strict";var jk=Ca()({circles:!1,proto:!0}),{kSchemaVisited:tw}=nr(),sf=Symbol.for("fluent-schema-object"),{FST_ERR_SCH_MISSING_ID:kk,FST_ERR_SCH_ALREADY_PRESENT:Dk,FST_ERR_SCH_DUPLICATE:Fk}=$r(),Lk=["params","body","querystring","query","headers"];function $o(r){this.store=r||{}}$o.prototype.add=function(r){let e=jk(r.isFluentSchema||r.isFluentJSONSchema||r[sf]?r.valueOf():r),t=e.$id;if(!t)throw new kk;if(this.store[t])throw new Dk(t);this.store[t]=e};$o.prototype.getSchemas=function(){return Object.assign({},this.store)};$o.prototype.getSchema=function(r){return this.store[r]};function Mk(r,e){if(r[tw])return r;if(r.query){if(r.querystring)throw new Fk("querystring");r.querystring=r.query}Hk(r);for(let t of["headers","querystring","params","body"])if(typeof r[t]=="object"&&Object.getPrototypeOf(r[t])!==Object.prototype)return r;if(r.body&&(r.body=di(r.body,e.jsonShorthand)),r.headers&&(r.headers=di(r.headers,e.jsonShorthand)),r.querystring&&(r.querystring=di(r.querystring,e.jsonShorthand)),r.params&&(r.params=di(r.params,e.jsonShorthand)),r.response){let t=Object.keys(r.response);for(let n of t)r.response[n]=di(r.response[n],e.jsonShorthand)}return r[tw]=!0,r}function Hk(r){for(let e of Lk)r[e]&&(r[e].isFluentSchema||r[e][sf])&&(r[e]=r[e].valueOf());if(r.response){let e=Object.keys(r.response);for(let t of e)(r.response[t].isFluentSchema||r.response[t][sf])&&(r.response[t]=r.response[t].valueOf())}}function di(r,e){return!e||r.$ref||r.oneOf||r.allOf||r.anyOf||r.$merge||r.$patch?r:!r.type&&!r.properties?{type:"object",properties:r}:r}sw.exports={buildSchemas(r){return new $o(r)},normalizeSchema:Mk}});var iw=b((Z9,nw)=>{"use strict";var Uk=qu();function Vk(r,e){let t=Object.assign({},e,{schema:r});return function({schema:s}){return Uk(s,t)}}nw.exports.serializerCompiler=Vk});var ow=b((e6,aw)=>{"use strict";var zk=bu();function Bk(){let r=new Map,e=new Map;return e.put=e.set,function(n,s){let i=JSON.stringify(n),a=JSON.stringify(s.customOptions),o=`${i}${a}`;if(r.has(o))return r.get(o);let c=Gk(n,s,e);return r.set(o,c),c}}function Gk(r,e,t){let n=new zk(Object.assign({coerceTypes:!0,useDefaults:!0,removeAdditional:!0,allErrors:!1,nullable:!0},e.customOptions,{cache:t}));if(e.plugins&&e.plugins.length>0)for(let i of e.plugins)Array.isArray(i)?i[0](n,i[1]):i(n);let s=Object.values(r);for(let i of s)n.addSchema(i);return function({schema:i}){if(i.$id){let a=n.getSchema(i.$id);if(a)return a}return n.compile(i)}}aw.exports=Bk});var af=b((r6,lw)=>{"use strict";var{buildSchemas:Kk}=nf(),{serializerCompiler:Jk}=iw(),Wk=ow();function Qk(r,e){if(r)return new pi(r,e);let t={buildValidator:Wk(),buildSerializer:Jk};e&&e.compilersFactory&&(t=Object.assign(t,e.compilersFactory));let n={bucket:e&&e.bucket||Kk,compilersFactory:t};return new pi(void 0,n)}var pi=class{constructor(e,t){this.opts=t||e&&e.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,e?(this.schemaBucket=this.opts.bucket(e.getSchemas()),this.validatorCompiler=e.getValidatorCompiler(),this.serializerCompiler=e.getSerializerCompiler(),this.parent=e):this.schemaBucket=this.opts.bucket()}add(e){return this.addedSchemas=!0,this.schemaBucket.add(e)}getSchema(e){return this.schemaBucket.getSchema(e)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(e){this.validatorCompiler=e}setSerializerCompiler(e){this.serializerCompiler=e}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}getSerializerBuilder(){return this.compilersFactory.buildSerializer||this.parent&&this.parent.getSerializerBuilder()}getValidatorBuilder(){return this.compilersFactory.buildValidator||this.parent&&this.parent.getValidatorBuilder()}setupValidator(e){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.getValidatorBuilder()(this.schemaBucket.getSchemas(),e.ajv))}setupSerializer(e){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.getSerializerBuilder()(this.schemaBucket.getSchemas(),e.serializerOpts))}};pi.buildSchemaController=Qk;lw.exports=pi});var ff=b((t6,cf)=>{"use strict";var Yk=zc(),of=require("assert"),lf=Symbol.for("registered-plugin"),{kTestInternals:Xk}=nr(),{exist:Zk,existReply:eD,existRequest:rD}=Yc(),{FST_ERR_PLUGIN_VERSION_MISMATCH:tD}=$r();function mi(r){return r[Symbol.for("plugin-meta")]}function sD(r){let e=require.cache,t=Object.keys(e);for(let n=0;n<t.length;n++){let s=t[n];if(e[s].exports===r)return s}return r.name?r.name:null}function nD(r){return r.toString().split(`
`).slice(0,2).map(e=>e.trim()).join(" -- ")}function iD(r){return r[Symbol.for("fastify.display-name")]}function uw(r){return!!r[Symbol.for("skip-override")]}function cw(r){let e=mi(r);if(!e)return;let t=e.dependencies;!t||(of(Array.isArray(t),"The dependencies should be an array of strings"),t.forEach(n=>{of(this[lf].indexOf(n)>-1,`The dependency '${n}' of plugin '${e.name}' is not registered`)}))}function fw(r){let e=mi(r);if(!e)return;let{decorators:t,name:n}=e;!t||(t.fastify&&uf(this,"Fastify",t.fastify,n),t.reply&&uf(this,"Reply",t.reply,n),t.request&&uf(this,"Request",t.request,n))}var aD={Fastify:Zk,Request:rD,Reply:eD};function uf(r,e,t,n){of(Array.isArray(t),"The decorators should be an array of strings"),t.forEach(s=>{let i=typeof n=="string"?` required by '${n}'`:"";if(!aD[e].call(r,s))throw new Error(`The decorator '${s}'${i} is not present in ${e}`)})}function oD(r){let e=mi(r);if(!e)return;let t=e.fastify;if(!!t&&!Yk.satisfies(this.version,t))throw new tD(e.name,t,this.version)}function lD(r){let e=mi(r);if(!e)return;let t=e.name;!t||this[lf].push(t)}function uD(r){return lD.call(this,r),oD.call(this,r),fw.call(this,r),cw.call(this,r),uw(r)}cf.exports={getPluginName:sD,getFuncPreview:nD,registeredPlugins:lf,getDisplayName:iD,registerPlugin:uD};cf.exports[Xk]={shouldSkipOverride:uw,getMeta:mi,checkDecorators:fw,checkDependencies:cw}});var dw=b((s6,hw)=>{"use strict";hw.exports=function(){let r=2147483647,e=0;return function(n){return e=e+1&r,`req-${e.toString(36)}`}}});var gw=b((n6,vw)=>{"use strict";var pw=12,cD=0,hf=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function fD(r){var e=r.indexOf("%");if(e===-1)return r;for(var t=r.length,n="",s=0,i=0,a=e,o=pw;e>-1&&e<t;){var c=mw(r[e+1],4),f=mw(r[e+2],0),u=c|f,h=hf[u];if(o=hf[256+o+h],i=i<<6|u&hf[364+h],o===pw)n+=r.slice(s,a),n+=i<=65535?String.fromCharCode(i):String.fromCharCode(55232+(i>>10),56320+(i&1023)),i=0,s=e+3,e=a=r.indexOf("%",s);else{if(o===cD)return null;if(e+=3,e<t&&r.charCodeAt(e)===37)continue;return null}}return n+r.slice(s)}var hD={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function mw(r,e){var t=hD[r];return t===void 0?255:t<<e}vw.exports=fD});var vi=b((i6,yw)=>{yw.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}});var pf=b(Nt=>{var Se=vi(),df=()=>[{type:Se.RANGE,from:48,to:57}],bw=()=>[{type:Se.CHAR,value:95},{type:Se.RANGE,from:97,to:122},{type:Se.RANGE,from:65,to:90}].concat(df()),Ew=()=>[{type:Se.CHAR,value:9},{type:Se.CHAR,value:10},{type:Se.CHAR,value:11},{type:Se.CHAR,value:12},{type:Se.CHAR,value:13},{type:Se.CHAR,value:32},{type:Se.CHAR,value:160},{type:Se.CHAR,value:5760},{type:Se.RANGE,from:8192,to:8202},{type:Se.CHAR,value:8232},{type:Se.CHAR,value:8233},{type:Se.CHAR,value:8239},{type:Se.CHAR,value:8287},{type:Se.CHAR,value:12288},{type:Se.CHAR,value:65279}],dD=()=>[{type:Se.CHAR,value:10},{type:Se.CHAR,value:13},{type:Se.CHAR,value:8232},{type:Se.CHAR,value:8233}];Nt.words=()=>({type:Se.SET,set:bw(),not:!1});Nt.notWords=()=>({type:Se.SET,set:bw(),not:!0});Nt.ints=()=>({type:Se.SET,set:df(),not:!1});Nt.notInts=()=>({type:Se.SET,set:df(),not:!0});Nt.whitespace=()=>({type:Se.SET,set:Ew(),not:!1});Nt.notWhitespace=()=>({type:Se.SET,set:Ew(),not:!0});Nt.anyChar=()=>({type:Se.SET,set:dD(),not:!0})});var _w=b(gi=>{var ww=vi(),ln=pf(),pD="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",mD={"0":0,t:9,n:10,v:11,f:12,r:13};gi.strToChars=function(r){var e=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return r=r.replace(e,function(t,n,s,i,a,o,c,f){if(s)return t;var u=n?8:i?parseInt(i,16):a?parseInt(a,16):o?parseInt(o,8):c?pD.indexOf(c):mD[f],h=String.fromCharCode(u);return/[[\]{}^$.|?*+()]/.test(h)&&(h="\\"+h),h}),r};gi.tokenizeClass=(r,e)=>{for(var t=[],n=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,s,i;(s=n.exec(r))!=null;)if(s[1])t.push(ln.words());else if(s[2])t.push(ln.ints());else if(s[3])t.push(ln.whitespace());else if(s[4])t.push(ln.notWords());else if(s[5])t.push(ln.notInts());else if(s[6])t.push(ln.notWhitespace());else if(s[7])t.push({type:ww.RANGE,from:(s[8]||s[9]).charCodeAt(0),to:s[10].charCodeAt(0)});else if(i=s[12])t.push({type:ww.CHAR,value:i.charCodeAt(0)});else return[t,n.lastIndex];gi.error(e,"Unterminated character class")};gi.error=(r,e)=>{throw new SyntaxError("Invalid regular expression: /"+r+"/: "+e)}});var Sw=b(yi=>{var Oo=vi();yi.wordBoundary=()=>({type:Oo.POSITION,value:"b"});yi.nonWordBoundary=()=>({type:Oo.POSITION,value:"B"});yi.begin=()=>({type:Oo.POSITION,value:"^"});yi.end=()=>({type:Oo.POSITION,value:"$"})});var Pw=b((u6,mf)=>{var un=_w(),Ur=vi(),bs=pf(),To=Sw();mf.exports=r=>{var e=0,t,n,s={type:Ur.ROOT,stack:[]},i=s,a=s.stack,o=[],c=g=>{un.error(r,`Nothing to repeat at column ${g-1}`)},f=un.strToChars(r);for(t=f.length;e<t;)switch(n=f[e++],n){case"\\":switch(n=f[e++],n){case"b":a.push(To.wordBoundary());break;case"B":a.push(To.nonWordBoundary());break;case"w":a.push(bs.words());break;case"W":a.push(bs.notWords());break;case"d":a.push(bs.ints());break;case"D":a.push(bs.notInts());break;case"s":a.push(bs.whitespace());break;case"S":a.push(bs.notWhitespace());break;default:/\d/.test(n)?a.push({type:Ur.REFERENCE,value:parseInt(n,10)}):a.push({type:Ur.CHAR,value:n.charCodeAt(0)})}break;case"^":a.push(To.begin());break;case"$":a.push(To.end());break;case"[":var u;f[e]==="^"?(u=!0,e++):u=!1;var h=un.tokenizeClass(f.slice(e),r);e+=h[1],a.push({type:Ur.SET,set:h[0],not:u});break;case".":a.push(bs.anyChar());break;case"(":var d={type:Ur.GROUP,stack:[],remember:!0};n=f[e],n==="?"&&(n=f[e+1],e+=2,n==="="?d.followedBy=!0:n==="!"?d.notFollowedBy=!0:n!==":"&&un.error(r,`Invalid group, character '${n}' after '?' at column ${e-1}`),d.remember=!1),a.push(d),o.push(i),i=d,a=d.stack;break;case")":o.length===0&&un.error(r,`Unmatched ) at column ${e-1}`),i=o.pop(),a=i.options?i.options[i.options.length-1]:i.stack;break;case"|":i.options||(i.options=[i.stack],delete i.stack);var l=[];i.options.push(l),a=l;break;case"{":var v=/^(\d+)(,(\d+)?)?\}/.exec(f.slice(e)),m,p;v!==null?(a.length===0&&c(e),m=parseInt(v[1],10),p=v[2]?v[3]?parseInt(v[3],10):1/0:m,e+=v[0].length,a.push({type:Ur.REPETITION,min:m,max:p,value:a.pop()})):a.push({type:Ur.CHAR,value:123});break;case"?":a.length===0&&c(e),a.push({type:Ur.REPETITION,min:0,max:1,value:a.pop()});break;case"+":a.length===0&&c(e),a.push({type:Ur.REPETITION,min:1,max:1/0,value:a.pop()});break;case"*":a.length===0&&c(e),a.push({type:Ur.REPETITION,min:0,max:1/0,value:a.pop()});break;default:a.push({type:Ur.CHAR,value:n.charCodeAt(0)})}return o.length!==0&&un.error(r,"Unterminated group"),s};mf.exports.types=Ur});var Ow=b((c6,$w)=>{"use strict";var Rw=Pw(),vD=Rw.types;$w.exports=function(r,e){e||(e={});var t=e.limit===void 0?25:e.limit;gD(r)?r=r.source:typeof r!="string"&&(r=String(r));try{r=Rw(r)}catch{return!1}var n=0;return function s(i,a){var o,c,f;if(i.type===vD.REPETITION&&(a++,n++,a>1||n>t))return!1;if(i.options){for(o=0,f=i.options.length;o<f;o++)if(c=s({stack:i.options[o]},a),!c)return!1}var u=i.stack||i.value&&i.value.stack;if(!u)return!0;for(o=0;o<u.length;o++)if(c=s(u[o],a),!c)return!1;return!0}(r,0)};function gD(r){return{}.toString.call(r)==="[object RegExp]"}});var Dw=b((f6,kw)=>{"use strict";var cn="    ",fn="\u2502   ",Tw="\u251C\u2500\u2500 ",Iw="\u2514\u2500\u2500 ",Cw="*",bi="/",qw=/(?=\/)/;function yD(r){let e=r.name||"";return e=e.replace("bound","").trim(),e=(e||"anonymous")+"()",e}function Aw(r){return Array.isArray(r)?r.map(e=>Aw(e)):typeof r=="symbol"?r.toString():typeof r=="function"?yD(r):r}function vf(r,e){let t={},n=this.buildPrettyMeta(r);return Array.isArray(e)||(e=n?Reflect.ownKeys(n):[]),e.forEach(s=>{let i=typeof s=="symbol"?s.toString():s;n&&n[s]&&(t[i]=Aw(n[s]))}),t}function bD(r,e={}){if(!this.buildPrettyMeta)throw new Error("buildPrettyMeta not defined");e.includeMeta=e.includeMeta||null;let t=[],n="";r.sort((i,a)=>!i.path||!a.path?0:i.path.localeCompare(a.path));for(let i=0;i<r.length;i++){let a=r[i],o=t.find(f=>a.path===f.path);if(o){o.handlers.push({method:a.method,opts:a.opts.constraints||void 0,meta:e.includeMeta?vf.call(this,a,e.includeMeta):null});continue}let c={method:a.method,opts:a.opts.constraints||void 0,meta:e.includeMeta?vf.call(this,a,e.includeMeta):null};t.push({path:a.path,methods:[a.method],opts:[a.opts],handlers:[c]})}if(!t.filter(i=>i.path===bi).length){let i={path:bi,truncatedPath:"",methods:[],opts:[],handlers:[{}]};t.filter(a=>a.path===Cw).length?t.splice(1,0,i):t.unshift(i)}let s=ED(t);return s.forEach((i,a)=>{n+=Nw(i,null,a===s.length-1,!1,!0),n+=`
`}),n}function ED(r,e){e=e||bi;let t=[],n={result:t};return r.forEach((s,i)=>{let a=s.path.split(qw);a[0]!==bi&&a[0]!==Cw&&(a=[bi,a[0].slice(1),...a.slice(1)]),a.reduce((o,c,f)=>{if(!o[c]){o[c]={result:[]};let u={path:c,children:o[c].result};f===a.length-1&&(u.handlers=s.handlers),o.result.push(u)}return o[c]},n)}),t}function Nw(r,e,t,n,s){let i="";if(!n&&!s&&(i+=`
`),n||(i+=`${e||""}${t?Iw:Tw}`),i+=`${r.path}`,r.handlers){let a=r.handlers.reduce((o,c)=>{let f=o.findIndex(u=>JSON.stringify(u.opts)===JSON.stringify(c.opts));return f!==-1?o[f].method=[o[f].method,c.method].join(", "):o.push(c),o},[]);a.forEach((o,c)=>{c>0&&(i+=`${n?"":e||""}${t?cn:fn}${r.path}`),i+=` (${o.method||"-"})`,o.opts&&JSON.stringify(o.opts)!=="{}"&&(i+=` ${JSON.stringify(o.opts)}`),o.meta&&Reflect.ownKeys(o.meta).forEach((f,u)=>{i+=`
${n?"":e||""}${t?cn:fn}`,i+=`\u2022 (${f}) ${JSON.stringify(o.meta[f])}`}),a.length>1&&c!==a.length-1&&(i+=`
`)})}else r.children.length>1&&(i+=" (-)");return n||(e=`${e||""}${t?cn:fn}`),r.children.forEach((a,o)=>{let c=o===r.children.length-1,f=!r.handlers&&r.children.length===1;i+=Nw(a,e,c,f)}),i}function xw(r,e,t,n){if(!this.buildPrettyMeta)throw new Error("buildPrettyMeta not defined");n.includeMeta=n.includeMeta||null;let s="",i=[];for(let c of r.nodes)for(let f of c.handlers)i.push({method:c.method,...f});i.length?i.forEach((c,f)=>{let u=`(${c.method||"-"})`;Object.keys(c.constraints).length>0&&(u+=" "+JSON.stringify(c.constraints));let h="",d=r.prefix.split("").map((l,v)=>l===":"?v:null).filter(l=>l!==null);if(d.length){let l=0;d.forEach((v,m)=>{h+=r.prefix.slice(l,v+1),h+=c.params[c.params.length-d.length+m],m===d.length-1&&(h+=r.prefix.slice(v+1)),l=v+1})}else h=r.prefix;if(f===0?s+=`${h} ${u}`:s+=`
${e}${t?cn:fn}${h} ${u}`,n.includeMeta){let l=vf.call(this,c,n.includeMeta);Object.keys(l).forEach((v,m)=>{s+=`
${e||""}${t?cn:fn}`,s+=`\u2022 (${v}) ${JSON.stringify(l[v])}`})}}):s=r.prefix;let a=`${e}${t?Iw:Tw}${s}
`;e=`${e}${t?cn:fn}`;let o=Object.keys(r.children);for(let c=0;c<o.length;c++){let f=r.children[o[c]];a+=xw.call(this,f,e,c===o.length-1,n)}return a}function jw(r,e){if(e.handlers.length>0&&r.nodes.push(e),e.children)for(let t of Object.values(e.children)){let n=t.prefix.split(qw),s=r,i;for(let a of n)i=s,s=s.children[a],s||(s={prefix:a,nodes:[],children:{}},i.children[a]=s);jw(s,t)}}function gf(r){let e=Object.keys(r.children);if(r.nodes.length===0&&e.length===1){let t=r.children[e[0]];if(t.nodes.length<=1)return gf(t),r.nodes=t.nodes,r.prefix+=t.prefix,r.children=t.children,r}for(let t of Object.keys(r.children))gf(r.children[t]);return r}kw.exports={flattenNode:jw,compressFlattenedNode:gf,prettyPrintFlattenedNode:xw,prettyPrintRoutesArray:bD}});var Hw=b((h6,Mw)=>{"use strict";var Fw=require("assert"),wD=Tt(),_D={STATIC:0,PARAM:1,MATCH_ALL:2,REGEX:3,MULTI_PARAM:4};function Je(r){r=r||{},this.prefix=r.prefix||"/",this.label=this.prefix[0],this.method=r.method,this.handlers=r.handlers||[],this.unconstrainedHandler=r.unconstrainedHandler||null,this.children=r.children||{},this.numberOfChildren=Object.keys(this.children).length,this.kind=r.kind||this.types.STATIC,this.regex=r.regex||null,this.wildcardChild=null,this.parametricBrother=null,this.constrainer=r.constrainer,this.hasConstraints=r.hasConstraints||!1,this.constrainedHandlerStores=null}Object.defineProperty(Je.prototype,"types",{value:_D});Je.prototype.getLabel=function(){return this.prefix[0]};Je.prototype.addChild=function(r){var e="";switch(r.kind){case this.types.STATIC:e=r.getLabel();break;case this.types.PARAM:case this.types.REGEX:case this.types.MULTI_PARAM:e=":";break;case this.types.MATCH_ALL:this.wildcardChild=r,e="*";break;default:throw new Error(`Unknown node kind: ${r.kind}`)}Fw(this.children[e]===void 0,`There is already a child with label '${e}'`),this.children[e]=r;let t=Object.values(this.children);return this.numberOfChildren=t.length,this._saveParametricBrother(),this};Je.prototype._saveParametricBrother=function(){let r=this.parametricBrother;for(let e of Object.values(this.children))if(e.prefix===":"){r=e;break}if(r)for(let e of Object.values(this.children))e&&e.kind===this.types.STATIC&&(e.parametricBrother=r,e._saveParametricBrother(r))};Je.prototype.reset=function(r){return this.prefix=r,this.children={},this.handlers=[],this.unconstrainedHandler=null,this.kind=this.types.STATIC,this.numberOfChildren=0,this.regex=null,this.wildcardChild=null,this.hasConstraints=!1,this._decompileGetHandlerMatchingConstraints(),this};Je.prototype.split=function(r){let e=new Je({prefix:this.prefix.slice(r),children:this.children,kind:this.kind,method:this.method,handlers:this.handlers.slice(0),regex:this.regex,constrainer:this.constrainer,hasConstraints:this.hasConstraints,unconstrainedHandler:this.unconstrainedHandler});return this.wildcardChild!==null&&(e.wildcardChild=this.wildcardChild),this.reset(this.prefix.slice(0,r)),this.addChild(e),e};Je.prototype.findByLabel=function(r){return this.children[r[0]]};Je.prototype.findMatchingChild=function(r,e){var t=this.children[e[0]];return t!==void 0&&(t.numberOfChildren>0||t.getMatchingHandler(r)!==null)&&e.slice(0,t.prefix.length)===t.prefix||(t=this.children[":"],t!==void 0&&(t.numberOfChildren>0||t.getMatchingHandler(r)!==null))||(t=this.children["*"],t!==void 0&&(t.numberOfChildren>0||t.getMatchingHandler(r)!==null))?t:null};Je.prototype.addHandler=function(r,e,t,n){if(!r)return;Fw(!this.getHandler(n),`There is already a handler with constraints '${JSON.stringify(n)}' and method '${this.method}'`);let s={handler:r,params:e,constraints:n,store:t||null,paramsLength:e.length};if(this.handlers.push(s),this.handlers.sort((i,a)=>Object.keys(i.constraints).length-Object.keys(a.constraints).length),Object.keys(n).length>0?this.hasConstraints=!0:this.unconstrainedHandler=s,this.hasConstraints&&this.handlers.length>32)throw new Error("find-my-way supports a maximum of 32 route handlers per node when there are constraints, limit reached");this._decompileGetHandlerMatchingConstraints()};Je.prototype.getHandler=function(r){return this.handlers.filter(e=>wD(r,e.constraints))[0]};function Lw(r){return this._compileGetHandlerMatchingConstraints(),this._getHandlerMatchingConstraints(r)}Je.prototype.getMatchingHandler=function(r){return this.hasConstraints?this._getHandlerMatchingConstraints(r):r&&r.__hasMustMatchValues?null:this.unconstrainedHandler};Je.prototype._getHandlerMatchingConstraints=Lw;Je.prototype._decompileGetHandlerMatchingConstraints=function(){return this._getHandlerMatchingConstraints=Lw,null};Je.prototype._buildConstraintStore=function(r){let e=this.constrainer.newStoreForConstraint(r);for(let t=0;t<this.handlers.length;t++){let s=this.handlers[t].constraints[r];if(typeof s!="undefined"){let i=e.get(s);i||(i=0),i|=1<<t,e.set(s,i)}}return e};Je.prototype._constrainedIndexBitmask=function(r){let e=0;for(let t=0;t<this.handlers.length;t++){let n=this.handlers[t];n.constraints&&r in n.constraints&&(e|=1<<t)}return~e};Je.prototype._compileGetHandlerMatchingConstraints=function(){this.constrainedHandlerStores={};let r=new Set;for(let t of this.handlers)for(let n of Object.keys(t.constraints))r.add(n);r=Array.from(r);let e=[];r.sort((t,n)=>t==="version"?1:0);for(let t of r)this.constrainedHandlerStores[t]=this._buildConstraintStore(t);e.push(`
  let candidates = 0b${"1".repeat(this.handlers.length)}
  let mask, matches
  `);for(let t of r)e.push(`
    mask = ${this._constrainedIndexBitmask(t)}
    value = derivedConstraints.${t}
    `),e.push(`
    if (typeof value === "undefined") {
      candidates &= mask
    } else {
      matches = this.constrainedHandlerStores.${t}.get(value) || 0
      candidates &= (matches | mask)
    }
    if (candidates === 0) return null;
    `);e.push(`
  const handler = this.handlers[Math.floor(Math.log2(candidates))]
  if (handler && derivedConstraints.__hasMustMatchValues && handler === this.unconstrainedHandler) {
    return null;
  }
  return handler;
  `),this._getHandlerMatchingConstraints=new Function("derivedConstraints",e.join(`
`))};Mw.exports=Je});var Vw=b((d6,Uw)=>{"use strict";function Es(){if(!(this instanceof Es))return new Es;this.tree=new xt}Es.prototype.set=function(r,e){if(typeof r!="string")throw new TypeError("Version should be a string");var t=this.tree;for(r=r.split(".");r.length;)t=t.addChild(new xt(r.shift()));return t.setStore(e),this};Es.prototype.get=function(r){if(typeof r!="string")return null;r==="*"&&(r="x.x.x");var e=this.tree,t=r.indexOf("."),n=r.indexOf(".",t+1),s=r.slice(0,t),i=n===-1?r.slice(t+1):r.slice(t+1,n),a=n===-1?"x":r.slice(n+1);return e=e.getChild(s),e===null||(e=e.getChild(i),e===null)||(e=e.getChild(a),e===null)?null:e.store};Es.prototype.del=function(r){if(typeof r!="string")throw new TypeError("Version should be a string");var e=r.indexOf("."),t=r.indexOf(".",e+1),n=r.slice(0,e),s=t===-1?r.slice(e+1):r.slice(e+1,t),i=t===-1?"x":r.slice(t+1),a=this.tree.children[n];if(a==null)return this;if(s==="x")return this.tree.removeChild(n),this;var o=a.children[s];if(o==null)return this;if(i==="x")return this.tree.children[n].removeChild(s),this.tree.children[n].length===0&&this.tree.removeChild(n),this;var c=o.children[i];return c==null?this:(this.tree.children[n].children[s].removeChild(i),this.tree.children[n].children[s].length===0&&(this.tree.children[n].removeChild(s),this.tree.children[n].length===0&&this.tree.removeChild(n)),this)};Es.prototype.empty=function(){return this.tree=new xt,this};function SD(r){for(var e=r.length,t=r[0],n=1;n<e;n++)r[n]>t&&(t=r[n]);return t}function xt(r,e,t){this.prefix=Number(r)||0,this.children=e||null,this.childrenPrefixes=e?Object.keys(e):[],this.store=t||null}xt.prototype.getChild=function(r){if(this.children===null)return null;if(r==="x"){var e=SD(this.childrenPrefixes);return this.children[e]}return this.children[r]||null};xt.prototype.addChild=function(r){this.children=this.children||{};var e=this.getChild(r.prefix);return e===null&&(this.children[r.prefix]=r,this.childrenPrefixes.push(r.prefix)),e||r};xt.prototype.removeChild=function(r){return r==="x"?(this.children=null,this.childrenPrefixes=[],this):(this.children[r]!==void 0&&(r=Number(r),delete this.children[r],this.childrenPrefixes.splice(this.childrenPrefixes.indexOf(r),1)),this)};xt.prototype.setStore=function(r){return this.store=r,this};Object.defineProperty(xt.prototype,"length",{get:function(){return this.childrenPrefixes.length}});Uw.exports=Es});var Bw=b((p6,zw)=>{"use strict";var PD=Vw(),RD=require("assert");zw.exports={name:"version",mustMatchWhenDerived:!0,storage:PD,validate(r){RD(typeof r=="string","Version should be a string")}}});var Kw=b((m6,Gw)=>{"use strict";var $D=require("assert");function OD(){var r={},e=[];return{get:t=>{var n=r[t];if(n)return n;for(var s,i=0;i<e.length;i++)if(s=e[i],s.host.test(t))return s.value},set:(t,n)=>{t instanceof RegExp?e.push({host:t,value:n}):r[t]=n},del:t=>{delete r[t],e=e.filter(n=>String(n.host)!==String(t))},empty:()=>{r={},e=[]}}}Gw.exports={name:"host",mustMatchWhenDerived:!1,storage:OD,validate(r){$D(typeof r=="string"||Object.prototype.toString.call(r)==="[object RegExp]","Host should be a string or a RegExp")}}});var Qw=b((v6,Ww)=>{"use strict";var TD=Bw(),ID=Kw(),yf=require("assert"),Jw=class{constructor(e){if(this.strategies={version:TD,host:ID},this.strategiesInUse=new Set,e)for(var t=Object.keys(e),n,s=0;s<t.length;s++)n=e[t[s]],yf(typeof n.name=="string"&&n.name!=="","strategy.name is required."),yf(n.storage&&typeof n.storage=="function","strategy.storage function is required."),yf(n.deriveConstraint&&typeof n.deriveConstraint=="function","strategy.deriveConstraint function is required."),n.isCustom=!0,this.strategies[n.name]=n,n.mustMatchWhenDerived&&this.noteUsage({[t[s]]:n})}deriveConstraints(e,t){}noteUsage(e){if(e){let t=this.strategiesInUse.size;for(let n in e)this.strategiesInUse.add(n);t!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(e){if(!this.strategies[e])throw new Error(`No strategy registered for constraint key ${e}`);return this.strategies[e].storage()}validateConstraints(e){for(let t in e){let n=e[t];if(typeof n=="undefined")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let s=this.strategies[t];if(!s)throw new Error(`No strategy registered for constraint key ${t}`);s.validate&&s.validate(n)}}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let e=[`
      const derivedConstraints = {
        __hasMustMatchValues: false,
    `],t=[];for(let n of this.strategiesInUse){let s=this.strategies[n];if(s.isCustom)e.push(`  ${s.name}: this.strategies.${n}.deriveConstraint(req, ctx),`);else if(n==="version")e.push("   version: req.headers['accept-version'],");else if(n==="host")e.push("   host: req.headers.host || req.headers[':authority'],");else throw new Error("unknown non-custom strategy for compiling constraint derivation function");s.mustMatchWhenDerived&&t.push(n)}e.push("}"),t.length>0&&e.push(`derivedConstraints.__hasMustMatchValues = !!(${t.map(n=>`derivedConstraints.${n}`).join(" || ")})`),e.push("return derivedConstraints"),this.deriveConstraints=new Function("req","ctx",e.join(`
`)).bind(this)}};Ww.exports=Jw});var wf=b((g6,Xw)=>{"use strict";var Ue=require("assert"),Io=require("http"),Ei=gw(),bf=Ow(),{flattenNode:CD,compressFlattenedNode:qD,prettyPrintFlattenedNode:AD,prettyPrintRoutesArray:ND}=Dw(),Co=Hw(),xD=Qw(),Vr=Co.prototype.types,Ef=Io.METHODS,Yw=/^https?:\/\/.*?\//,ws=/(\/:[^/()]*?)\?(\/?)/;if(!bf(Yw))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!bf(ws))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");function Xe(r){if(!(this instanceof Xe))return new Xe(r);r=r||{},r.defaultRoute?(Ue(typeof r.defaultRoute=="function","The default route must be a function"),this.defaultRoute=r.defaultRoute):this.defaultRoute=null,r.onBadUrl?(Ue(typeof r.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=r.onBadUrl):this.onBadUrl=null,r.buildPrettyMeta?(Ue(typeof r.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=r.buildPrettyMeta):this.buildPrettyMeta=DD,this.caseSensitive=r.caseSensitive===void 0?!0:r.caseSensitive,this.ignoreTrailingSlash=r.ignoreTrailingSlash||!1,this.maxParamLength=r.maxParamLength||100,this.allowUnsafeRegex=r.allowUnsafeRegex||!1,this.constrainer=new xD(r.constraints),this.trees={},this.routes=[]}Xe.prototype.on=function(e,t,n,s,i){typeof n=="function"&&(s!==void 0&&(i=s),s=n,n={}),Ue(typeof t=="string","Path should be a string"),Ue(t.length>0,"The path could not be empty"),Ue(t[0]==="/"||t[0]==="*","The first character of a path should be `/` or `*`"),Ue(typeof s=="function","Handler should be a function");let a=t.match(ws);if(a){Ue(t.length===a.index+a[0].length,"Optional Parameter needs to be the last parameter of the path");let o=t.replace(ws,"$1$2"),c=t.replace(ws,"$2");this.on(e,o,n,s,i),this.on(e,c,n,s,i);return}this._on(e,t,n,s,i),this.ignoreTrailingSlash&&t!=="/"&&!t.endsWith("*")&&(t.endsWith("/")?this._on(e,t.slice(0,-1),n,s,i):this._on(e,t+"/",n,s,i))};Xe.prototype._on=function(e,t,n,s,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)this._on(e[a],t,n,s,i);return}Ue(typeof e=="string","Method should be a string"),Ue(Ef.indexOf(e)!==-1,`Method '${e}' is not an http method.`);let o={};n.constraints!==void 0&&(Ue(typeof n.constraints=="object"&&n.constraints!==null,"Constraints should be an object"),Object.keys(n.constraints).length!==0&&(o=n.constraints)),this.constrainer.validateConstraints(o),this.constrainer.noteUsage(o);let c=[];var f=0;this.routes.push({method:e,path:t,opts:n,handler:s,store:i});for(var u=0,h=t.length;u<h;u++)if(t.charCodeAt(u)===58){if(u!==h-1&&t.charCodeAt(u+1)===58){t=t.slice(0,u)+t.slice(u+1),h=t.length;continue}var d=Vr.PARAM;f=u+1;var l=t.slice(0,u);this.caseSensitive===!1&&(l=l.toLowerCase()),this._insert(e,l,Vr.STATIC,null,null,null,null,o);for(var v=!1;u<h&&t.charCodeAt(u)!==47;)if(v=v||t[u]==="(",v){u=kD(t,u)+1;break}else if(t.charCodeAt(u)!==45&&t.charCodeAt(u)!==46)u++;else break;v&&(u===h||t.charCodeAt(u)===47)?d=Vr.REGEX:u<h&&t.charCodeAt(u)!==47&&(d=Vr.MULTI_PARAM);var m=t.slice(f,u),p=v?m.slice(m.indexOf("("),u):null;if(v&&(p=new RegExp(p),this.allowUnsafeRegex||Ue(bf(p),`The regex '${p.toString()}' is not safe!`)),c.push(m.slice(0,v?m.indexOf("("):u)),t=t.slice(0,f)+t.slice(u),u=f,h=t.length,u===h){var g=t.slice(0,u);return this.caseSensitive===!1&&(g=g.toLowerCase()),this._insert(e,g,d,c,s,i,p,o)}l=t.slice(0,u),this.caseSensitive===!1&&(l=l.toLowerCase()),this._insert(e,l,d,c,null,null,p,o),u--}else if(t.charCodeAt(u)===42)return this._insert(e,t.slice(0,u),Vr.STATIC,null,null,null,null,o),c.push("*"),this._insert(e,t.slice(0,h),Vr.MATCH_ALL,c,s,i,null,o);this.caseSensitive===!1&&(t=t.toLowerCase()),this._insert(e,t,Vr.STATIC,c,s,i,null,o)};Xe.prototype._insert=function(e,t,n,s,i,a,o,c){let f=t;var u="",h=0,d=0,l=0,v=0,m=null,p=this.trees[e];for(typeof p=="undefined"&&(p=new Co({method:e,constrainer:this.constrainer}),this.trees[e]=p);;){for(u=p.prefix,d=u.length,h=t.length,l=0,v=h<d?h:d;l<v&&t[l]===u[l];)l++;if(l<d)m=p.split(l),l===h?(Ue(!p.getHandler(c),`Method '${e}' already declared for route '${f}' with constraints '${JSON.stringify(c)}'`),p.addHandler(i,s,a,c),p.kind=n):(m=new Co({method:e,prefix:t.slice(l),kind:n,handlers:null,regex:o,constrainer:this.constrainer}),m.addHandler(i,s,a,c),p.addChild(m));else if(l<h){if(t=t.slice(l),m=p.findByLabel(t),m){p=m;continue}m=new Co({method:e,prefix:t,kind:n,handlers:null,regex:o,constrainer:this.constrainer}),m.addHandler(i,s,a,c),p.addChild(m)}else i&&(Ue(!p.getHandler(c),`Method '${e}' already declared for route '${f}' with constraints '${JSON.stringify(c)}'`),p.addHandler(i,s,a,c));return}};Xe.prototype.reset=function(){this.trees={},this.routes=[]};Xe.prototype.off=function(e,t){var n=this;if(Array.isArray(e))return e.map(function(o){return n.off(o,t)});Ue(typeof e=="string","Method should be a string"),Ue(Ef.indexOf(e)!==-1,`Method '${e}' is not an http method.`),Ue(typeof t=="string","Path should be a string"),Ue(t.length>0,"The path could not be empty"),Ue(t[0]==="/"||t[0]==="*","The first character of a path should be `/` or `*`");let s=t.match(ws);if(s){Ue(t.length===s.index+s[0].length,"Optional Parameter needs to be the last parameter of the path");let o=t.replace(ws,"$1$2"),c=t.replace(ws,"$2");this.off(e,o),this.off(e,c);return}let i=this.ignoreTrailingSlash;var a=n.routes.filter(function(o){if(!i)return!(e===o.method&&t===o.path);if(t.endsWith("/")){let f=t===o.path||t.slice(0,-1)===o.path;return!(e===o.method&&f)}let c=t===o.path||t+"/"===o.path;return!(e===o.method&&c)});i&&(a=a.filter(function(o,c,f){return o.path.endsWith("/")&&c<f.length-1?o.path.slice(0,-1)!==f[c+1].path:o.path.endsWith("/")===!1&&c<f.length-1?o.path+"/"!==f[c+1].path:!0})),n.reset(),a.forEach(function(o){n.on(o.method,o.path,o.opts,o.handler,o.store)})};Xe.prototype.lookup=function(e,t,n){var s=this.find(e.method,jD(e.url),this.constrainer.deriveConstraints(e,n));return s===null?this._defaultRoute(e,t,n):n===void 0?s.handler(e,t,s.params,s.store):s.handler.call(n,e,t,s.params,s.store)};Xe.prototype.find=function(e,t,n){var s=this.trees[e];if(s===void 0)return null;t.charCodeAt(0)!==47&&(t=t.replace(Yw,"/"));var i=t,a=t.length;this.caseSensitive===!1&&(t=t.toLowerCase());for(var o=this.maxParamLength,c=null,f=0,u=null,h=0,d=null,l=0,v=0;;){var m=t.length,p=s.prefix;if(m===0||t===p){var g=n!==void 0?s.getMatchingHandler(n):s.unconstrainedHandler;if(g!=null){var w={};if(g.paramsLength>0){var R=g.params;for(l=0;l<g.paramsLength;l++)w[R[l]]=d[l]}return{handler:g.handler,params:w,store:g.store}}}var _=p.length,y=0,O=t;for(l=m<_?m:_;y<l&&t.charCodeAt(y)===p.charCodeAt(y);)y++;y===_&&(t=t.slice(y),m=t.length,v+=y);var $=s.findMatchingChild(n,t);if($===null){if($=s.parametricBrother,$===null)return this._getWildcardNode(c,i,f,n,d);var D=O.charCodeAt(0)===47?O:"/"+O;if(i.indexOf(D)===-1){var C=i.slice(0,a-m);O=C.slice(C.lastIndexOf("/")+1,C.length)+t}v=v-(O.length-t.length),t=O,m=O.length,y=_}var N=$.kind;if(N===Vr.STATIC){s.wildcardChild!==null&&(c=s.wildcardChild,f=m),s=$;continue}if(y!==_)return this._getWildcardNode(c,i,f,n,d);if(s.wildcardChild!==null&&(c=s.wildcardChild,f=m),N===Vr.PARAM){if(s=$,l=t.indexOf("/"),l===-1&&(l=m),l>o)return null;if(u=Ei(i.slice(v,v+l)),u===null)return this.onBadUrl!==null?this._onBadUrl(i.slice(v,v+l)):null;d||(d=[]),d[h++]=u,t=t.slice(l),v+=l;continue}if(N===Vr.MATCH_ALL){if(u=Ei(i.slice(v)),u===null)return this.onBadUrl!==null?this._onBadUrl(i.slice(v)):null;d||(d=[]),d[h]=u,s=$,t="";continue}if(N===Vr.REGEX){if(s=$,l=t.indexOf("/"),l===-1&&(l=m),l>o)return null;if(u=Ei(i.slice(v,v+l)),u===null)return this.onBadUrl!==null?this._onBadUrl(i.slice(v,v+l)):null;if(!$.regex.test(u))return null;d||(d=[]),d[h++]=u,t=t.slice(l),v+=l;continue}if(N===Vr.MULTI_PARAM){if(s=$,l=0,$.regex!==null){var x=t.match($.regex);if(x===null)return null;l=x[1].length}else{for(;l<m&&t.charCodeAt(l)!==47&&t.charCodeAt(l)!==45&&t.charCodeAt(l)!==46;)l++;if(l>o)return null}if(u=Ei(i.slice(v,v+l)),u===null)return this.onBadUrl!==null?this._onBadUrl(i.slice(v,v+l)):null;d||(d=[]),d[h++]=u,t=t.slice(l),v+=l;continue}c=null}};Xe.prototype._getWildcardNode=function(r,e,t,n,s){if(r===null)return null;var i=Ei(e.slice(-t));if(i===null)return this.onBadUrl!==null?this._onBadUrl(e.slice(-t)):null;var a=n!==void 0?r.getMatchingHandler(n):r.unconstrainedHandler;if(a!=null){var o={};if(a.paramsLength>0&&s!==null){var c=a.params;for(jt=0;jt<a.paramsLength;jt++)o[c[jt]]=s[jt]}return o["*"]=i,{handler:a.handler,params:o,store:a.store}}return null};Xe.prototype._defaultRoute=function(r,e,t){if(this.defaultRoute!==null)return t===void 0?this.defaultRoute(r,e):this.defaultRoute.call(t,r,e);e.statusCode=404,e.end()};Xe.prototype._onBadUrl=function(r){let e=this.onBadUrl;return{handler:(t,n,s)=>e(r,t,n),params:{},store:null}};Xe.prototype.prettyPrint=function(r={}){if(r.commonPrefix=r.commonPrefix===void 0?!0:r.commonPrefix,!r.commonPrefix)return ND.call(this,this.routes,r);let e={prefix:"/",nodes:[],children:{}};for(let t of Object.values(this.trees))t&&CD(e,t);return qD(e),AD.call(this,e,"",!0,r)};for(jt in Io.METHODS){if(!Io.METHODS.hasOwnProperty(jt))continue;let r=Io.METHODS[jt],e=r.toLowerCase();if(Xe.prototype[e])throw new Error("Method already exists: "+e);Xe.prototype[e]=function(t,n,s){return this.on(r,t,n,s)}}var jt;Xe.prototype.all=function(r,e,t){this.on(Ef,r,e,t)};Xw.exports=Xe;function jD(r){for(var e=0,t=r.length;e<t;e++){var n=r.charCodeAt(e);if(n===63||n===59||n===35)return r.slice(0,e)}return r}function kD(r,e){for(var t=1;e<r.length;){if(e++,r[e]==="\\"){e++;continue}if(r[e]===")"?t--:r[e]==="("&&t++,!t)return e}throw new TypeError('Invalid regexp expression in "'+r+'"')}function DD(r){return r?r.store?Object.assign({},r.store):{}:{}}});var _f=b((y6,Zw)=>{"use strict";var{kFourOhFourContext:FD,kReplySerializerDefault:LD}=nr();function MD(r,e,t,n,s,i,a,o,c,f,u,h,d){this.schema=r,this.handler=e,this.Reply=t,this.Request=n,this.contentTypeParser=s,this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.config=i,this.errorHandler=a,this._middie=null,this._parserOptions={limit:o||null},this.logLevel=c,this.logSerializers=f,this[FD]=null,this.attachValidation=u,this[LD]=h,this.schemaErrorFormatter=d||HD}function HD(r,e){let t="",n=", ";for(var s=0;s!==r.length;++s){let i=r[s];t+=e+(i.dataPath||"")+" "+i.message+n}return new Error(t.slice(0,-n.length))}Zw.exports=MD});var r_=b((b6,e_)=>{"use strict";function Sf(r,e,t,n){if(t===void 0)return e.header("content-length","0"),n(null,null);if(typeof t.resume=="function")return t.on("error",i=>{e.log.error({err:i},"Error on Stream found for HEAD route")}),t.resume(),n(null,null);let s=""+Buffer.byteLength(t);e.header("content-length",s),n(null,null)}function UD(r){return r==null?Sf:Array.isArray(r)?[...r,Sf]:[r,Sf]}e_.exports={parseHeadOnSendHandlers:UD}});var d_=b((E6,h_)=>{"use strict";var VD=wf(),zD=_f(),t_=Hu(),{hookRunner:s_,hookIterator:n_,lifecycleHooks:BD}=os(),i_=["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS"],{normalizeSchema:GD}=nf(),{parseHeadOnSendHandlers:KD}=r_(),Pf=ds(),{compileSchemasForValidation:JD,compileSchemasForSerialization:WD}=ku(),{FST_ERR_SCH_VALIDATION_BUILD:QD,FST_ERR_SCH_SERIALIZATION_BUILD:YD,FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:XD}=$r(),{kRoutePrefix:ZD,kLogLevel:eF,kLogSerializers:a_,kHooks:o_,kHooksDeprecatedPreParsing:l_,kSchemaController:rF,kOptions:u_,kContentTypeParser:tF,kReply:sF,kReplySerializerDefault:nF,kReplyIsError:iF,kRequest:aF,kRequestPayloadStream:qo,kDisableRequestLogging:oF,kSchemaErrorFormatter:lF,kErrorHandler:uF}=nr();function cF(r){let e=VD(r.config),t,n,s,i,a,o,c,f,u,h,d,l,v,m,p=!1;return{setup(_,y){t=y.avvio,n=y.fourOhFour,o=y.logger,c=y.hasLogger,f=y.setupResponseListeners,u=y.throwIfAlreadyStarted,m=_.exposeHeadRoutes,s=_.requestIdHeader,i=_.querystringParser,a=_.requestIdLogLabel,h=_.genReqId,d=_.disableRequestLogging,l=_.ignoreTrailingSlash,v=Object.prototype.hasOwnProperty.call(_,"return503OnClosing")?_.return503OnClosing:!0},routing:e.lookup.bind(e),route:w,prepareRoute:g,getDefaultRoute:function(){return e.defaultRoute},setDefaultRoute:function(_){if(typeof _!="function")throw new XD;e.defaultRoute=_},routeHandler:R,closeRoutes:()=>{p=!0},printRoutes:e.prettyPrint.bind(e)};function g(_,y,O,$){if(!$&&typeof O=="function")$=O,O={};else if($&&typeof $=="function"){if(Object.prototype.toString.call(O)!=="[object Object]")throw new Error(`Options for ${_}:${y} route must be an object`);if(O.handler)throw typeof O.handler=="function"?new Error(`Duplicate handler for ${_}:${y} route is not allowed!`):new Error(`Handler for ${_}:${y} route must be a function`)}return O=Object.assign({},O,{method:_,url:y,path:y,handler:$||O&&O.handler}),w.call(this,O)}function w(_){let y={..._};if(u("Cannot add route when fastify instance is already started!"),Array.isArray(y.method))for(var O=0;O<y.method.length;++O){let N=y.method[O];if(i_.indexOf(N)===-1)throw new Error(`${N} method is not supported!`)}else if(i_.indexOf(y.method)===-1)throw new Error(`${y.method} method is not supported!`);let $=y.url||y.path;if(!y.handler)throw new Error(`Missing handler function for ${y.method}:${$} route.`);if(y.errorHandler!==void 0&&typeof y.errorHandler!="function")throw new Error(`Error Handler for ${y.method}:${$} route, if defined, must be a function`);c_(y.bodyLimit);let D=this[ZD];return this.after((N,x)=>{if($==="/"&&D.length&&y.method!=="HEAD")switch(y.prefixTrailingSlash){case"slash":C.call(this,{path:$},N,x);break;case"no-slash":C.call(this,{path:""},N,x);break;case"both":default:C.call(this,{path:""},N,x),l!==!0&&C.call(this,{path:$,prefixing:!0},N,x)}else $&&$[0]==="/"&&D.endsWith("/")?C.call(this,{path:$.slice(1)},N,x):C.call(this,{path:$},N,x)}),this;function C({path:N,prefixing:x=!1},k,j){let q=D+N;if(y.url=q,y.path=q,y.routePath=N,y.prefix=D,y.logLevel=y.logLevel||this[eF],(this[a_]||y.logSerializers)&&(y.logSerializers=Object.assign(Object.create(this[a_]),y.logSerializers)),y.attachValidation==null&&(y.attachValidation=!1),x===!1)for(let J of this[o_].onRoute)try{J.call(this,y)}catch(ee){j(ee);return}let L={...y.config,url:q,method:y.method},Y=y.constraints||{};y.version&&(Pf.emit("FSTDEP008"),Y.version=y.version);let Q=new zD(y.schema,y.handler.bind(this),this[sF],this[aF],this[tF],L,y.errorHandler||this[uF],y.bodyLimit,y.logLevel,y.logSerializers,y.attachValidation,this[nF],y.schemaErrorFormatter||this[lF]),H=e.find("HEAD",q,Y)!=null;try{e.on(y.method,y.url,{constraints:Y},R,Q)}catch(J){j(J);return}let{exposeHeadRoute:X}=y;if((X!=null?X:m)&&_.method==="GET"&&!H){let J=KD(y.onSend);g.call(this,"HEAD",N,{...y,onSend:J})}else H&&X&&Pf.emit("FSTDEP007");t.once("preReady",()=>{for(let J of BD){let ee=this[o_][J].concat(y[J]||[]).map(A=>{let F=A.bind(this);return J==="preParsing"&&A.length===(A.constructor.name==="AsyncFunction"?2:3)&&(Pf.emit("FSTDEP004"),F[l_]=!0),F});Q[J]=ee.length?ee:null}if(n.setContext(this,Q),y.schema){Q.schema=GD(Q.schema,this.initialConfig);let J=this[rF];!y.validatorCompiler&&(y.schema.body||y.schema.headers||y.schema.querystring||y.schema.params)&&J.setupValidator(this[u_]);try{JD(Q,y.validatorCompiler||J.validatorCompiler)}catch(ee){throw new QD(y.method,q,ee.message)}y.schema.response&&!y.serializerCompiler&&J.setupSerializer(this[u_]);try{WD(Q,y.serializerCompiler||J.serializerCompiler)}catch(ee){throw new YD(y.method,q,ee.message)}}}),j(k)}}function R(_,y,O,$){if(p===!0&&(_.httpVersionMajor!==2&&(y.once("finish",()=>_.destroy()),y.setHeader("Connection","close")),v)){let Y={"Content-Type":"application/json","Content-Length":"80"};y.writeHead(503,Y),y.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}');return}let D=_.headers[s]||h(_),C={[a]:D},N={level:$.logLevel};$.logSerializers&&(N.serializers=$.logSerializers);let x=o.child(C,N);x[oF]=d;let k=_.url.indexOf("?"),j=i(k>-1?_.url.slice(k+1):""),q=new $.Request(D,O,_,j,x,$),L=new $.Reply(y,q,x);d===!1&&x.info({req:q},"incoming request"),(c===!0||$.onResponse!==null)&&f(L),$.onRequest!==null?s_($.onRequest,n_,q,L,f_):f_(null,q,L),$.onTimeout!==null&&(q.raw.socket._meta||q.raw.socket.on("timeout",fF),q.raw.socket._meta={context:$,request:q,reply:L})}}function fF(){let{context:r,request:e,reply:t}=this._meta;s_(r.onTimeout,n_,e,t,dF)}function c_(r){if(r!==void 0&&(!Number.isInteger(r)||r<=0))throw new TypeError(`'bodyLimit' option must be an integer > 0. Got '${r}'`)}function f_(r,e,t){if(t.sent!==!0){if(r!=null){t.send(r);return}e[qo]=e.raw,t.context.preParsing!==null?hF(t.context.preParsing,e,t,t_):t_(null,e,t)}}function hF(r,e,t,n){let s=0;function i(c,f){if(t.sent)return;if(typeof f!="undefined"&&(e[qo]=f),c||s===r.length){c&&!(c instanceof Error)&&(t[iF]=!0),n(c,e,t);return}let u=r[s++],h;try{u[l_]?h=u(e,t,i):h=u(e,t,e[qo],i)}catch(d){i(d);return}h&&typeof h.then=="function"&&h.then(a,o)}function a(c){i(null,c)}function o(c){i(c)}i(null,e[qo])}function dF(){}h_.exports={buildRouting:cF,validateBodyLimitOption:c_}});var m_=b((w6,p_)=>{"use strict";var pF=wf(),mF=no(),vF=So(),gF=_f(),{kRoutePrefix:yF,kCanSetNotFoundHandler:wi,kFourOhFourLevelInstance:Rf,kReply:bF,kRequest:EF,kContentTypeParser:wF,kBodyLimit:_F,kLogLevel:SF,kFourOhFourContext:kt,kHooks:PF,kErrorHandler:RF}=nr(),{lifecycleHooks:$F}=os(),OF={config:{},onSend:[],onError:[]};function TF(r){let{logger:e,genReqId:t}=r,n=pF({defaultRoute:f});return{router:n,setNotFoundHandler:o,setContext:a,arrange404:s};function s(u){u[Rf]=u,u[wi]=!0}function i(u,h){let{url:d,method:l}=u.raw,v=`Route ${l}:${d} not found`;u.log.info(v),h.code(404).send({message:v,error:"Not Found",statusCode:404})}function a(u,h){let d=Object.assign({},u[kt]);d.onSend=h.onSend,h[kt]=d}function o(u,h,d,l){this[wi]===void 0&&(this[wi]=!0),this[kt]===void 0&&(this[kt]=null);let v=this,m=this[yF]||"/";if(this[wi]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${m}'`);typeof u=="object"&&(u.preHandler&&(Array.isArray(u.preHandler)?u.preHandler=u.preHandler.map(p=>p.bind(v)):u.preHandler=u.preHandler.bind(v)),u.preValidation&&(Array.isArray(u.preValidation)?u.preValidation=u.preValidation.map(p=>p.bind(v)):u.preValidation=u.preValidation.bind(v))),typeof u=="function"&&(h=u,u=void 0),u=u||{},h?(this[Rf][wi]=!1,h=h.bind(this)):h=i,this.after((p,g)=>{c.call(this,m,u,h,d,l),g(p)})}function c(u,h,d,l,v){let m=new gF(h.schema,d,this[bF],this[EF],this[wF],h.config||{},this[RF],this[_F],this[SF]);if(l.once("preReady",()=>{let p=this[kt];for(let g of $F){let w=this[PF][g].concat(h[g]||[]).map(R=>R.bind(this));p[g]=w.length?w:null}}),this[kt]!==null&&u==="/"){Object.assign(this[kt],m);return}this[Rf][kt]=m,n.all(u+(u.endsWith("/")?"*":"/*"),v,m),n.all(u,v,m)}function f(u,h){let d=t(u),l=e.child({reqId:d});l.info({req:u},"incoming request");let v=new vF(d,null,u,null,l,OF),m=new mF(h,v,l);v.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),v.log.warn(n.prettyPrint()),m.code(404).send(new Error("Not Found"))}}p_.exports=TF});var g_=b((_6,Of)=>{var IF={},$f=function(){var r=[];return function e(t,n,s,i,a){"use strict";var o=null,c=0;if(a===void 0&&(a=t),t&&typeof t=="object"&&!Array.isArray(t)){t.connectionTimeout===void 0&&(t.connectionTimeout=0),t.keepAliveTimeout===void 0&&(t.keepAliveTimeout=5e3),t.maxRequestsPerSocket===void 0&&(t.maxRequestsPerSocket=0),t.requestTimeout===void 0&&(t.requestTimeout=0),t.bodyLimit===void 0&&(t.bodyLimit=1048576),t.caseSensitive===void 0&&(t.caseSensitive=!0),t.ignoreTrailingSlash===void 0&&(t.ignoreTrailingSlash=!1),t.disableRequestLogging===void 0&&(t.disableRequestLogging=!1),t.jsonShorthand===void 0&&(t.jsonShorthand=!0),t.maxParamLength===void 0&&(t.maxParamLength=100),t.onProtoPoisoning===void 0&&(t.onProtoPoisoning="error"),t.onConstructorPoisoning===void 0&&(t.onConstructorPoisoning="error"),t.pluginTimeout===void 0&&(t.pluginTimeout=1e4),t.requestIdHeader===void 0&&(t.requestIdHeader="request-id"),t.requestIdLogLabel===void 0&&(t.requestIdLogLabel="reqId"),t.http2SessionTimeout===void 0&&(t.http2SessionTimeout=5e3);var f=c,u=!0;for(var h in t){var d=!e.schema.properties.hasOwnProperty(h);d&&delete t[h]}if(u){var l=t.connectionTimeout,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.connectionTimeout=p)}var u=c===v;if(u){var l=t.keepAliveTimeout,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.keepAliveTimeout=p)}var u=c===v;if(u){var l=t.maxRequestsPerSocket,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.maxRequestsPerSocket=p)}var u=c===v;if(u){var l=t.requestTimeout,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".requestTimeout",schemaPath:"#/properties/requestTimeout/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.requestTimeout=p)}var u=c===v;if(u){var l=t.bodyLimit,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".bodyLimit",schemaPath:"#/properties/bodyLimit/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.bodyLimit=p)}var u=c===v;if(u){var l=t.caseSensitive,v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".caseSensitive",schemaPath:"#/properties/caseSensitive/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.caseSensitive=p)}var u=c===v;if(u){var l=t.http2;if(l===void 0)u=!0;else{var v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".http2",schemaPath:"#/properties/http2/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.http2=p)}var u=c===v}if(u){var l=t.https;if(l===void 0)u=!0;else{var v=c,g=c,u=!0,w=c,R=c,_=c,y=c,O=!1,$=!1,D=null,C=c;if(typeof l!="boolean"){var N=typeof l,x=void 0;if(x===void 0)if(l==="false"||l===0||l===null)x=!1;else if(l==="true"||l===1)x=!0;else{var k={};o===null?o=[k]:o.push(k),c++}x!==void 0&&(l=x,t.https=x)}var j=c===C;j&&($=O=!0,D=0);var C=c;if(l!==null){var N=typeof l,x=void 0;if(x===void 0)if(l===""||l===0||l===!1)x=null;else{var k={};o===null?o=[k]:o.push(k),c++}x!==void 0&&(l=x,t.https=x)}var j=c===C;if(j&&O)$=!1,D=[D,1];else{j&&($=O=!0,D=1);var C=c;if(l&&typeof l=="object"&&!Array.isArray(l)){var q=c,L=!0;for(var Y in l){var Q=Y!="allowHTTP1";Q&&delete l[Y]}if(L){var H=l.allowHTTP1;if(H===void 0){L=!1;var k={};o===null?o=[k]:o.push(k),c++}else{var X=c;if(typeof H!="boolean"){var U=typeof H,B=void 0;if(B===void 0)if(H==="false"||H===0||H===null)B=!1;else if(H==="true"||H===1)B=!0;else{var k={};o===null?o=[k]:o.push(k),c++}B!==void 0&&(H=B,l.allowHTTP1=B)}var L=c===X}}q==c}else{var k={};o===null?o=[k]:o.push(k),c++}var j=c===C;j&&O?($=!1,D=[D,2]):j&&($=O=!0,D=2)}if($)c=y,o!==null&&(y?o.length=y:o=null);else{var k={};o===null?o=[k]:o.push(k),c++}var $=c===_;if($){var k={};o===null?o=[k]:o.push(k),c++}else c=R,o!==null&&(R?o.length=R:o=null);var J=c===w;if(c=g,o!==null&&(g?o.length=g:o=null),J){var w=c;v_.errors=null;var R=c,J;if(J=v_.call(IF,e.schema.properties.https.then.setDefaultValue,l,e.schema.properties.https.then,(n||"")+".https",t,"https",a),t&&(l=t.https),!J)return e.errors=[{keyword:"setDefaultValue",dataPath:(n||"")+".https",schemaPath:"#/properties/https/then/setDefaultValue",params:{keyword:"setDefaultValue"},message:'should pass "setDefaultValue" keyword validation'}],!1;var J=c===w;u=J}if(!u){var k={keyword:"if",dataPath:(n||"")+".https",schemaPath:"#/properties/https/if",params:{failingKeyword:"then"},message:'should match "then" schema'};return o===null?o=[k]:o.push(k),c++,e.errors=o,!1}var u=c===v}if(u){var l=t.ignoreTrailingSlash,v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.ignoreTrailingSlash=p)}var u=c===v;if(u){var l=t.disableRequestLogging,v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".disableRequestLogging",schemaPath:"#/properties/disableRequestLogging/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.disableRequestLogging=p)}var u=c===v;if(u){var l=t.jsonShorthand,v=c;if(typeof l!="boolean"){var m=typeof l,p=void 0;if(p===void 0)if(l==="false"||l===0||l===null)p=!1;else if(l==="true"||l===1)p=!0;else return e.errors=[{keyword:"type",dataPath:(n||"")+".jsonShorthand",schemaPath:"#/properties/jsonShorthand/type",params:{type:"boolean"},message:"should be boolean"}],!1;p!==void 0&&(l=p,t.jsonShorthand=p)}var u=c===v;if(u){var l=t.maxParamLength,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".maxParamLength",schemaPath:"#/properties/maxParamLength/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.maxParamLength=p)}var u=c===v;if(u){var l=t.onProtoPoisoning,v=c;if(typeof l!="string"){var m=typeof l,p=void 0;if(p===void 0)if(m=="number"||m=="boolean")p=""+l;else if(l===null)p="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",params:{type:"string"},message:"should be string"}],!1;p!==void 0&&(l=p,t.onProtoPoisoning=p)}var u=c===v;if(u){var l=t.onConstructorPoisoning,v=c;if(typeof l!="string"){var m=typeof l,p=void 0;if(p===void 0)if(m=="number"||m=="boolean")p=""+l;else if(l===null)p="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",params:{type:"string"},message:"should be string"}],!1;p!==void 0&&(l=p,t.onConstructorPoisoning=p)}var u=c===v;if(u){var l=t.pluginTimeout,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.pluginTimeout=p)}var u=c===v;if(u){var l=t.requestIdHeader,v=c;if(typeof l!="string"){var m=typeof l,p=void 0;if(p===void 0)if(m=="number"||m=="boolean")p=""+l;else if(l===null)p="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".requestIdHeader",schemaPath:"#/properties/requestIdHeader/type",params:{type:"string"},message:"should be string"}],!1;p!==void 0&&(l=p,t.requestIdHeader=p)}var u=c===v;if(u){var l=t.requestIdLogLabel,v=c;if(typeof l!="string"){var m=typeof l,p=void 0;if(p===void 0)if(m=="number"||m=="boolean")p=""+l;else if(l===null)p="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",params:{type:"string"},message:"should be string"}],!1;p!==void 0&&(l=p,t.requestIdLogLabel=p)}var u=c===v;if(u){var l=t.http2SessionTimeout,v=c;if(typeof l!="number"||l%1||l!==l){var m=typeof l,p=void 0;if(p===void 0)if(m=="boolean"||l===null||m=="string"&&l&&l==+l&&!(l%1))p=+l;else return e.errors=[{keyword:"type",dataPath:(n||"")+".http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",params:{type:"integer"},message:"should be integer"}],!1;p!==void 0&&(l=p,t.http2SessionTimeout=p)}var u=c===v;if(u){var l=t.versioning;if(l===void 0)u=!0;else{var v=c;if(l&&typeof l=="object"&&!Array.isArray(l)){var ee;if(l.storage===void 0&&(ee=".storage")||l.deriveVersion===void 0&&(ee=".deriveVersion"))return e.errors=[{keyword:"required",dataPath:(n||"")+".versioning",schemaPath:"#/properties/versioning/required",params:{missingProperty:""+ee+""},message:"should have required property '"+ee+"'"}],!1;var g=c,J=!0;for(var A in l)var F=!(A=="storage"||A=="deriveVersion");g==c}else return e.errors=[{keyword:"type",dataPath:(n||"")+".versioning",schemaPath:"#/properties/versioning/type",params:{type:"object"},message:"should be object"}],!1;var u=c===v}if(u){var l=t.constraints;if(l===void 0)u=!0;else{var v=c;if(l&&typeof l=="object"&&!Array.isArray(l)){var g=c,J=!0;for(var A in l){var H=l[A],w=c;if(H&&typeof H=="object"&&!Array.isArray(H)){var V;if(H.storage===void 0&&(V=".storage")||H.validate===void 0&&(V=".validate")||H.deriveConstraint===void 0&&(V=".deriveConstraint"))return e.errors=[{keyword:"required",dataPath:(n||"")+".constraints['"+A+"']",schemaPath:"#/properties/constraints/additionalProperties/required",params:{missingProperty:""+V+""},message:"should have required property '"+V+"'"}],!1;var R=c,$=!0;for(var Z in H)var ue=!(Z=="name"||Z=="storage"||Z=="validate"||Z=="deriveConstraint");if($){var pe=H.name;if(pe===void 0)return $=!1,e.errors=[{keyword:"required",dataPath:(n||"")+".constraints['"+A+"']",schemaPath:"#/properties/constraints/additionalProperties/required",params:{missingProperty:"name"},message:"should have required property 'name'"}],!1;var _=c;if(typeof pe!="string"){var we=typeof pe,be=void 0;if(be===void 0)if(we=="number"||we=="boolean")be=""+pe;else if(pe===null)be="";else return e.errors=[{keyword:"type",dataPath:(n||"")+".constraints['"+A+"'].name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",params:{type:"string"},message:"should be string"}],!1;be!==void 0&&(pe=be,H.name=be)}var $=c===_}R==c}else return e.errors=[{keyword:"type",dataPath:(n||"")+".constraints['"+A+"']",schemaPath:"#/properties/constraints/additionalProperties/type",params:{type:"object"},message:"should be object"}],!1;var J=c===w;if(!J)break}g==c}else return e.errors=[{keyword:"type",dataPath:(n||"")+".constraints",schemaPath:"#/properties/constraints/type",params:{type:"object"},message:"should be object"}],!1;var u=c===v}}}}}}}}}}}}}}}}}}}}}f==c}else return e.errors=[{keyword:"type",dataPath:(n||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}],!1;return e.errors=o,c===0}}();$f.schema={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:5e3},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},requestTimeout:{type:"integer",default:0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},disableRequestLogging:{type:"boolean",default:!1},jsonShorthand:{type:"boolean",default:!0},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{type:"string",default:"request-id"},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:5e3},versioning:{type:"object",additionalProperties:!0,required:["storage","deriveVersion"],properties:{storage:{},deriveVersion:{}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}};$f.errors=null;Of.exports=$f;function v_(r,e,t,n,s,i){return s[i]=r,!0}Of.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:5e3,maxRequestsPerSocket:0,requestTimeout:0,bodyLimit:1048576,caseSensitive:!0,disableRequestLogging:!1,jsonShorthand:!0,ignoreTrailingSlash:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:"request-id",requestIdLogLabel:"reqId",http2SessionTimeout:5e3}});var y_=b((S6,No)=>{"use strict";var Ao=g_(),CF=Ca()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID:qF}=$r();function AF(r){let e=CF(r);if(!Ao(e)){let t=new qF(JSON.stringify(Ao.errors.map(n=>n.message)));throw t.errors=Ao.errors,t}return Tf(e)}function Tf(r){let e=Object.getOwnPropertyNames(r);for(let t of e){let n=r[t];ArrayBuffer.isView(n)&&!(n instanceof DataView)||(r[t]=n&&typeof n=="object"?Tf(n):n)}return Object.freeze(r)}No.exports=AF;No.exports.defaultInitOptions=Ao.defaultInitOptions;No.exports.utils={deepFreezeObject:Tf}});var R_=b((P6,P_)=>{"use strict";var{kAvvioBoot:NF,kChildren:b_,kRoutePrefix:E_,kLogLevel:w_,kLogSerializers:If,kHooks:Cf,kSchemaController:hn,kContentTypeParser:__,kReply:qf,kRequest:Af,kFourOhFour:xF,kPluginNameChain:S_}=nr(),jF=no(),kF=So(),DF=af(),FF=tf(),{buildHooks:LF}=os(),dn=ff();P_.exports=function(e,t,n){if(dn.registerPlugin.call(e,t))return e[S_].push(dn.getDisplayName(t)),e;let i=Object.create(e);e[b_].push(i),i.ready=e[NF].bind(i),i[b_]=[],i[qf]=jF.buildReply(i[qf]),i[qf].prototype.server=i,i[Af]=kF.buildRequest(i[Af]),i[Af].prototype.server=i,i[__]=FF.helpers.buildContentTypeParser(i[__]),i[Cf]=LF(i[Cf]),i[E_]=MF(i[E_],n.prefix),i[w_]=n.logLevel||i[w_],i[hn]=DF.buildSchemaController(e[hn]),i.getSchema=i[hn].getSchema.bind(i[hn]),i.getSchemas=i[hn].getSchemas.bind(i[hn]),i[dn.registeredPlugins]=Object.create(i[dn.registeredPlugins]),i[S_]=[dn.getPluginName(t)||dn.getFuncPreview(t)],(i[If]||n.logSerializers)&&(i[If]=Object.assign(Object.create(i[If]),n.logSerializers)),n.prefix&&i[xF].arrange404(i);for(let a of i[Cf].onRegister)a.call(this,i,n);return i};function MF(r,e){return e?(r.endsWith("/")&&e[0]==="/"?e=e.slice(1):e[0]!=="/"&&(e="/"+e),r+e):r}});var Si=b(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.regexpCode=Pe.getProperty=Pe.safeStringify=Pe.stringify=Pe.strConcat=Pe.addCodeArg=Pe.str=Pe._=Pe.nil=Pe._Code=Pe.Name=Pe.IDENTIFIER=Pe._CodeOrName=void 0;var xo=class{};Pe._CodeOrName=xo;Pe.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var pn=class extends xo{constructor(e){super();if(!Pe.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Pe.Name=pn;var ft=class extends xo{constructor(e){super();this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((t,n)=>`${t}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((t,n)=>(n instanceof pn&&(t[n.str]=(t[n.str]||0)+1),t),{})}};Pe._Code=ft;Pe.nil=new ft("");function $_(r,...e){let t=[r[0]],n=0;for(;n<e.length;)xf(t,e[n]),t.push(r[++n]);return new ft(t)}Pe._=$_;var Nf=new ft("+");function O_(r,...e){let t=[_i(r[0])],n=0;for(;n<e.length;)t.push(Nf),xf(t,e[n]),t.push(Nf,_i(r[++n]));return HF(t),new ft(t)}Pe.str=O_;function xf(r,e){e instanceof ft?r.push(...e._items):e instanceof pn?r.push(e):r.push(zF(e))}Pe.addCodeArg=xf;function HF(r){let e=1;for(;e<r.length-1;){if(r[e]===Nf){let t=UF(r[e-1],r[e+1]);if(t!==void 0){r.splice(e-1,3,t);continue}r[e++]="+"}e++}}function UF(r,e){if(e==='""')return r;if(r==='""')return e;if(typeof r=="string")return e instanceof pn||r[r.length-1]!=='"'?void 0:typeof e!="string"?`${r.slice(0,-1)}${e}"`:e[0]==='"'?r.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(r instanceof pn))return`"${r}${e.slice(1)}`}function VF(r,e){return e.emptyStr()?r:r.emptyStr()?e:O_`${r}${e}`}Pe.strConcat=VF;function zF(r){return typeof r=="number"||typeof r=="boolean"||r===null?r:_i(Array.isArray(r)?r.join(","):r)}function BF(r){return new ft(_i(r))}Pe.stringify=BF;function _i(r){return JSON.stringify(r).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Pe.safeStringify=_i;function GF(r){return typeof r=="string"&&Pe.IDENTIFIER.test(r)?new ft(`.${r}`):$_`[${r}]`}Pe.getProperty=GF;function KF(r){return new ft(r.toString())}Pe.regexpCode=KF});var Ff=b(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.ValueScope=hr.ValueScopeName=hr.Scope=hr.varKinds=hr.UsedValueState=void 0;var br=Si(),T_=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`);this.value=e.value}},jf;(function(r){r[r.Started=0]="Started",r[r.Completed=1]="Completed"})(jf=hr.UsedValueState||(hr.UsedValueState={}));hr.varKinds={const:new br.Name("const"),let:new br.Name("let"),var:new br.Name("var")};var kf=class{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof br.Name?e:this.name(e)}name(e){return new br.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,n;if(((n=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||n===void 0?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};hr.Scope=kf;var Df=class extends br.Name{constructor(e,t){super(t);this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=(0,br._)`.${new br.Name(t)}[${n}]`}};hr.ValueScopeName=Df;var JF=(0,br._)`\n`,I_=class extends kf{constructor(e){super(e);this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?JF:br.nil}}get(){return this._scope}name(e){return new Df(e,this._newName(e))}value(e,t){var n;if(t.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:i}=s,a=(n=t.key)!==null&&n!==void 0?n:t.ref,o=this._values[i];if(o){let u=o.get(a);if(u)return u}else o=this._values[i]=new Map;o.set(a,s);let c=this._scope[i]||(this._scope[i]=[]),f=c.length;return c[f]=t.ref,s.setValue(t,{property:i,itemIndex:f}),s}getValue(e,t){let n=this._values[e];if(!!n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,br._)`${e}${n.scopePath}`})}scopeCode(e=this._values,t,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},t,n)}_reduceValues(e,t,n={},s){let i=br.nil;for(let a in e){let o=e[a];if(!o)continue;let c=n[a]=n[a]||new Map;o.forEach(f=>{if(c.has(f))return;c.set(f,jf.Started);let u=t(f);if(u){let h=this.opts.es5?hr.varKinds.var:hr.varKinds.const;i=(0,br._)`${i}${h} ${f} = ${u};${this.opts._n}`}else if(u=s==null?void 0:s(f))i=(0,br._)`${i}${u}${this.opts._n}`;else throw new T_(f);c.set(f,jf.Completed)})}return i}};hr.ValueScope=I_});var oe=b(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.or=ie.and=ie.not=ie.CodeGen=ie.operators=ie.varKinds=ie.ValueScopeName=ie.ValueScope=ie.Scope=ie.Name=ie.regexpCode=ie.stringify=ie.getProperty=ie.nil=ie.strConcat=ie.str=ie._=void 0;var ce=Si(),Qr=Ff(),Dt=Si();Object.defineProperty(ie,"_",{enumerable:!0,get:function(){return Dt._}});Object.defineProperty(ie,"str",{enumerable:!0,get:function(){return Dt.str}});Object.defineProperty(ie,"strConcat",{enumerable:!0,get:function(){return Dt.strConcat}});Object.defineProperty(ie,"nil",{enumerable:!0,get:function(){return Dt.nil}});Object.defineProperty(ie,"getProperty",{enumerable:!0,get:function(){return Dt.getProperty}});Object.defineProperty(ie,"stringify",{enumerable:!0,get:function(){return Dt.stringify}});Object.defineProperty(ie,"regexpCode",{enumerable:!0,get:function(){return Dt.regexpCode}});Object.defineProperty(ie,"Name",{enumerable:!0,get:function(){return Dt.Name}});var jo=Ff();Object.defineProperty(ie,"Scope",{enumerable:!0,get:function(){return jo.Scope}});Object.defineProperty(ie,"ValueScope",{enumerable:!0,get:function(){return jo.ValueScope}});Object.defineProperty(ie,"ValueScopeName",{enumerable:!0,get:function(){return jo.ValueScopeName}});Object.defineProperty(ie,"varKinds",{enumerable:!0,get:function(){return jo.varKinds}});ie.operators={GT:new ce._Code(">"),GTE:new ce._Code(">="),LT:new ce._Code("<"),LTE:new ce._Code("<="),EQ:new ce._Code("==="),NEQ:new ce._Code("!=="),NOT:new ce._Code("!"),OR:new ce._Code("||"),AND:new ce._Code("&&"),ADD:new ce._Code("+")};var Ft=class{optimizeNodes(){return this}optimizeNames(e,t){return this}},C_=class extends Ft{constructor(e,t,n){super();this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){let n=e?Qr.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+t}optimizeNames(e,t){if(!!e[this.name.str])return this.rhs&&(this.rhs=vn(this.rhs,e,t)),this}get names(){return this.rhs instanceof ce._CodeOrName?this.rhs.names:{}}},Lf=class extends Ft{constructor(e,t,n){super();this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof ce.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=vn(this.rhs,e,t),this}get names(){let e=this.lhs instanceof ce.Name?{}:{...this.lhs.names};return Ho(e,this.rhs)}},q_=class extends Lf{constructor(e,t,n,s){super(e,n,s);this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},A_=class extends Ft{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},N_=class extends Ft{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},x_=class extends Ft{constructor(e){super();this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},j_=class extends Ft{constructor(e){super();this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=vn(this.code,e,t),this}get names(){return this.code instanceof ce._CodeOrName?this.code.names:{}}},ko=class extends Ft{constructor(e=[]){super();this.nodes=e}render(e){return this.nodes.reduce((t,n)=>t+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(e,t)||(WF(e,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>_s(e,t.names),{})}},Lt=class extends ko{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},k_=class extends ko{},Pi=class extends Lt{};Pi.kind="else";var ht=class extends Lt{constructor(e,t){super(t);this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let t=this.else;if(t){let n=t.optimizeNodes();t=this.else=Array.isArray(n)?new Pi(n):n}if(t)return e===!1?t instanceof ht?t:t.nodes:this.nodes.length?this:new ht(H_(e),t instanceof ht?[t]:t.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,t){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,t),!!(super.optimizeNames(e,t)||this.else))return this.condition=vn(this.condition,e,t),this}get names(){let e=super.names;return Ho(e,this.condition),this.else&&_s(e,this.else.names),e}};ht.kind="if";var mn=class extends Lt{};mn.kind="for";var D_=class extends mn{constructor(e){super();this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(!!super.optimizeNames(e,t))return this.iteration=vn(this.iteration,e,t),this}get names(){return _s(super.names,this.iteration.names)}},F_=class extends mn{constructor(e,t,n,s){super();this.varKind=e,this.name=t,this.from=n,this.to=s}render(e){let t=e.es5?Qr.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${t} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){let e=Ho(super.names,this.from);return Ho(e,this.to)}},Mf=class extends mn{constructor(e,t,n,s){super();this.loop=e,this.varKind=t,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(!!super.optimizeNames(e,t))return this.iterable=vn(this.iterable,e,t),this}get names(){return _s(super.names,this.iterable.names)}},Do=class extends Lt{constructor(e,t,n){super();this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Do.kind="func";var Fo=class extends ko{render(e){return"return "+super.render(e)}};Fo.kind="return";var L_=class extends Lt{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(t=this.finally)===null||t===void 0||t.optimizeNodes(),this}optimizeNames(e,t){var n,s;return super.optimizeNames(e,t),(n=this.catch)===null||n===void 0||n.optimizeNames(e,t),(s=this.finally)===null||s===void 0||s.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&_s(e,this.catch.names),this.finally&&_s(e,this.finally.names),e}},Lo=class extends Lt{constructor(e){super();this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Lo.kind="catch";var Mo=class extends Lt{render(e){return"finally"+super.render(e)}};Mo.kind="finally";var M_=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?`
`:""},this._extScope=e,this._scope=new Qr.Scope({parent:e}),this._nodes=[new k_]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,s){let i=this._scope.toName(t);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new C_(e,i,n)),i}const(e,t,n){return this._def(Qr.varKinds.const,e,t,n)}let(e,t,n){return this._def(Qr.varKinds.let,e,t,n)}var(e,t,n){return this._def(Qr.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new Lf(e,t,n))}add(e,t){return this._leafNode(new q_(e,ie.operators.ADD,t))}code(e){return typeof e=="function"?e():e!==ce.nil&&this._leafNode(new j_(e)),this}object(...e){let t=["{"];for(let[n,s]of e)t.length>1&&t.push(","),t.push(n),(n!==s||this.opts.es5)&&(t.push(":"),(0,ce.addCodeArg)(t,s));return t.push("}"),new ce._Code(t)}if(e,t,n){if(this._blockNode(new ht(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new ht(e))}else(){return this._elseNode(new Pi)}endIf(){return this._endBlockNode(ht,Pi)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new D_(e),t)}forRange(e,t,n,s,i=this.opts.es5?Qr.varKinds.var:Qr.varKinds.let){let a=this._scope.toName(e);return this._for(new F_(i,a,t,n),()=>s(a))}forOf(e,t,n,s=Qr.varKinds.const){let i=this._scope.toName(e);if(this.opts.es5){let a=t instanceof ce.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,ce._)`${a}.length`,o=>{this.var(i,(0,ce._)`${a}[${o}]`),n(i)})}return this._for(new Mf("of",s,i,t),()=>n(i))}forIn(e,t,n,s=this.opts.es5?Qr.varKinds.var:Qr.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,ce._)`Object.keys(${t})`,n);let i=this._scope.toName(e);return this._for(new Mf("in",s,i,t),()=>n(i))}endFor(){return this._endBlockNode(mn)}label(e){return this._leafNode(new A_(e))}break(e){return this._leafNode(new N_(e))}return(e){let t=new Fo;if(this._blockNode(t),this.code(e),t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Fo)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new L_;if(this._blockNode(s),this.code(e),t){let i=this.name("e");this._currNode=s.catch=new Lo(i),t(i)}return n&&(this._currNode=s.finally=new Mo,this.code(n)),this._endBlockNode(Lo,Mo)}throw(e){return this._leafNode(new x_(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(t===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-t;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=ce.nil,n,s){return this._blockNode(new Do(e,t,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Do)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof ht))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}};ie.CodeGen=M_;function _s(r,e){for(let t in e)r[t]=(r[t]||0)+(e[t]||0);return r}function Ho(r,e){return e instanceof ce._CodeOrName?_s(r,e.names):r}function vn(r,e,t){if(r instanceof ce.Name)return n(r);if(!s(r))return r;return new ce._Code(r._items.reduce((i,a)=>(a instanceof ce.Name&&(a=n(a)),a instanceof ce._Code?i.push(...a._items):i.push(a),i),[]));function n(i){let a=t[i.str];return a===void 0||e[i.str]!==1?i:(delete e[i.str],a)}function s(i){return i instanceof ce._Code&&i._items.some(a=>a instanceof ce.Name&&e[a.str]===1&&t[a.str]!==void 0)}}function WF(r,e){for(let t in e)r[t]=(r[t]||0)-(e[t]||0)}function H_(r){return typeof r=="boolean"||typeof r=="number"||r===null?!r:(0,ce._)`!${Hf(r)}`}ie.not=H_;var QF=U_(ie.operators.AND);function YF(...r){return r.reduce(QF)}ie.and=YF;var XF=U_(ie.operators.OR);function ZF(...r){return r.reduce(XF)}ie.or=ZF;function U_(r){return(e,t)=>e===ce.nil?t:t===ce.nil?e:(0,ce._)`${Hf(e)} ${r} ${Hf(t)}`}function Hf(r){return r instanceof ce.Name?r:(0,ce._)`(${r})`}});var ye=b(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.checkStrictMode=ae.getErrorPath=ae.Type=ae.useFunc=ae.setEvaluated=ae.evaluatedPropsToName=ae.mergeEvaluated=ae.eachItem=ae.unescapeJsonPointer=ae.escapeJsonPointer=ae.escapeFragment=ae.unescapeFragment=ae.schemaRefOrVal=ae.schemaHasRulesButRef=ae.schemaHasRules=ae.checkUnknownRules=ae.alwaysValidSchema=ae.toHash=void 0;var Te=oe(),eL=Si();function rL(r){let e={};for(let t of r)e[t]=!0;return e}ae.toHash=rL;function tL(r,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(V_(r,e),!z_(e,r.self.RULES.all))}ae.alwaysValidSchema=tL;function V_(r,e=r.schema){let{opts:t,self:n}=r;if(!t.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let i in e)s[i]||Q_(r,`unknown keyword: "${i}"`)}ae.checkUnknownRules=V_;function z_(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(e[t])return!0;return!1}ae.schemaHasRules=z_;function sL(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(t!=="$ref"&&e.all[t])return!0;return!1}ae.schemaHasRulesButRef=sL;function nL({topSchemaRef:r,schemaPath:e},t,n,s){if(!s){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,Te._)`${t}`}return(0,Te._)`${r}${e}${(0,Te.getProperty)(n)}`}ae.schemaRefOrVal=nL;function iL(r){return B_(decodeURIComponent(r))}ae.unescapeFragment=iL;function aL(r){return encodeURIComponent(Uf(r))}ae.escapeFragment=aL;function Uf(r){return typeof r=="number"?`${r}`:r.replace(/~/g,"~0").replace(/\//g,"~1")}ae.escapeJsonPointer=Uf;function B_(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}ae.unescapeJsonPointer=B_;function oL(r,e){if(Array.isArray(r))for(let t of r)e(t);else e(r)}ae.eachItem=oL;function G_({mergeNames:r,mergeToName:e,mergeValues:t,resultToName:n}){return(s,i,a,o)=>{let c=a===void 0?i:a instanceof Te.Name?(i instanceof Te.Name?r(s,i,a):e(s,i,a),a):i instanceof Te.Name?(e(s,a,i),i):t(i,a);return o===Te.Name&&!(c instanceof Te.Name)?n(s,c):c}}ae.mergeEvaluated={props:G_({mergeNames:(r,e,t)=>r.if((0,Te._)`${t} !== true && ${e} !== undefined`,()=>{r.if((0,Te._)`${e} === true`,()=>r.assign(t,!0),()=>r.assign(t,(0,Te._)`${t} || {}`).code((0,Te._)`Object.assign(${t}, ${e})`))}),mergeToName:(r,e,t)=>r.if((0,Te._)`${t} !== true`,()=>{e===!0?r.assign(t,!0):(r.assign(t,(0,Te._)`${t} || {}`),Vf(r,t,e))}),mergeValues:(r,e)=>r===!0?!0:{...r,...e},resultToName:K_}),items:G_({mergeNames:(r,e,t)=>r.if((0,Te._)`${t} !== true && ${e} !== undefined`,()=>r.assign(t,(0,Te._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(r,e,t)=>r.if((0,Te._)`${t} !== true`,()=>r.assign(t,e===!0?!0:(0,Te._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(r,e)=>r===!0?!0:Math.max(r,e),resultToName:(r,e)=>r.var("items",e)})};function K_(r,e){if(e===!0)return r.var("props",!0);let t=r.var("props",(0,Te._)`{}`);return e!==void 0&&Vf(r,t,e),t}ae.evaluatedPropsToName=K_;function Vf(r,e,t){Object.keys(t).forEach(n=>r.assign((0,Te._)`${e}${(0,Te.getProperty)(n)}`,!0))}ae.setEvaluated=Vf;var J_={};function lL(r,e){return r.scopeValue("func",{ref:e,code:J_[e.code]||(J_[e.code]=new eL._Code(e.code))})}ae.useFunc=lL;var W_;(function(r){r[r.Num=0]="Num",r[r.Str=1]="Str"})(W_=ae.Type||(ae.Type={}));function uL(r,e,t){if(r instanceof Te.Name){let n=e===W_.Num;return t?n?(0,Te._)`"[" + ${r} + "]"`:(0,Te._)`"['" + ${r} + "']"`:n?(0,Te._)`"/" + ${r}`:(0,Te._)`"/" + ${r}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,Te.getProperty)(r).toString():"/"+Uf(r)}ae.getErrorPath=uL;function Q_(r,e,t=r.opts.strictSchema){if(!!t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);r.self.logger.warn(e)}}ae.checkStrictMode=Q_});var Rt=b(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});var or=oe(),cL={data:new or.Name("data"),valCxt:new or.Name("valCxt"),instancePath:new or.Name("instancePath"),parentData:new or.Name("parentData"),parentDataProperty:new or.Name("parentDataProperty"),rootData:new or.Name("rootData"),dynamicAnchors:new or.Name("dynamicAnchors"),vErrors:new or.Name("vErrors"),errors:new or.Name("errors"),this:new or.Name("this"),self:new or.Name("self"),scope:new or.Name("scope"),json:new or.Name("json"),jsonPos:new or.Name("jsonPos"),jsonLen:new or.Name("jsonLen"),jsonPart:new or.Name("jsonPart")};zf.default=cL});var Ri=b(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.extendErrors=lr.resetErrorsCount=lr.reportExtraError=lr.reportError=lr.keyword$DataError=lr.keywordError=void 0;var he=oe(),Uo=ye(),dr=Rt();lr.keywordError={message:({keyword:r})=>(0,he.str)`must pass "${r}" keyword validation`};lr.keyword$DataError={message:({keyword:r,schemaType:e})=>e?(0,he.str)`"${r}" keyword must be ${e} ($data)`:(0,he.str)`"${r}" keyword is invalid ($data)`};function fL(r,e=lr.keywordError,t,n){let{it:s}=r,{gen:i,compositeRule:a,allErrors:o}=s,c=Z_(r,e,t);n??(a||o)?Y_(i,c):X_(s,(0,he._)`[${c}]`)}lr.reportError=fL;function hL(r,e=lr.keywordError,t){let{it:n}=r,{gen:s,compositeRule:i,allErrors:a}=n,o=Z_(r,e,t);Y_(s,o),i||a||X_(n,dr.default.vErrors)}lr.reportExtraError=hL;function dL(r,e){r.assign(dr.default.errors,e),r.if((0,he._)`${dr.default.vErrors} !== null`,()=>r.if(e,()=>r.assign((0,he._)`${dr.default.vErrors}.length`,e),()=>r.assign(dr.default.vErrors,null)))}lr.resetErrorsCount=dL;function pL({gen:r,keyword:e,schemaValue:t,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let a=r.name("err");r.forRange("i",s,dr.default.errors,o=>{r.const(a,(0,he._)`${dr.default.vErrors}[${o}]`),r.if((0,he._)`${a}.instancePath === undefined`,()=>r.assign((0,he._)`${a}.instancePath`,(0,he.strConcat)(dr.default.instancePath,i.errorPath))),r.assign((0,he._)`${a}.schemaPath`,(0,he.str)`${i.errSchemaPath}/${e}`),i.opts.verbose&&(r.assign((0,he._)`${a}.schema`,t),r.assign((0,he._)`${a}.data`,n))})}lr.extendErrors=pL;function Y_(r,e){let t=r.const("err",e);r.if((0,he._)`${dr.default.vErrors} === null`,()=>r.assign(dr.default.vErrors,(0,he._)`[${t}]`),(0,he._)`${dr.default.vErrors}.push(${t})`),r.code((0,he._)`${dr.default.errors}++`)}function X_(r,e){let{gen:t,validateName:n,schemaEnv:s}=r;s.$async?t.throw((0,he._)`new ${r.ValidationError}(${e})`):(t.assign((0,he._)`${n}.errors`,e),t.return(!1))}var Ss={keyword:new he.Name("keyword"),schemaPath:new he.Name("schemaPath"),params:new he.Name("params"),propertyName:new he.Name("propertyName"),message:new he.Name("message"),schema:new he.Name("schema"),parentSchema:new he.Name("parentSchema")};function Z_(r,e,t){let{createErrors:n}=r.it;return n===!1?(0,he._)`{}`:mL(r,e,t)}function mL(r,e,t={}){let{gen:n,it:s}=r,i=[vL(s,t),gL(r,t)];return yL(r,e,i),n.object(...i)}function vL({errorPath:r},{instancePath:e}){let t=e?(0,he.str)`${r}${(0,Uo.getErrorPath)(e,Uo.Type.Str)}`:r;return[dr.default.instancePath,(0,he.strConcat)(dr.default.instancePath,t)]}function gL({keyword:r,it:{errSchemaPath:e}},{schemaPath:t,parentSchema:n}){let s=n?e:(0,he.str)`${e}/${r}`;return t&&(s=(0,he.str)`${s}${(0,Uo.getErrorPath)(t,Uo.Type.Str)}`),[Ss.schemaPath,s]}function yL(r,{params:e,message:t},n){let{keyword:s,data:i,schemaValue:a,it:o}=r,{opts:c,propertyName:f,topSchemaRef:u,schemaPath:h}=o;n.push([Ss.keyword,s],[Ss.params,typeof e=="function"?e(r):e||(0,he._)`{}`]),c.messages&&n.push([Ss.message,typeof t=="function"?t(r):t]),c.verbose&&n.push([Ss.schema,a],[Ss.parentSchema,(0,he._)`${u}${h}`],[dr.default.data,i]),f&&n.push([Ss.propertyName,f])}});var rS=b(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.boolOrEmptySchema=gn.topBoolOrEmptySchema=void 0;var bL=Ri(),EL=oe(),wL=Rt(),_L={message:"boolean schema is false"};function SL(r){let{gen:e,schema:t,validateName:n}=r;t===!1?eS(r,!1):typeof t=="object"&&t.$async===!0?e.return(wL.default.data):(e.assign((0,EL._)`${n}.errors`,null),e.return(!0))}gn.topBoolOrEmptySchema=SL;function PL(r,e){let{gen:t,schema:n}=r;n===!1?(t.var(e,!1),eS(r)):t.var(e,!0)}gn.boolOrEmptySchema=PL;function eS(r,e){let{gen:t,data:n}=r,s={gen:t,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:r};(0,bL.reportError)(s,_L,void 0,e)}});var Bf=b(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.getRules=yn.isJSONType=void 0;var RL=["string","number","integer","boolean","null","object","array"],$L=new Set(RL);function OL(r){return typeof r=="string"&&$L.has(r)}yn.isJSONType=OL;function TL(){let r={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...r,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},r.number,r.string,r.array,r.object],post:{rules:[]},all:{},keywords:{}}}yn.getRules=TL});var Gf=b(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.shouldUseRule=Mt.shouldUseGroup=Mt.schemaHasRulesForType=void 0;function IL({schema:r,self:e},t){let n=e.RULES.types[t];return n&&n!==!0&&tS(r,n)}Mt.schemaHasRulesForType=IL;function tS(r,e){return e.rules.some(t=>sS(r,t))}Mt.shouldUseGroup=tS;function sS(r,e){var t;return r[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(n=>r[n]!==void 0))}Mt.shouldUseRule=sS});var Oi=b(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.reportTypeError=Ze.checkDataTypes=Ze.checkDataType=Ze.coerceAndCheckDataType=Ze.getJSONTypes=Ze.getSchemaTypes=Ze.DataType=void 0;var CL=Bf(),qL=Gf(),AL=Ri(),se=oe(),nS=ye(),$i;(function(r){r[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong"})($i=Ze.DataType||(Ze.DataType={}));function NL(r){let e=iS(r.type);if(e.includes("null")){if(r.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&r.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');r.nullable===!0&&e.push("null")}return e}Ze.getSchemaTypes=NL;function iS(r){let e=Array.isArray(r)?r:r?[r]:[];if(e.every(CL.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Ze.getJSONTypes=iS;function xL(r,e){let{gen:t,data:n,opts:s}=r,i=jL(e,s.coerceTypes),a=e.length>0&&!(i.length===0&&e.length===1&&(0,qL.schemaHasRulesForType)(r,e[0]));if(a){let o=Jf(e,n,s.strictNumbers,$i.Wrong);t.if(o,()=>{i.length?kL(r,e,i):Wf(r)})}return a}Ze.coerceAndCheckDataType=xL;var aS=new Set(["string","number","integer","boolean","null"]);function jL(r,e){return e?r.filter(t=>aS.has(t)||e==="array"&&t==="array"):[]}function kL(r,e,t){let{gen:n,data:s,opts:i}=r,a=n.let("dataType",(0,se._)`typeof ${s}`),o=n.let("coerced",(0,se._)`undefined`);i.coerceTypes==="array"&&n.if((0,se._)`${a} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,se._)`${s}[0]`).assign(a,(0,se._)`typeof ${s}`).if(Jf(e,s,i.strictNumbers),()=>n.assign(o,s))),n.if((0,se._)`${o} !== undefined`);for(let f of t)(aS.has(f)||f==="array"&&i.coerceTypes==="array")&&c(f);n.else(),Wf(r),n.endIf(),n.if((0,se._)`${o} !== undefined`,()=>{n.assign(s,o),DL(r,o)});function c(f){switch(f){case"string":n.elseIf((0,se._)`${a} == "number" || ${a} == "boolean"`).assign(o,(0,se._)`"" + ${s}`).elseIf((0,se._)`${s} === null`).assign(o,(0,se._)`""`);return;case"number":n.elseIf((0,se._)`${a} == "boolean" || ${s} === null
              || (${a} == "string" && ${s} && ${s} == +${s})`).assign(o,(0,se._)`+${s}`);return;case"integer":n.elseIf((0,se._)`${a} === "boolean" || ${s} === null
              || (${a} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(o,(0,se._)`+${s}`);return;case"boolean":n.elseIf((0,se._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(o,!1).elseIf((0,se._)`${s} === "true" || ${s} === 1`).assign(o,!0);return;case"null":n.elseIf((0,se._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(o,null);return;case"array":n.elseIf((0,se._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${s} === null`).assign(o,(0,se._)`[${s}]`)}}}function DL({gen:r,parentData:e,parentDataProperty:t},n){r.if((0,se._)`${e} !== undefined`,()=>r.assign((0,se._)`${e}[${t}]`,n))}function Kf(r,e,t,n=$i.Correct){let s=n===$i.Correct?se.operators.EQ:se.operators.NEQ,i;switch(r){case"null":return(0,se._)`${e} ${s} null`;case"array":i=(0,se._)`Array.isArray(${e})`;break;case"object":i=(0,se._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=a((0,se._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=a();break;default:return(0,se._)`typeof ${e} ${s} ${r}`}return n===$i.Correct?i:(0,se.not)(i);function a(o=se.nil){return(0,se.and)((0,se._)`typeof ${e} == "number"`,o,t?(0,se._)`isFinite(${e})`:se.nil)}}Ze.checkDataType=Kf;function Jf(r,e,t,n){if(r.length===1)return Kf(r[0],e,t,n);let s,i=(0,nS.toHash)(r);if(i.array&&i.object){let a=(0,se._)`typeof ${e} != "object"`;s=i.null?a:(0,se._)`!${e} || ${a}`,delete i.null,delete i.array,delete i.object}else s=se.nil;i.number&&delete i.integer;for(let a in i)s=(0,se.and)(s,Kf(a,e,t,n));return s}Ze.checkDataTypes=Jf;var FL={message:({schema:r})=>`must be ${r}`,params:({schema:r,schemaValue:e})=>typeof r=="string"?(0,se._)`{type: ${r}}`:(0,se._)`{type: ${e}}`};function Wf(r){let e=LL(r);(0,AL.reportError)(e,FL)}Ze.reportTypeError=Wf;function LL(r){let{gen:e,data:t,schema:n}=r,s=(0,nS.schemaRefOrVal)(r,n,"type");return{gen:e,keyword:"type",data:t,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:r}}});var lS=b(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.assignDefaults=void 0;var bn=oe(),ML=ye();function HL(r,e){let{properties:t,items:n}=r.schema;if(e==="object"&&t)for(let s in t)oS(r,s,t[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,i)=>oS(r,i,s.default))}Vo.assignDefaults=HL;function oS(r,e,t){let{gen:n,compositeRule:s,data:i,opts:a}=r;if(t===void 0)return;let o=(0,bn._)`${i}${(0,bn.getProperty)(e)}`;if(s){(0,ML.checkStrictMode)(r,`default is ignored for: ${o}`);return}let c=(0,bn._)`${o} === undefined`;a.useDefaults==="empty"&&(c=(0,bn._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,bn._)`${o} = ${(0,bn.stringify)(t)}`)}});var zr=b($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.validateUnion=$e.validateArray=$e.usePattern=$e.callValidateCode=$e.schemaProperties=$e.allSchemaProperties=$e.noPropertyInData=$e.propertyInData=$e.isOwnProperty=$e.hasPropFunc=$e.reportMissingProp=$e.checkMissingProp=$e.checkReportMissingProp=void 0;var Ae=oe(),Qf=ye(),Ht=Rt(),UL=ye();function VL(r,e){let{gen:t,data:n,it:s}=r;t.if(Xf(t,n,e,s.opts.ownProperties),()=>{r.setParams({missingProperty:(0,Ae._)`${e}`},!0),r.error()})}$e.checkReportMissingProp=VL;function zL({gen:r,data:e,it:{opts:t}},n,s){return(0,Ae.or)(...n.map(i=>(0,Ae.and)(Xf(r,e,i,t.ownProperties),(0,Ae._)`${s} = ${i}`)))}$e.checkMissingProp=zL;function BL(r,e){r.setParams({missingProperty:e},!0),r.error()}$e.reportMissingProp=BL;function uS(r){return r.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ae._)`Object.prototype.hasOwnProperty`})}$e.hasPropFunc=uS;function Yf(r,e,t){return(0,Ae._)`${uS(r)}.call(${e}, ${t})`}$e.isOwnProperty=Yf;function GL(r,e,t,n){let s=(0,Ae._)`${e}${(0,Ae.getProperty)(t)} !== undefined`;return n?(0,Ae._)`${s} && ${Yf(r,e,t)}`:s}$e.propertyInData=GL;function Xf(r,e,t,n){let s=(0,Ae._)`${e}${(0,Ae.getProperty)(t)} === undefined`;return n?(0,Ae.or)(s,(0,Ae.not)(Yf(r,e,t))):s}$e.noPropertyInData=Xf;function cS(r){return r?Object.keys(r).filter(e=>e!=="__proto__"):[]}$e.allSchemaProperties=cS;function KL(r,e){return cS(e).filter(t=>!(0,Qf.alwaysValidSchema)(r,e[t]))}$e.schemaProperties=KL;function JL({schemaCode:r,data:e,it:{gen:t,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},o,c,f){let u=f?(0,Ae._)`${r}, ${e}, ${n}${s}`:e,h=[[Ht.default.instancePath,(0,Ae.strConcat)(Ht.default.instancePath,i)],[Ht.default.parentData,a.parentData],[Ht.default.parentDataProperty,a.parentDataProperty],[Ht.default.rootData,Ht.default.rootData]];a.opts.dynamicRef&&h.push([Ht.default.dynamicAnchors,Ht.default.dynamicAnchors]);let d=(0,Ae._)`${u}, ${t.object(...h)}`;return c!==Ae.nil?(0,Ae._)`${o}.call(${c}, ${d})`:(0,Ae._)`${o}(${d})`}$e.callValidateCode=JL;var WL=(0,Ae._)`new RegExp`;function QL({gen:r,it:{opts:e}},t){let n=e.unicodeRegExp?"u":"",{regExp:s}=e.code,i=s(t,n);return r.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Ae._)`${s.code==="new RegExp"?WL:(0,UL.useFunc)(r,s)}(${t}, ${n})`})}$e.usePattern=QL;function YL(r){let{gen:e,data:t,keyword:n,it:s}=r,i=e.name("valid");if(s.allErrors){let o=e.let("valid",!0);return a(()=>e.assign(o,!1)),o}return e.var(i,!0),a(()=>e.break()),i;function a(o){let c=e.const("len",(0,Ae._)`${t}.length`);e.forRange("i",0,c,f=>{r.subschema({keyword:n,dataProp:f,dataPropType:Qf.Type.Num},i),e.if((0,Ae.not)(i),o)})}}$e.validateArray=YL;function XL(r){let{gen:e,schema:t,keyword:n,it:s}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(c=>(0,Qf.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;let a=e.let("valid",!1),o=e.name("_valid");e.block(()=>t.forEach((c,f)=>{let u=r.subschema({keyword:n,schemaProp:f,compositeRule:!0},o);e.assign(a,(0,Ae._)`${a} || ${o}`),r.mergeValidEvaluated(u,o)||e.if((0,Ae.not)(a))})),r.result(a,()=>r.reset(),()=>r.error(!0))}$e.validateUnion=XL});var dS=b(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.validateKeywordUsage=dt.validSchemaType=dt.funcKeywordCode=dt.macroKeywordCode=void 0;var pr=oe(),Ps=Rt(),ZL=zr(),e2=Ri();function r2(r,e){let{gen:t,keyword:n,schema:s,parentSchema:i,it:a}=r,o=e.macro.call(a.self,s,i,a),c=hS(t,n,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);let f=t.name("valid");r.subschema({schema:o,schemaPath:pr.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},f),r.pass(f,()=>r.error(!0))}dt.macroKeywordCode=r2;function t2(r,e){var t;let{gen:n,keyword:s,schema:i,parentSchema:a,$data:o,it:c}=r;n2(c,e);let f=!o&&e.compile?e.compile.call(c.self,i,a,c):e.validate,u=hS(n,s,f),h=n.let("valid");r.block$data(h,d),r.ok((t=e.valid)!==null&&t!==void 0?t:h);function d(){if(e.errors===!1)m(),e.modifying&&fS(r),p(()=>r.error());else{let g=e.async?l():v();e.modifying&&fS(r),p(()=>s2(r,g))}}function l(){let g=n.let("ruleErrs",null);return n.try(()=>m((0,pr._)`await `),w=>n.assign(h,!1).if((0,pr._)`${w} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,pr._)`${w}.errors`),()=>n.throw(w))),g}function v(){let g=(0,pr._)`${u}.errors`;return n.assign(g,null),m(pr.nil),g}function m(g=e.async?(0,pr._)`await `:pr.nil){let w=c.opts.passContext?Ps.default.this:Ps.default.self,R=!("compile"in e&&!o||e.schema===!1);n.assign(h,(0,pr._)`${g}${(0,ZL.callValidateCode)(r,u,w,R)}`,e.modifying)}function p(g){var w;n.if((0,pr.not)((w=e.valid)!==null&&w!==void 0?w:h),g)}}dt.funcKeywordCode=t2;function fS(r){let{gen:e,data:t,it:n}=r;e.if(n.parentData,()=>e.assign(t,(0,pr._)`${n.parentData}[${n.parentDataProperty}]`))}function s2(r,e){let{gen:t}=r;t.if((0,pr._)`Array.isArray(${e})`,()=>{t.assign(Ps.default.vErrors,(0,pr._)`${Ps.default.vErrors} === null ? ${e} : ${Ps.default.vErrors}.concat(${e})`).assign(Ps.default.errors,(0,pr._)`${Ps.default.vErrors}.length`),(0,e2.extendErrors)(r)},()=>r.error())}function n2({schemaEnv:r},e){if(e.async&&!r.$async)throw new Error("async keyword in sync schema")}function hS(r,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return r.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,pr.stringify)(t)})}function i2(r,e,t=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(r):n==="object"?r&&typeof r=="object"&&!Array.isArray(r):typeof r==n||t&&typeof r=="undefined")}dt.validSchemaType=i2;function a2({schema:r,opts:e,self:t,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let a=s.dependencies;if(a==null?void 0:a.some(o=>!Object.prototype.hasOwnProperty.call(r,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(r[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+t.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(c);else throw new Error(c)}}dt.validateKeywordUsage=a2});var mS=b(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.extendSubschemaMode=Ut.extendSubschemaData=Ut.getSubschema=void 0;var pt=oe(),pS=ye();function o2(r,{keyword:e,schemaProp:t,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let o=r.schema[e];return t===void 0?{schema:o,schemaPath:(0,pt._)`${r.schemaPath}${(0,pt.getProperty)(e)}`,errSchemaPath:`${r.errSchemaPath}/${e}`}:{schema:o[t],schemaPath:(0,pt._)`${r.schemaPath}${(0,pt.getProperty)(e)}${(0,pt.getProperty)(t)}`,errSchemaPath:`${r.errSchemaPath}/${e}/${(0,pS.escapeFragment)(t)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Ut.getSubschema=o2;function l2(r,e,{dataProp:t,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:o}=e;if(t!==void 0){let{errorPath:f,dataPathArr:u,opts:h}=e,d=o.let("data",(0,pt._)`${e.data}${(0,pt.getProperty)(t)}`,!0);c(d),r.errorPath=(0,pt.str)`${f}${(0,pS.getErrorPath)(t,n,h.jsPropertySyntax)}`,r.parentDataProperty=(0,pt._)`${t}`,r.dataPathArr=[...u,r.parentDataProperty]}if(s!==void 0){let f=s instanceof pt.Name?s:o.let("data",s,!0);c(f),a!==void 0&&(r.propertyName=a)}i&&(r.dataTypes=i);function c(f){r.data=f,r.dataLevel=e.dataLevel+1,r.dataTypes=[],e.definedProperties=new Set,r.parentData=e.data,r.dataNames=[...e.dataNames,f]}}Ut.extendSubschemaData=l2;function u2(r,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(r.compositeRule=n),s!==void 0&&(r.createErrors=s),i!==void 0&&(r.allErrors=i),r.jtdDiscriminator=e,r.jtdMetadata=t}Ut.extendSubschemaMode=u2});var gS=b((L6,vS)=>{"use strict";var Vt=vS.exports=function(r,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},s=t.post||function(){};zo(e,n,s,r,"",r)};Vt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Vt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Vt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Vt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function zo(r,e,t,n,s,i,a,o,c,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,i,a,o,c,f);for(var u in n){var h=n[u];if(Array.isArray(h)){if(u in Vt.arrayKeywords)for(var d=0;d<h.length;d++)zo(r,e,t,h[d],s+"/"+u+"/"+d,i,s,u,n,d)}else if(u in Vt.propsKeywords){if(h&&typeof h=="object")for(var l in h)zo(r,e,t,h[l],s+"/"+u+"/"+c2(l),i,s,u,n,l)}else(u in Vt.keywords||r.allKeys&&!(u in Vt.skipKeywords))&&zo(r,e,t,h,s+"/"+u,i,s,u,n)}t(n,s,i,a,o,c,f)}}function c2(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}});var Ti=b(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.getSchemaRefs=Er.resolveUrl=Er.normalizeId=Er._getFullPath=Er.getFullPath=Er.inlineRef=void 0;var f2=ye(),h2=Tt(),d2=gS(),Bo=da(),p2=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function m2(r,e=!0){return typeof r=="boolean"?!0:e===!0?!Zf(r):e?yS(r)<=e:!1}Er.inlineRef=m2;var v2=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Zf(r){for(let e in r){if(v2.has(e))return!0;let t=r[e];if(Array.isArray(t)&&t.some(Zf)||typeof t=="object"&&Zf(t))return!0}return!1}function yS(r){let e=0;for(let t in r){if(t==="$ref")return 1/0;if(e++,!p2.has(t)&&(typeof r[t]=="object"&&(0,f2.eachItem)(r[t],n=>e+=yS(n)),e===1/0))return 1/0}return e}function bS(r="",e){e!==!1&&(r=En(r));let t=Bo.parse(r);return ES(t)}Er.getFullPath=bS;function ES(r){return Bo.serialize(r).split("#")[0]+"#"}Er._getFullPath=ES;var g2=/#\/?$/;function En(r){return r?r.replace(g2,""):""}Er.normalizeId=En;function y2(r,e){return e=En(e),Bo.resolve(r,e)}Er.resolveUrl=y2;var b2=/^[a-z_][-a-z0-9._]*$/i;function E2(r,e){if(typeof r=="boolean")return{};let{schemaId:t}=this.opts,n=En(r[t]||e),s={"":n},i=bS(n,!1),a={},o=new Set;return d2(r,{allKeys:!0},(u,h,d,l)=>{if(l===void 0)return;let v=i+h,m=s[l];typeof u[t]=="string"&&(m=p.call(this,u[t])),g.call(this,u.$anchor),g.call(this,u.$dynamicAnchor),s[h]=m;function p(w){if(w=En(m?Bo.resolve(m,w):w),o.has(w))throw f(w);o.add(w);let R=this.refs[w];return typeof R=="string"&&(R=this.refs[R]),typeof R=="object"?c(u,R.schema,w):w!==En(v)&&(w[0]==="#"?(c(u,a[w],w),a[w]=u):this.refs[w]=v),w}function g(w){if(typeof w=="string"){if(!b2.test(w))throw new Error(`invalid anchor "${w}"`);p.call(this,`#${w}`)}}}),a;function c(u,h,d){if(h!==void 0&&!h2(u,h))throw f(d)}function f(u){return new Error(`reference "${u}" resolves to more than one schema`)}}Er.getSchemaRefs=E2});var qi=b(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.getData=zt.KeywordCxt=zt.validateFunctionCode=void 0;var wS=rS(),_S=Oi(),eh=Gf(),Go=Oi(),w2=lS(),Ii=dS(),rh=mS(),W=oe(),re=Rt(),_2=Ti(),$t=ye(),Ci=Ri();function S2(r){if($S(r)&&(OS(r),RS(r))){$2(r);return}SS(r,()=>(0,wS.topBoolOrEmptySchema)(r))}zt.validateFunctionCode=S2;function SS({gen:r,validateName:e,schema:t,schemaEnv:n,opts:s},i){s.code.es5?r.func(e,(0,W._)`${re.default.data}, ${re.default.valCxt}`,n.$async,()=>{r.code((0,W._)`"use strict"; ${PS(t,s)}`),R2(r,s),r.code(i)}):r.func(e,(0,W._)`${re.default.data}, ${P2(s)}`,n.$async,()=>r.code(PS(t,s)).code(i))}function P2(r){return(0,W._)`{${re.default.instancePath}="", ${re.default.parentData}, ${re.default.parentDataProperty}, ${re.default.rootData}=${re.default.data}${r.dynamicRef?(0,W._)`, ${re.default.dynamicAnchors}={}`:W.nil}}={}`}function R2(r,e){r.if(re.default.valCxt,()=>{r.var(re.default.instancePath,(0,W._)`${re.default.valCxt}.${re.default.instancePath}`),r.var(re.default.parentData,(0,W._)`${re.default.valCxt}.${re.default.parentData}`),r.var(re.default.parentDataProperty,(0,W._)`${re.default.valCxt}.${re.default.parentDataProperty}`),r.var(re.default.rootData,(0,W._)`${re.default.valCxt}.${re.default.rootData}`),e.dynamicRef&&r.var(re.default.dynamicAnchors,(0,W._)`${re.default.valCxt}.${re.default.dynamicAnchors}`)},()=>{r.var(re.default.instancePath,(0,W._)`""`),r.var(re.default.parentData,(0,W._)`undefined`),r.var(re.default.parentDataProperty,(0,W._)`undefined`),r.var(re.default.rootData,re.default.data),e.dynamicRef&&r.var(re.default.dynamicAnchors,(0,W._)`{}`)})}function $2(r){let{schema:e,opts:t,gen:n}=r;SS(r,()=>{t.$comment&&e.$comment&&IS(r),q2(r),n.let(re.default.vErrors,null),n.let(re.default.errors,0),t.unevaluated&&O2(r),TS(r),x2(r)})}function O2(r){let{gen:e,validateName:t}=r;r.evaluated=e.const("evaluated",(0,W._)`${t}.evaluated`),e.if((0,W._)`${r.evaluated}.dynamicProps`,()=>e.assign((0,W._)`${r.evaluated}.props`,(0,W._)`undefined`)),e.if((0,W._)`${r.evaluated}.dynamicItems`,()=>e.assign((0,W._)`${r.evaluated}.items`,(0,W._)`undefined`))}function PS(r,e){let t=typeof r=="object"&&r[e.schemaId];return t&&(e.code.source||e.code.process)?(0,W._)`/*# sourceURL=${t} */`:W.nil}function T2(r,e){if($S(r)&&(OS(r),RS(r))){I2(r,e);return}(0,wS.boolOrEmptySchema)(r,e)}function RS({schema:r,self:e}){if(typeof r=="boolean")return!r;for(let t in r)if(e.RULES.all[t])return!0;return!1}function $S(r){return typeof r.schema!="boolean"}function I2(r,e){let{schema:t,gen:n,opts:s}=r;s.$comment&&t.$comment&&IS(r),A2(r),N2(r);let i=n.const("_errs",re.default.errors);TS(r,i),n.var(e,(0,W._)`${i} === ${re.default.errors}`)}function OS(r){(0,$t.checkUnknownRules)(r),C2(r)}function TS(r,e){if(r.opts.jtd)return CS(r,[],!1,e);let t=(0,_S.getSchemaTypes)(r.schema),n=(0,_S.coerceAndCheckDataType)(r,t);CS(r,t,!n,e)}function C2(r){let{schema:e,errSchemaPath:t,opts:n,self:s}=r;e.$ref&&n.ignoreKeywordsWithRef&&(0,$t.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function q2(r){let{schema:e,opts:t}=r;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,$t.checkStrictMode)(r,"default is ignored in the schema root")}function A2(r){let e=r.schema[r.opts.schemaId];e&&(r.baseId=(0,_2.resolveUrl)(r.baseId,e))}function N2(r){if(r.schema.$async&&!r.schemaEnv.$async)throw new Error("async schema in sync schema")}function IS({gen:r,schemaEnv:e,schema:t,errSchemaPath:n,opts:s}){let i=t.$comment;if(s.$comment===!0)r.code((0,W._)`${re.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let a=(0,W.str)`${n}/$comment`,o=r.scopeValue("root",{ref:e.root});r.code((0,W._)`${re.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function x2(r){let{gen:e,schemaEnv:t,validateName:n,ValidationError:s,opts:i}=r;t.$async?e.if((0,W._)`${re.default.errors} === 0`,()=>e.return(re.default.data),()=>e.throw((0,W._)`new ${s}(${re.default.vErrors})`)):(e.assign((0,W._)`${n}.errors`,re.default.vErrors),i.unevaluated&&j2(r),e.return((0,W._)`${re.default.errors} === 0`))}function j2({gen:r,evaluated:e,props:t,items:n}){t instanceof W.Name&&r.assign((0,W._)`${e}.props`,t),n instanceof W.Name&&r.assign((0,W._)`${e}.items`,n)}function CS(r,e,t,n){let{gen:s,schema:i,data:a,allErrors:o,opts:c,self:f}=r,{RULES:u}=f;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,$t.schemaHasRulesButRef)(i,u))){s.block(()=>NS(r,"$ref",u.all.$ref.definition));return}c.jtd||k2(r,e),s.block(()=>{for(let d of u.rules)h(d);h(u.post)});function h(d){!(0,eh.shouldUseGroup)(i,d)||(d.type?(s.if((0,Go.checkDataType)(d.type,a,c.strictNumbers)),qS(r,d),e.length===1&&e[0]===d.type&&t&&(s.else(),(0,Go.reportTypeError)(r)),s.endIf()):qS(r,d),o||s.if((0,W._)`${re.default.errors} === ${n||0}`))}}function qS(r,e){let{gen:t,schema:n,opts:{useDefaults:s}}=r;s&&(0,w2.assignDefaults)(r,e.type),t.block(()=>{for(let i of e.rules)(0,eh.shouldUseRule)(n,i)&&NS(r,i.keyword,i.definition,e.type)})}function k2(r,e){r.schemaEnv.meta||!r.opts.strictTypes||(D2(r,e),r.opts.allowUnionTypes||F2(r,e),L2(r,r.dataTypes))}function D2(r,e){if(!!e.length){if(!r.dataTypes.length){r.dataTypes=e;return}e.forEach(t=>{AS(r.dataTypes,t)||th(r,`type "${t}" not allowed by context "${r.dataTypes.join(",")}"`)}),r.dataTypes=r.dataTypes.filter(t=>AS(e,t))}}function F2(r,e){e.length>1&&!(e.length===2&&e.includes("null"))&&th(r,"use allowUnionTypes to allow union type keyword")}function L2(r,e){let t=r.self.RULES.all;for(let n in t){let s=t[n];if(typeof s=="object"&&(0,eh.shouldUseRule)(r.schema,s)){let{type:i}=s.definition;i.length&&!i.some(a=>M2(e,a))&&th(r,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function M2(r,e){return r.includes(e)||e==="number"&&r.includes("integer")}function AS(r,e){return r.includes(e)||e==="integer"&&r.includes("number")}function th(r,e){e+=` at "${r.schemaEnv.baseId+r.errSchemaPath}" (strictTypes)`,(0,$t.checkStrictMode)(r,e,r.opts.strictTypes)}var sh=class{constructor(e,t,n){if((0,Ii.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,$t.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",xS(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Ii.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",re.default.errors))}result(e,t,n){this.failResult((0,W.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,W.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,W._)`${t} !== undefined && (${(0,W.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t){this.setParams(t),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,t){(e?Ci.reportExtraError:Ci.reportError)(this,this.def.error,t)}$dataError(){(0,Ci.reportError)(this,this.def.$dataError||Ci.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ci.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=W.nil){this.gen.block(()=>{this.check$data(e,n),t()})}check$data(e=W.nil,t=W.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if((0,W.or)((0,W._)`${s} === undefined`,t)),e!==W.nil&&n.assign(e,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==W.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:n,def:s,it:i}=this;return(0,W.or)(a(),o());function a(){if(n.length){if(!(t instanceof W.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,W._)`${(0,Go.checkDataTypes)(c,t,i.opts.strictNumbers,Go.DataType.Wrong)}`}return W.nil}function o(){if(s.validateSchema){let c=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,W._)`!${c}(${t})`}return W.nil}}subschema(e,t){let n=(0,rh.getSubschema)(this.it,e);(0,rh.extendSubschemaData)(n,this.it,e),(0,rh.extendSubschemaMode)(n,e);let s={...this.it,...n,items:void 0,props:void 0};return T2(s,t),s}mergeEvaluated(e,t){let{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=$t.mergeEvaluated.props(s,e.props,n.props,t)),n.items!==!0&&e.items!==void 0&&(n.items=$t.mergeEvaluated.items(s,e.items,n.items,t)))}mergeValidEvaluated(e,t){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(t,()=>this.mergeEvaluated(e,W.Name)),!0}};zt.KeywordCxt=sh;function NS(r,e,t,n){let s=new sh(r,t,e);"code"in t?t.code(s,n):s.$data&&t.validate?(0,Ii.funcKeywordCode)(s,t):"macro"in t?(0,Ii.macroKeywordCode)(s,t):(t.compile||t.validate)&&(0,Ii.funcKeywordCode)(s,t)}var H2=/^\/(?:[^~]|~0|~1)*$/,U2=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function xS(r,{dataLevel:e,dataNames:t,dataPathArr:n}){let s,i;if(r==="")return re.default.rootData;if(r[0]==="/"){if(!H2.test(r))throw new Error(`Invalid JSON-pointer: ${r}`);s=r,i=re.default.rootData}else{let f=U2.exec(r);if(!f)throw new Error(`Invalid JSON-pointer: ${r}`);let u=+f[1];if(s=f[2],s==="#"){if(u>=e)throw new Error(c("property/index",u));return n[e-u]}if(u>e)throw new Error(c("data",u));if(i=t[e-u],!s)return i}let a=i,o=s.split("/");for(let f of o)f&&(i=(0,W._)`${i}${(0,W.getProperty)((0,$t.unescapeJsonPointer)(f))}`,a=(0,W._)`${a} && ${i}`);return a;function c(f,u){return`Cannot access ${f} ${u} levels up, current level is ${e}`}}zt.getData=xS});var ih=b(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var jS=class extends Error{constructor(e){super("validation failed");this.errors=e,this.ajv=this.validation=!0}};nh.default=jS});var lh=b(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});var ah=Ti(),kS=class extends Error{constructor(e,t,n){super(n||`can't resolve reference ${t} from id ${e}`);this.missingRef=(0,ah.resolveUrl)(e,t),this.missingSchema=(0,ah.normalizeId)((0,ah.getFullPath)(this.missingRef))}};oh.default=kS});var fh=b(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.resolveSchema=Br.getCompilingSchema=Br.resolveRef=Br.compileSchema=Br.SchemaEnv=void 0;var Yr=oe(),V2=ih(),Rs=Rt(),Xr=Ti(),DS=ye(),z2=qi(),B2=da(),Ai=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,Xr.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Br.SchemaEnv=Ai;function uh(r){let e=FS.call(this,r);if(e)return e;let t=(0,Xr.getFullPath)(r.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Yr.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),o;r.$async&&(o=a.scopeValue("Error",{ref:V2.default,code:(0,Yr._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");r.validateName=c;let f={gen:a,allErrors:this.opts.allErrors,data:Rs.default.data,parentData:Rs.default.parentData,parentDataProperty:Rs.default.parentDataProperty,dataNames:[Rs.default.data],dataPathArr:[Yr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:r.schema,code:(0,Yr.stringify)(r.schema)}:{ref:r.schema}),validateName:c,ValidationError:o,schema:r.schema,schemaEnv:r,rootId:t,baseId:r.baseId||t,schemaPath:Yr.nil,errSchemaPath:r.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Yr._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(r),(0,z2.validateFunctionCode)(f),a.optimize(this.opts.code.optimize);let h=a.toString();u=`${a.scopeRefs(Rs.default.scope)}return ${h}`,this.opts.code.process&&(u=this.opts.code.process(u,r));let l=new Function(`${Rs.default.self}`,`${Rs.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:l}),l.errors=null,l.schema=r.schema,l.schemaEnv=r,r.$async&&(l.$async=!0),this.opts.code.source===!0&&(l.source={validateName:c,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){let{props:v,items:m}=f;l.evaluated={props:v instanceof Yr.Name?void 0:v,items:m instanceof Yr.Name?void 0:m,dynamicProps:v instanceof Yr.Name,dynamicItems:m instanceof Yr.Name},l.source&&(l.source.evaluated=(0,Yr.stringify)(l.evaluated))}return r.validate=l,r}catch(h){throw delete r.validate,delete r.validateName,u&&this.logger.error("Error compiling schema, function code:",u),h}finally{this._compilations.delete(r)}}Br.compileSchema=uh;function G2(r,e,t){var n;t=(0,Xr.resolveUrl)(e,t);let s=r.refs[t];if(s)return s;let i=W2.call(this,r,t);if(i===void 0){let a=(n=r.localRefs)===null||n===void 0?void 0:n[t],{schemaId:o}=this.opts;a&&(i=new Ai({schema:a,schemaId:o,root:r,baseId:e}))}if(i!==void 0)return r.refs[t]=K2.call(this,i)}Br.resolveRef=G2;function K2(r){return(0,Xr.inlineRef)(r.schema,this.opts.inlineRefs)?r.schema:r.validate?r:uh.call(this,r)}function FS(r){for(let e of this._compilations)if(J2(e,r))return e}Br.getCompilingSchema=FS;function J2(r,e){return r.schema===e.schema&&r.root===e.root&&r.baseId===e.baseId}function W2(r,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||Ko.call(this,r,e)}function Ko(r,e){let t=B2.parse(e),n=(0,Xr._getFullPath)(t),s=(0,Xr.getFullPath)(r.baseId);if(Object.keys(r.schema).length>0&&n===s)return ch.call(this,t,r);let i=(0,Xr.normalizeId)(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){let o=Ko.call(this,r,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:ch.call(this,t,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||uh.call(this,a),i===(0,Xr.normalizeId)(e)){let{schema:o}=a,{schemaId:c}=this.opts,f=o[c];return f&&(s=(0,Xr.resolveUrl)(s,f)),new Ai({schema:o,schemaId:c,root:r,baseId:s})}return ch.call(this,t,a)}}Br.resolveSchema=Ko;var Q2=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ch(r,{baseId:e,schema:t,root:n}){var s;if(((s=r.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let o of r.fragment.slice(1).split("/")){if(typeof t=="boolean")return;let c=t[(0,DS.unescapeFragment)(o)];if(c===void 0)return;t=c;let f=typeof t=="object"&&t[this.opts.schemaId];!Q2.has(o)&&f&&(e=(0,Xr.resolveUrl)(e,f))}let i;if(typeof t!="boolean"&&t.$ref&&!(0,DS.schemaHasRulesButRef)(t,this.RULES)){let o=(0,Xr.resolveUrl)(e,t.$ref);i=Ko.call(this,n,o)}let{schemaId:a}=this.opts;if(i=i||new Ai({schema:t,schemaId:a,root:n,baseId:e}),i.schema!==i.root.schema)return i}});var LS=b((B6,Y2)=>{Y2.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var KS=b(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.CodeGen=er.Name=er.nil=er.stringify=er.str=er._=er.KeywordCxt=void 0;var X2=qi();Object.defineProperty(er,"KeywordCxt",{enumerable:!0,get:function(){return X2.KeywordCxt}});var wn=oe();Object.defineProperty(er,"_",{enumerable:!0,get:function(){return wn._}});Object.defineProperty(er,"str",{enumerable:!0,get:function(){return wn.str}});Object.defineProperty(er,"stringify",{enumerable:!0,get:function(){return wn.stringify}});Object.defineProperty(er,"nil",{enumerable:!0,get:function(){return wn.nil}});Object.defineProperty(er,"Name",{enumerable:!0,get:function(){return wn.Name}});Object.defineProperty(er,"CodeGen",{enumerable:!0,get:function(){return wn.CodeGen}});var Z2=ih(),MS=lh(),eM=Bf(),Ni=fh(),rM=oe(),xi=Ti(),Jo=Oi(),hh=ye(),HS=LS(),US=(r,e)=>new RegExp(r,e);US.code="new RegExp";var tM=["removeAdditional","useDefaults","coerceTypes"],sM=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),nM={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},iM={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},VS=200;function aM(r){var e,t,n,s,i,a,o,c,f,u,h,d,l,v,m,p,g,w,R,_,y,O,$,D;let C=r.strict,N=(e=r.code)===null||e===void 0?void 0:e.optimize,x=N===!0||N===void 0?1:N||0,k=(n=(t=r.code)===null||t===void 0?void 0:t.regExp)!==null&&n!==void 0?n:US;return{strictSchema:(i=(s=r.strictSchema)!==null&&s!==void 0?s:C)!==null&&i!==void 0?i:!0,strictNumbers:(o=(a=r.strictNumbers)!==null&&a!==void 0?a:C)!==null&&o!==void 0?o:!0,strictTypes:(f=(c=r.strictTypes)!==null&&c!==void 0?c:C)!==null&&f!==void 0?f:"log",strictTuples:(h=(u=r.strictTuples)!==null&&u!==void 0?u:C)!==null&&h!==void 0?h:"log",strictRequired:(l=(d=r.strictRequired)!==null&&d!==void 0?d:C)!==null&&l!==void 0?l:!1,code:r.code?{...r.code,optimize:x,regExp:k}:{optimize:x,regExp:k},loopRequired:(v=r.loopRequired)!==null&&v!==void 0?v:VS,loopEnum:(m=r.loopEnum)!==null&&m!==void 0?m:VS,meta:(p=r.meta)!==null&&p!==void 0?p:!0,messages:(g=r.messages)!==null&&g!==void 0?g:!0,inlineRefs:(w=r.inlineRefs)!==null&&w!==void 0?w:!0,schemaId:(R=r.schemaId)!==null&&R!==void 0?R:"$id",addUsedSchema:(_=r.addUsedSchema)!==null&&_!==void 0?_:!0,validateSchema:(y=r.validateSchema)!==null&&y!==void 0?y:!0,validateFormats:(O=r.validateFormats)!==null&&O!==void 0?O:!0,unicodeRegExp:($=r.unicodeRegExp)!==null&&$!==void 0?$:!0,int32range:(D=r.int32range)!==null&&D!==void 0?D:!0}}var Wo=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...aM(e)};let{es5:t,lines:n}=this.opts.code;this.scope=new rM.ValueScope({scope:{},prefixes:sM,es5:t,lines:n}),this.logger=hM(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=(0,eM.getRules)(),zS.call(this,nM,e,"NOT SUPPORTED"),zS.call(this,iM,e,"DEPRECATED","warn"),this._metaOpts=cM.call(this),e.formats&&lM.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&uM.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),oM.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:n}=this.opts,s=HS;n==="id"&&(s={...HS},s.id=s.$id,delete s.$id),t&&e&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:void 0}validate(e,t){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(t);return"$async"in n||(this.errors=n.errors),s}compile(e,t){let n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,t);async function s(u,h){await i.call(this,u.$schema);let d=this._addSchema(u,h);return d.validate||a.call(this,d)}async function i(u){u&&!this.getSchema(u)&&await s.call(this,{$ref:u},!0)}async function a(u){try{return this._compileSchemaEnv(u)}catch(h){if(!(h instanceof MS.default))throw h;return o.call(this,h),await c.call(this,h.missingSchema),a.call(this,u)}}function o({missingSchema:u,missingRef:h}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${h} cannot be resolved`)}async function c(u){let h=await f.call(this,u);this.refs[u]||await i.call(this,h.$schema),this.refs[u]||this.addSchema(h,u,t)}async function f(u){let h=this._loading[u];if(h)return h;try{return await(this._loading[u]=n(u))}finally{delete this._loading[u]}}}addSchema(e,t,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,n,s);return this}let i;if(typeof e=="object"){let{schemaId:a}=this.opts;if(i=e[a],i!==void 0&&typeof i!="string")throw new Error(`schema ${a} must be string`)}return t=(0,xi.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,s,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&t){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(e){let t;for(;typeof(t=BS.call(this,e))=="string";)e=t;if(t===void 0){let{schemaId:n}=this.opts,s=new Ni.SchemaEnv({schema:{},schemaId:n});if(t=Ni.resolveSchema.call(this,s,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=BS.call(this,e);return typeof t=="object"&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,xi.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if(typeof e=="string")n=e,typeof t=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else if(typeof e=="object"&&t===void 0){if(t=e,n=t.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(pM.call(this,n,t),!t)return(0,hh.eachItem)(n,i=>dh.call(this,i)),this;vM.call(this,t);let s={...t,type:(0,Jo.getJSONTypes)(t.type),schemaType:(0,Jo.getJSONTypes)(t.schemaType)};return(0,hh.eachItem)(n,s.type.length===0?i=>dh.call(this,i,s):i=>s.type.forEach(a=>dh.call(this,i,s,a))),this}getKeyword(e){let t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(let n of t.rules){let s=n.rules.findIndex(i=>i.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,t){return typeof t=="string"&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+t+i)}$dataMetaSchema(e,t){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of t){let i=s.split("/").slice(1),a=e;for(let o of i)a=a[o];for(let o in n){let c=n[o];if(typeof c!="object")continue;let{$data:f}=c.definition,u=a[o];f&&u&&(a[o]=GS(u))}}return e}_removeAllSchemas(e,t){for(let n in e){let s=e[n];(!t||t.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,t,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let a,{schemaId:o}=this.opts;if(typeof e=="object")a=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;n=(0,xi.normalizeId)(a||n);let f=xi.getSchemaRefs.call(this,e,n);return c=new Ni.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:n,localRefs:f}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Ni.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{Ni.compileSchema.call(this,e)}finally{this.opts=t}}};er.default=Wo;Wo.ValidationError=Z2.default;Wo.MissingRefError=MS.default;function zS(r,e,t,n="error"){for(let s in r){let i=s;i in e&&this.logger[n](`${t}: option ${s}. ${r[i]}`)}}function BS(r){return r=(0,xi.normalizeId)(r),this.schemas[r]||this.refs[r]}function oM(){let r=this.opts.schemas;if(!!r)if(Array.isArray(r))this.addSchema(r);else for(let e in r)this.addSchema(r[e],e)}function lM(){for(let r in this.opts.formats){let e=this.opts.formats[r];e&&this.addFormat(r,e)}}function uM(r){if(Array.isArray(r)){this.addVocabulary(r);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in r){let t=r[e];t.keyword||(t.keyword=e),this.addKeyword(t)}}function cM(){let r={...this.opts};for(let e of tM)delete r[e];return r}var fM={log(){},warn(){},error(){}};function hM(r){if(r===!1)return fM;if(r===void 0)return console;if(r.log&&r.warn&&r.error)return r;throw new Error("logger must implement log, warn and error methods")}var dM=/^[a-z_$][a-z0-9_$:-]*$/i;function pM(r,e){let{RULES:t}=this;if((0,hh.eachItem)(r,n=>{if(t.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!dM.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function dh(r,e,t){var n;let s=e==null?void 0:e.post;if(t&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,a=s?i.post:i.rules.find(({type:c})=>c===t);if(a||(a={type:t,rules:[]},i.rules.push(a)),i.keywords[r]=!0,!e)return;let o={keyword:r,definition:{...e,type:(0,Jo.getJSONTypes)(e.type),schemaType:(0,Jo.getJSONTypes)(e.schemaType)}};e.before?mM.call(this,a,o,e.before):a.rules.push(o),i.all[r]=o,(n=e.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function mM(r,e,t){let n=r.rules.findIndex(s=>s.keyword===t);n>=0?r.rules.splice(n,0,e):(r.rules.push(e),this.logger.warn(`rule ${t} is not defined`))}function vM(r){let{metaSchema:e}=r;e!==void 0&&(r.$data&&this.opts.$data&&(e=GS(e)),r.validateSchema=this.compile(e,!0))}var gM={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function GS(r){return{anyOf:[r,gM]}}});var JS=b(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});var yM={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ph.default=yM});var XS=b($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.callRef=$s.getValidate=void 0;var bM=lh(),WS=zr(),wr=oe(),_n=Rt(),QS=fh(),Qo=ye(),EM={keyword:"$ref",schemaType:"string",code(r){let{gen:e,schema:t,it:n}=r,{baseId:s,schemaEnv:i,validateName:a,opts:o,self:c}=n,{root:f}=i;if((t==="#"||t==="#/")&&s===f.baseId)return h();let u=QS.resolveRef.call(c,f,s,t);if(u===void 0)throw new bM.default(s,t);if(u instanceof QS.SchemaEnv)return d(u);return l(u);function h(){if(i===f)return Yo(r,a,i,i.$async);let v=e.scopeValue("root",{ref:f});return Yo(r,(0,wr._)`${v}.validate`,f,f.$async)}function d(v){let m=YS(r,v);Yo(r,m,v,v.$async)}function l(v){let m=e.scopeValue("schema",o.code.source===!0?{ref:v,code:(0,wr.stringify)(v)}:{ref:v}),p=e.name("valid"),g=r.subschema({schema:v,dataTypes:[],schemaPath:wr.nil,topSchemaRef:m,errSchemaPath:t},p);r.mergeEvaluated(g),r.ok(p)}}};function YS(r,e){let{gen:t}=r;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,wr._)`${t.scopeValue("wrapper",{ref:e})}.validate`}$s.getValidate=YS;function Yo(r,e,t,n){let{gen:s,it:i}=r,{allErrors:a,schemaEnv:o,opts:c}=i,f=c.passContext?_n.default.this:wr.nil;n?u():h();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");let v=s.let("valid");s.try(()=>{s.code((0,wr._)`await ${(0,WS.callValidateCode)(r,e,f)}`),l(e),a||s.assign(v,!0)},m=>{s.if((0,wr._)`!(${m} instanceof ${i.ValidationError})`,()=>s.throw(m)),d(m),a||s.assign(v,!1)}),r.ok(v)}function h(){r.result((0,WS.callValidateCode)(r,e,f),()=>l(e),()=>d(e))}function d(v){let m=(0,wr._)`${v}.errors`;s.assign(_n.default.vErrors,(0,wr._)`${_n.default.vErrors} === null ? ${m} : ${_n.default.vErrors}.concat(${m})`),s.assign(_n.default.errors,(0,wr._)`${_n.default.vErrors}.length`)}function l(v){var m;if(!i.opts.unevaluated)return;let p=(m=t==null?void 0:t.validate)===null||m===void 0?void 0:m.evaluated;if(i.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(i.props=Qo.mergeEvaluated.props(s,p.props,i.props));else{let g=s.var("props",(0,wr._)`${v}.evaluated.props`);i.props=Qo.mergeEvaluated.props(s,g,i.props,wr.Name)}if(i.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(i.items=Qo.mergeEvaluated.items(s,p.items,i.items));else{let g=s.var("items",(0,wr._)`${v}.evaluated.items`);i.items=Qo.mergeEvaluated.items(s,g,i.items,wr.Name)}}}$s.callRef=Yo;$s.default=EM});var ZS=b(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});var wM=JS(),_M=XS(),SM=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",wM.default,_M.default];mh.default=SM});var eP=b(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});var Xo=oe(),Bt=Xo.operators,Zo={maximum:{okStr:"<=",ok:Bt.LTE,fail:Bt.GT},minimum:{okStr:">=",ok:Bt.GTE,fail:Bt.LT},exclusiveMaximum:{okStr:"<",ok:Bt.LT,fail:Bt.GTE},exclusiveMinimum:{okStr:">",ok:Bt.GT,fail:Bt.LTE}},PM={message:({keyword:r,schemaCode:e})=>(0,Xo.str)`must be ${Zo[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>(0,Xo._)`{comparison: ${Zo[r].okStr}, limit: ${e}}`},RM={keyword:Object.keys(Zo),type:"number",schemaType:"number",$data:!0,error:PM,code(r){let{keyword:e,data:t,schemaCode:n}=r;r.fail$data((0,Xo._)`${t} ${Zo[e].fail} ${n} || isNaN(${t})`)}};vh.default=RM});var rP=b(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});var ji=oe(),$M={message:({schemaCode:r})=>(0,ji.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,ji._)`{multipleOf: ${r}}`},OM={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:$M,code(r){let{gen:e,data:t,schemaCode:n,it:s}=r,i=s.opts.multipleOfPrecision,a=e.let("res"),o=i?(0,ji._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,ji._)`${a} !== parseInt(${a})`;r.fail$data((0,ji._)`(${n} === 0 || (${a} = ${t}/${n}, ${o}))`)}};gh.default=OM});var sP=b(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});function tP(r){let e=r.length,t=0,n=0,s;for(;n<e;)t++,s=r.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=r.charCodeAt(n),(s&64512)==56320&&n++);return t}yh.default=tP;tP.code='require("ajv/dist/runtime/ucs2length").default'});var nP=b(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});var Os=oe(),TM=ye(),IM=sP(),CM={message({keyword:r,schemaCode:e}){let t=r==="maxLength"?"more":"fewer";return(0,Os.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:r})=>(0,Os._)`{limit: ${r}}`},qM={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:CM,code(r){let{keyword:e,data:t,schemaCode:n,it:s}=r,i=e==="maxLength"?Os.operators.GT:Os.operators.LT,a=s.opts.unicode===!1?(0,Os._)`${t}.length`:(0,Os._)`${(0,TM.useFunc)(r.gen,IM.default)}(${t})`;r.fail$data((0,Os._)`${a} ${i} ${n}`)}};bh.default=qM});var iP=b(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});var AM=zr(),el=oe(),NM={message:({schemaCode:r})=>(0,el.str)`must match pattern "${r}"`,params:({schemaCode:r})=>(0,el._)`{pattern: ${r}}`},xM={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:NM,code(r){let{data:e,$data:t,schema:n,schemaCode:s,it:i}=r,a=i.opts.unicodeRegExp?"u":"",o=t?(0,el._)`(new RegExp(${s}, ${a}))`:(0,AM.usePattern)(r,n);r.fail$data((0,el._)`!${o}.test(${e})`)}};Eh.default=xM});var aP=b(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});var ki=oe(),jM={message({keyword:r,schemaCode:e}){let t=r==="maxProperties"?"more":"fewer";return(0,ki.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:r})=>(0,ki._)`{limit: ${r}}`},kM={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:jM,code(r){let{keyword:e,data:t,schemaCode:n}=r,s=e==="maxProperties"?ki.operators.GT:ki.operators.LT;r.fail$data((0,ki._)`Object.keys(${t}).length ${s} ${n}`)}};wh.default=kM});var oP=b(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});var Di=zr(),Fi=oe(),DM=ye(),FM={message:({params:{missingProperty:r}})=>(0,Fi.str)`must have required property '${r}'`,params:({params:{missingProperty:r}})=>(0,Fi._)`{missingProperty: ${r}}`},LM={keyword:"required",type:"object",schemaType:"array",$data:!0,error:FM,code(r){let{gen:e,schema:t,schemaCode:n,data:s,$data:i,it:a}=r,{opts:o}=a;if(!i&&t.length===0)return;let c=t.length>=o.loopRequired;if(a.allErrors?f():u(),o.strictRequired){let l=r.parentSchema.properties,{definedProperties:v}=r.it;for(let m of t)if((l==null?void 0:l[m])===void 0&&!v.has(m)){let p=a.schemaEnv.baseId+a.errSchemaPath,g=`required property "${m}" is not defined at "${p}" (strictRequired)`;(0,DM.checkStrictMode)(a,g,a.opts.strictRequired)}}function f(){if(c||i)r.block$data(Fi.nil,h);else for(let l of t)(0,Di.checkReportMissingProp)(r,l)}function u(){let l=e.let("missing");if(c||i){let v=e.let("valid",!0);r.block$data(v,()=>d(l,v)),r.ok(v)}else e.if((0,Di.checkMissingProp)(r,t,l)),(0,Di.reportMissingProp)(r,l),e.else()}function h(){e.forOf("prop",n,l=>{r.setParams({missingProperty:l}),e.if((0,Di.noPropertyInData)(e,s,l,o.ownProperties),()=>r.error())})}function d(l,v){r.setParams({missingProperty:l}),e.forOf(l,n,()=>{e.assign(v,(0,Di.propertyInData)(e,s,l,o.ownProperties)),e.if((0,Fi.not)(v),()=>{r.error(),e.break()})},Fi.nil)}}};_h.default=LM});var lP=b(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});var Li=oe(),MM={message({keyword:r,schemaCode:e}){let t=r==="maxItems"?"more":"fewer";return(0,Li.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:r})=>(0,Li._)`{limit: ${r}}`},HM={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:MM,code(r){let{keyword:e,data:t,schemaCode:n}=r,s=e==="maxItems"?Li.operators.GT:Li.operators.LT;r.fail$data((0,Li._)`${t}.length ${s} ${n}`)}};Sh.default=HM});var rl=b(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});var uP=Tt();uP.code='require("ajv/dist/runtime/equal").default';Ph.default=uP});var cP=b($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});var Rh=Oi(),rr=oe(),UM=ye(),VM=rl(),zM={message:({params:{i:r,j:e}})=>(0,rr.str)`must NOT have duplicate items (items ## ${e} and ${r} are identical)`,params:({params:{i:r,j:e}})=>(0,rr._)`{i: ${r}, j: ${e}}`},BM={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:zM,code(r){let{gen:e,data:t,$data:n,schema:s,parentSchema:i,schemaCode:a,it:o}=r;if(!n&&!s)return;let c=e.let("valid"),f=i.items?(0,Rh.getSchemaTypes)(i.items):[];r.block$data(c,u,(0,rr._)`${a} === false`),r.ok(c);function u(){let v=e.let("i",(0,rr._)`${t}.length`),m=e.let("j");r.setParams({i:v,j:m}),e.assign(c,!0),e.if((0,rr._)`${v} > 1`,()=>(h()?d:l)(v,m))}function h(){return f.length>0&&!f.some(v=>v==="object"||v==="array")}function d(v,m){let p=e.name("item"),g=(0,Rh.checkDataTypes)(f,p,o.opts.strictNumbers,Rh.DataType.Wrong),w=e.const("indices",(0,rr._)`{}`);e.for((0,rr._)`;${v}--;`,()=>{e.let(p,(0,rr._)`${t}[${v}]`),e.if(g,(0,rr._)`continue`),f.length>1&&e.if((0,rr._)`typeof ${p} == "string"`,(0,rr._)`${p} += "_"`),e.if((0,rr._)`typeof ${w}[${p}] == "number"`,()=>{e.assign(m,(0,rr._)`${w}[${p}]`),r.error(),e.assign(c,!1).break()}).code((0,rr._)`${w}[${p}] = ${v}`)})}function l(v,m){let p=(0,UM.useFunc)(e,VM.default),g=e.name("outer");e.label(g).for((0,rr._)`;${v}--;`,()=>e.for((0,rr._)`${m} = ${v}; ${m}--;`,()=>e.if((0,rr._)`${p}(${t}[${v}], ${t}[${m}])`,()=>{r.error(),e.assign(c,!1).break(g)})))}}};$h.default=BM});var fP=b(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});var Oh=oe(),GM=ye(),KM=rl(),JM={message:"must be equal to constant",params:({schemaCode:r})=>(0,Oh._)`{allowedValue: ${r}}`},WM={keyword:"const",$data:!0,error:JM,code(r){let{gen:e,data:t,$data:n,schemaCode:s,schema:i}=r;n||i&&typeof i=="object"?r.fail$data((0,Oh._)`!${(0,GM.useFunc)(e,KM.default)}(${t}, ${s})`):r.fail((0,Oh._)`${i} !== ${t}`)}};Th.default=WM});var hP=b(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});var Mi=oe(),QM=ye(),YM=rl(),XM={message:"must be equal to one of the allowed values",params:({schemaCode:r})=>(0,Mi._)`{allowedValues: ${r}}`},ZM={keyword:"enum",schemaType:"array",$data:!0,error:XM,code(r){let{gen:e,data:t,$data:n,schema:s,schemaCode:i,it:a}=r;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let o=s.length>=a.opts.loopEnum,c=(0,QM.useFunc)(e,YM.default),f;if(o||n)f=e.let("valid"),r.block$data(f,u);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let d=e.const("vSchema",i);f=(0,Mi.or)(...s.map((l,v)=>h(d,v)))}r.pass(f);function u(){e.assign(f,!1),e.forOf("v",i,d=>e.if((0,Mi._)`${c}(${t}, ${d})`,()=>e.assign(f,!0).break()))}function h(d,l){let v=s[l];return typeof v=="object"&&v!==null?(0,Mi._)`${c}(${t}, ${d}[${l}])`:(0,Mi._)`${t} === ${v}`}}};Ih.default=ZM});var dP=b(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});var eH=eP(),rH=rP(),tH=nP(),sH=iP(),nH=aP(),iH=oP(),aH=lP(),oH=cP(),lH=fP(),uH=hP(),cH=[eH.default,rH.default,tH.default,sH.default,nH.default,iH.default,aH.default,oH.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},lH.default,uH.default];Ch.default=cH});var Ah=b(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.validateAdditionalItems=void 0;var Ts=oe(),qh=ye(),fH={message:({params:{len:r}})=>(0,Ts.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,Ts._)`{limit: ${r}}`},hH={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:fH,code(r){let{parentSchema:e,it:t}=r,{items:n}=e;if(!Array.isArray(n)){(0,qh.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}pP(r,n)}};function pP(r,e){let{gen:t,schema:n,data:s,keyword:i,it:a}=r;a.items=!0;let o=t.const("len",(0,Ts._)`${s}.length`);if(n===!1)r.setParams({len:e.length}),r.pass((0,Ts._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,qh.alwaysValidSchema)(a,n)){let f=t.var("valid",(0,Ts._)`${o} <= ${e.length}`);t.if((0,Ts.not)(f),()=>c(f)),r.ok(f)}function c(f){t.forRange("i",e.length,o,u=>{r.subschema({keyword:i,dataProp:u,dataPropType:qh.Type.Num},f),a.allErrors||t.if((0,Ts.not)(f),()=>t.break())})}}Hi.validateAdditionalItems=pP;Hi.default=hH});var Nh=b(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.validateTuple=void 0;var mP=oe(),tl=ye(),dH=zr(),pH={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(r){let{schema:e,it:t}=r;if(Array.isArray(e))return vP(r,"additionalItems",e);t.items=!0,!(0,tl.alwaysValidSchema)(t,e)&&r.ok((0,dH.validateArray)(r))}};function vP(r,e,t=r.schema){let{gen:n,parentSchema:s,data:i,keyword:a,it:o}=r;u(s),o.opts.unevaluated&&t.length&&o.items!==!0&&(o.items=tl.mergeEvaluated.items(n,t.length,o.items));let c=n.name("valid"),f=n.const("len",(0,mP._)`${i}.length`);t.forEach((h,d)=>{(0,tl.alwaysValidSchema)(o,h)||(n.if((0,mP._)`${f} > ${d}`,()=>r.subschema({keyword:a,schemaProp:d,dataProp:d},c)),r.ok(c))});function u(h){let{opts:d,errSchemaPath:l}=o,v=t.length,m=v===h.minItems&&(v===h.maxItems||h[e]===!1);if(d.strictTuples&&!m){let p=`"${a}" is ${v}-tuple, but minItems or maxItems/${e} are not specified or different at path "${l}"`;(0,tl.checkStrictMode)(o,p,d.strictTuples)}}}Ui.validateTuple=vP;Ui.default=pH});var gP=b(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});var mH=Nh(),vH={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,mH.validateTuple)(r,"items")};xh.default=vH});var bP=b(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});var yP=oe(),gH=ye(),yH=zr(),bH=Ah(),EH={message:({params:{len:r}})=>(0,yP.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,yP._)`{limit: ${r}}`},wH={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:EH,code(r){let{schema:e,parentSchema:t,it:n}=r,{prefixItems:s}=t;n.items=!0,!(0,gH.alwaysValidSchema)(n,e)&&(s?(0,bH.validateAdditionalItems)(r,s):r.ok((0,yH.validateArray)(r)))}};jh.default=wH});var EP=b(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});var Gr=oe(),sl=ye(),_H={message:({params:{min:r,max:e}})=>e===void 0?(0,Gr.str)`must contain at least ${r} valid item(s)`:(0,Gr.str)`must contain at least ${r} and no more than ${e} valid item(s)`,params:({params:{min:r,max:e}})=>e===void 0?(0,Gr._)`{minContains: ${r}}`:(0,Gr._)`{minContains: ${r}, maxContains: ${e}}`},SH={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:_H,code(r){let{gen:e,schema:t,parentSchema:n,data:s,it:i}=r,a,o,{minContains:c,maxContains:f}=n;i.opts.next?(a=c===void 0?1:c,o=f):a=1;let u=e.const("len",(0,Gr._)`${s}.length`);if(r.setParams({min:a,max:o}),o===void 0&&a===0){(0,sl.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,sl.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),r.fail();return}if((0,sl.alwaysValidSchema)(i,t)){let m=(0,Gr._)`${u} >= ${a}`;o!==void 0&&(m=(0,Gr._)`${m} && ${u} <= ${o}`),r.pass(m);return}i.items=!0;let h=e.name("valid");o===void 0&&a===1?l(h,()=>e.if(h,()=>e.break())):a===0?(e.let(h,!0),o!==void 0&&e.if((0,Gr._)`${s}.length > 0`,d)):(e.let(h,!1),d()),r.result(h,()=>r.reset());function d(){let m=e.name("_valid"),p=e.let("count",0);l(m,()=>e.if(m,()=>v(p)))}function l(m,p){e.forRange("i",0,u,g=>{r.subschema({keyword:"contains",dataProp:g,dataPropType:sl.Type.Num,compositeRule:!0},m),p()})}function v(m){e.code((0,Gr._)`${m}++`),o===void 0?e.if((0,Gr._)`${m} >= ${a}`,()=>e.assign(h,!0).break()):(e.if((0,Gr._)`${m} > ${o}`,()=>e.assign(h,!1).break()),a===1?e.assign(h,!0):e.if((0,Gr._)`${m} >= ${a}`,()=>e.assign(h,!0)))}}};kh.default=SH});var SP=b(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.validateSchemaDeps=mt.validatePropertyDeps=mt.error=void 0;var Dh=oe(),PH=ye(),Vi=zr();mt.error={message:({params:{property:r,depsCount:e,deps:t}})=>{let n=e===1?"property":"properties";return(0,Dh.str)`must have ${n} ${t} when property ${r} is present`},params:({params:{property:r,depsCount:e,deps:t,missingProperty:n}})=>(0,Dh._)`{property: ${r},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${t}}`};var RH={keyword:"dependencies",type:"object",schemaType:"object",error:mt.error,code(r){let[e,t]=$H(r);wP(r,e),_P(r,t)}};function $H({schema:r}){let e={},t={};for(let n in r){if(n==="__proto__")continue;let s=Array.isArray(r[n])?e:t;s[n]=r[n]}return[e,t]}function wP(r,e=r.schema){let{gen:t,data:n,it:s}=r;if(Object.keys(e).length===0)return;let i=t.let("missing");for(let a in e){let o=e[a];if(o.length===0)continue;let c=(0,Vi.propertyInData)(t,n,a,s.opts.ownProperties);r.setParams({property:a,depsCount:o.length,deps:o.join(", ")}),s.allErrors?t.if(c,()=>{for(let f of o)(0,Vi.checkReportMissingProp)(r,f)}):(t.if((0,Dh._)`${c} && (${(0,Vi.checkMissingProp)(r,o,i)})`),(0,Vi.reportMissingProp)(r,i),t.else())}}mt.validatePropertyDeps=wP;function _P(r,e=r.schema){let{gen:t,data:n,keyword:s,it:i}=r,a=t.name("valid");for(let o in e)(0,PH.alwaysValidSchema)(i,e[o])||(t.if((0,Vi.propertyInData)(t,n,o,i.opts.ownProperties),()=>{let c=r.subschema({keyword:s,schemaProp:o},a);r.mergeValidEvaluated(c,a)},()=>t.var(a,!0)),r.ok(a))}mt.validateSchemaDeps=_P;mt.default=RH});var RP=b(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});var PP=oe(),OH=ye(),TH={message:"property name must be valid",params:({params:r})=>(0,PP._)`{propertyName: ${r.propertyName}}`},IH={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:TH,code(r){let{gen:e,schema:t,data:n,it:s}=r;if((0,OH.alwaysValidSchema)(s,t))return;let i=e.name("valid");e.forIn("key",n,a=>{r.setParams({propertyName:a}),r.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),e.if((0,PP.not)(i),()=>{r.error(!0),s.allErrors||e.break()})}),r.ok(i)}};Fh.default=IH});var Mh=b(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});var nl=zr(),Zr=oe(),CH=Rt(),il=ye(),qH={message:"must NOT have additional properties",params:({params:r})=>(0,Zr._)`{additionalProperty: ${r.additionalProperty}}`},AH={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:qH,code(r){let{gen:e,schema:t,parentSchema:n,data:s,errsCount:i,it:a}=r;if(!i)throw new Error("ajv implementation error");let{allErrors:o,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,il.alwaysValidSchema)(a,t))return;let f=(0,nl.allSchemaProperties)(n.properties),u=(0,nl.allSchemaProperties)(n.patternProperties);h(),r.ok((0,Zr._)`${i} === ${CH.default.errors}`);function h(){e.forIn("key",s,p=>{!f.length&&!u.length?v(p):e.if(d(p),()=>v(p))})}function d(p){let g;if(f.length>8){let w=(0,il.schemaRefOrVal)(a,n.properties,"properties");g=(0,nl.isOwnProperty)(e,w,p)}else f.length?g=(0,Zr.or)(...f.map(w=>(0,Zr._)`${p} === ${w}`)):g=Zr.nil;return u.length&&(g=(0,Zr.or)(g,...u.map(w=>(0,Zr._)`${(0,nl.usePattern)(r,w)}.test(${p})`))),(0,Zr.not)(g)}function l(p){e.code((0,Zr._)`delete ${s}[${p}]`)}function v(p){if(c.removeAdditional==="all"||c.removeAdditional&&t===!1){l(p);return}if(t===!1){r.setParams({additionalProperty:p}),r.error(),o||e.break();return}if(typeof t=="object"&&!(0,il.alwaysValidSchema)(a,t)){let g=e.name("valid");c.removeAdditional==="failing"?(m(p,g,!1),e.if((0,Zr.not)(g),()=>{r.reset(),l(p)})):(m(p,g),o||e.if((0,Zr.not)(g),()=>e.break()))}}function m(p,g,w){let R={keyword:"additionalProperties",dataProp:p,dataPropType:il.Type.Str};w===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),r.subschema(R,g)}}};Lh.default=AH});var TP=b(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});var NH=qi(),$P=zr(),Hh=ye(),OP=Mh(),xH={keyword:"properties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,parentSchema:n,data:s,it:i}=r;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&OP.default.code(new NH.KeywordCxt(i,OP.default,"additionalProperties"));let a=(0,$P.allSchemaProperties)(t);for(let h of a)i.definedProperties.add(h);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=Hh.mergeEvaluated.props(e,(0,Hh.toHash)(a),i.props));let o=a.filter(h=>!(0,Hh.alwaysValidSchema)(i,t[h]));if(o.length===0)return;let c=e.name("valid");for(let h of o)f(h)?u(h):(e.if((0,$P.propertyInData)(e,s,h,i.opts.ownProperties)),u(h),i.allErrors||e.else().var(c,!0),e.endIf()),r.it.definedProperties.add(h),r.ok(c);function f(h){return i.opts.useDefaults&&!i.compositeRule&&t[h].default!==void 0}function u(h){r.subschema({keyword:"properties",schemaProp:h,dataProp:h},c)}}};Uh.default=xH});var AP=b(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});var IP=zr(),al=oe(),CP=ye(),qP=ye(),jH={keyword:"patternProperties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,data:n,parentSchema:s,it:i}=r,{opts:a}=i,o=(0,IP.allSchemaProperties)(t),c=o.filter(m=>(0,CP.alwaysValidSchema)(i,t[m]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;let f=a.strictSchema&&!a.allowMatchingProperties&&s.properties,u=e.name("valid");i.props!==!0&&!(i.props instanceof al.Name)&&(i.props=(0,qP.evaluatedPropsToName)(e,i.props));let{props:h}=i;d();function d(){for(let m of o)f&&l(m),i.allErrors?v(m):(e.var(u,!0),v(m),e.if(u))}function l(m){for(let p in f)new RegExp(m).test(p)&&(0,CP.checkStrictMode)(i,`property ${p} matches pattern ${m} (use allowMatchingProperties)`)}function v(m){e.forIn("key",n,p=>{e.if((0,al._)`${(0,IP.usePattern)(r,m)}.test(${p})`,()=>{let g=c.includes(m);g||r.subschema({keyword:"patternProperties",schemaProp:m,dataProp:p,dataPropType:qP.Type.Str},u),i.opts.unevaluated&&h!==!0?e.assign((0,al._)`${h}[${p}]`,!0):!g&&!i.allErrors&&e.if((0,al.not)(u),()=>e.break())})})}}};Vh.default=jH});var NP=b(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});var kH=ye(),DH={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){let{gen:e,schema:t,it:n}=r;if((0,kH.alwaysValidSchema)(n,t)){r.fail();return}let s=e.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),r.failResult(s,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};zh.default=DH});var xP=b(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});var FH=zr(),LH={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:FH.validateUnion,error:{message:"must match a schema in anyOf"}};Bh.default=LH});var jP=b(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});var ol=oe(),MH=ye(),HH={message:"must match exactly one schema in oneOf",params:({params:r})=>(0,ol._)`{passingSchemas: ${r.passing}}`},UH={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:HH,code(r){let{gen:e,schema:t,parentSchema:n,it:s}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=t,a=e.let("valid",!1),o=e.let("passing",null),c=e.name("_valid");r.setParams({passing:o}),e.block(f),r.result(a,()=>r.reset(),()=>r.error(!0));function f(){i.forEach((u,h)=>{let d;(0,MH.alwaysValidSchema)(s,u)?e.var(c,!0):d=r.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},c),h>0&&e.if((0,ol._)`${c} && ${a}`).assign(a,!1).assign(o,(0,ol._)`[${o}, ${h}]`).else(),e.if(c,()=>{e.assign(a,!0),e.assign(o,h),d&&r.mergeEvaluated(d,ol.Name)})})}}};Gh.default=UH});var kP=b(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});var VH=ye(),zH={keyword:"allOf",schemaType:"array",code(r){let{gen:e,schema:t,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");let s=e.name("valid");t.forEach((i,a)=>{if((0,VH.alwaysValidSchema)(n,i))return;let o=r.subschema({keyword:"allOf",schemaProp:a},s);r.ok(s),r.mergeEvaluated(o)})}};Kh.default=zH});var LP=b(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});var ll=oe(),DP=ye(),BH={message:({params:r})=>(0,ll.str)`must match "${r.ifClause}" schema`,params:({params:r})=>(0,ll._)`{failingKeyword: ${r.ifClause}}`},GH={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:BH,code(r){let{gen:e,parentSchema:t,it:n}=r;t.then===void 0&&t.else===void 0&&(0,DP.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=FP(n,"then"),i=FP(n,"else");if(!s&&!i)return;let a=e.let("valid",!0),o=e.name("_valid");if(c(),r.reset(),s&&i){let u=e.let("ifClause");r.setParams({ifClause:u}),e.if(o,f("then",u),f("else",u))}else s?e.if(o,f("then")):e.if((0,ll.not)(o),f("else"));r.pass(a,()=>r.error(!0));function c(){let u=r.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);r.mergeEvaluated(u)}function f(u,h){return()=>{let d=r.subschema({keyword:u},o);e.assign(a,o),r.mergeValidEvaluated(d,a),h?e.assign(h,(0,ll._)`${u}`):r.setParams({ifClause:u})}}}};function FP(r,e){let t=r.schema[e];return t!==void 0&&!(0,DP.alwaysValidSchema)(r,t)}Jh.default=GH});var MP=b(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});var KH=ye(),JH={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:e,it:t}){e.if===void 0&&(0,KH.checkStrictMode)(t,`"${r}" without "if" is ignored`)}};Wh.default=JH});var HP=b(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});var WH=Ah(),QH=gP(),YH=Nh(),XH=bP(),ZH=EP(),e4=SP(),r4=RP(),t4=Mh(),s4=TP(),n4=AP(),i4=NP(),a4=xP(),o4=jP(),l4=kP(),u4=LP(),c4=MP();function f4(r=!1){let e=[i4.default,a4.default,o4.default,l4.default,u4.default,c4.default,r4.default,t4.default,e4.default,s4.default,n4.default];return r?e.push(QH.default,XH.default):e.push(WH.default,YH.default),e.push(ZH.default),e}Qh.default=f4});var UP=b(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});var Le=oe(),h4={message:({schemaCode:r})=>(0,Le.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,Le._)`{format: ${r}}`},d4={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:h4,code(r,e){let{gen:t,data:n,$data:s,schema:i,schemaCode:a,it:o}=r,{opts:c,errSchemaPath:f,schemaEnv:u,self:h}=o;if(!c.validateFormats)return;s?d():l();function d(){let v=t.scopeValue("formats",{ref:h.formats,code:c.code.formats}),m=t.const("fDef",(0,Le._)`${v}[${a}]`),p=t.let("fType"),g=t.let("format");t.if((0,Le._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>t.assign(p,(0,Le._)`${m}.type || "string"`).assign(g,(0,Le._)`${m}.validate`),()=>t.assign(p,(0,Le._)`"string"`).assign(g,m)),r.fail$data((0,Le.or)(w(),R()));function w(){return c.strictSchema===!1?Le.nil:(0,Le._)`${a} && !${g}`}function R(){let _=u.$async?(0,Le._)`(${m}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,Le._)`${g}(${n})`,y=(0,Le._)`(typeof ${g} == "function" ? ${_} : ${g}.test(${n}))`;return(0,Le._)`${g} && ${g} !== true && ${p} === ${e} && !${y}`}}function l(){let v=h.formats[i];if(!v){w();return}if(v===!0)return;let[m,p,g]=R(v);m===e&&r.pass(_());function w(){if(c.strictSchema===!1){h.logger.warn(y());return}throw new Error(y());function y(){return`unknown format "${i}" ignored in schema at path "${f}"`}}function R(y){let O=y instanceof RegExp?(0,Le.regexpCode)(y):c.code.formats?(0,Le._)`${c.code.formats}${(0,Le.getProperty)(i)}`:void 0,$=t.scopeValue("formats",{key:i,ref:y,code:O});return typeof y=="object"&&!(y instanceof RegExp)?[y.type||"string",y.validate,(0,Le._)`${$}.validate`]:["string",y,$]}function _(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Le._)`await ${g}(${n})`}return typeof p=="function"?(0,Le._)`${g}(${n})`:(0,Le._)`${g}.test(${n})`}}}};Yh.default=d4});var VP=b(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});var p4=UP(),m4=[p4.default];Xh.default=m4});var zP=b(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.contentVocabulary=Sn.metadataVocabulary=void 0;Sn.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Sn.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var GP=b(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});var v4=ZS(),g4=dP(),y4=HP(),b4=VP(),BP=zP(),E4=[v4.default,g4.default,(0,y4.default)(),b4.default,BP.metadataVocabulary,BP.contentVocabulary];Zh.default=E4});var KP=b(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.DiscrError=void 0;var w4;(function(r){r.Tag="tag",r.Mapping="mapping"})(w4=zi.DiscrError||(zi.DiscrError={}))});var JP=b(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});var Pn=oe(),ed=KP(),_4={message:({params:{discrError:r,tagName:e}})=>r===ed.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:r,tag:e,tagName:t}})=>(0,Pn._)`{error: ${r}, tag: ${t}, tagValue: ${e}}`},S4={keyword:"discriminator",type:"object",schemaType:"object",error:_4,code(r){let{gen:e,data:t,schema:n,parentSchema:s,it:i}=r,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),f=e.const("tag",(0,Pn._)`${t}${(0,Pn.getProperty)(o)}`);e.if((0,Pn._)`typeof ${f} == "string"`,()=>u(),()=>r.error(!1,{discrError:ed.DiscrError.Tag,tag:f,tagName:o})),r.ok(c);function u(){let l=d();e.if(!1);for(let v in l)e.elseIf((0,Pn._)`${f} === ${v}`),e.assign(c,h(l[v]));e.else(),r.error(!1,{discrError:ed.DiscrError.Mapping,tag:f,tagName:o}),e.endIf()}function h(l){let v=e.name("valid"),m=r.subschema({keyword:"oneOf",schemaProp:l},v);return r.mergeEvaluated(m,Pn.Name),v}function d(){var l;let v={},m=g(s),p=!0;for(let _=0;_<a.length;_++){let y=a[_],O=(l=y.properties)===null||l===void 0?void 0:l[o];if(typeof O!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${o}"`);p=p&&(m||g(y)),w(O,_)}if(!p)throw new Error(`discriminator: "${o}" must be required`);return v;function g({required:_}){return Array.isArray(_)&&_.includes(o)}function w(_,y){if(_.const)R(_.const,y);else if(_.enum)for(let O of _.enum)R(O,y);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function R(_,y){if(typeof _!="string"||_ in v)throw new Error(`discriminator: "${o}" values must be unique strings`);v[_]=y}}}};rd.default=S4});var WP=b((AB,P4)=>{P4.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var XP=b((Ve,YP)=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.CodeGen=Ve.Name=Ve.nil=Ve.stringify=Ve.str=Ve._=Ve.KeywordCxt=void 0;var R4=KS(),$4=GP(),O4=JP(),QP=WP(),T4=["/properties"],ul="http://json-schema.org/draft-07/schema",td=class extends R4.default{_addVocabularies(){super._addVocabularies(),$4.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(O4.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(QP,T4):QP;this.addMetaSchema(e,ul,!1),this.refs["http://json-schema.org/schema"]=ul}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(ul)?ul:void 0)}};YP.exports=Ve=td;Object.defineProperty(Ve,"__esModule",{value:!0});Ve.default=td;var I4=qi();Object.defineProperty(Ve,"KeywordCxt",{enumerable:!0,get:function(){return I4.KeywordCxt}});var Rn=oe();Object.defineProperty(Ve,"_",{enumerable:!0,get:function(){return Rn._}});Object.defineProperty(Ve,"str",{enumerable:!0,get:function(){return Rn.str}});Object.defineProperty(Ve,"stringify",{enumerable:!0,get:function(){return Rn.stringify}});Object.defineProperty(Ve,"nil",{enumerable:!0,get:function(){return Rn.nil}});Object.defineProperty(Ve,"Name",{enumerable:!0,get:function(){return Rn.Name}});Object.defineProperty(Ve,"CodeGen",{enumerable:!0,get:function(){return Rn.CodeGen}})});var ZP=b(sd=>{"use strict";sd.parse=N4;sd.serialize=x4;var C4=decodeURIComponent,q4=encodeURIComponent,A4=/; */,cl=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function N4(r,e){if(typeof r!="string")throw new TypeError("argument str must be a string");for(var t={},n=e||{},s=r.split(A4),i=n.decode||C4,a=0;a<s.length;a++){var o=s[a],c=o.indexOf("=");if(!(c<0)){var f=o.substr(0,c).trim(),u=o.substr(++c,o.length).trim();u[0]=='"'&&(u=u.slice(1,-1)),t[f]==null&&(t[f]=j4(u,i))}}return t}function x4(r,e,t){var n=t||{},s=n.encode||q4;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!cl.test(r))throw new TypeError("argument name is invalid");var i=s(e);if(i&&!cl.test(i))throw new TypeError("argument val is invalid");var a=r+"="+i;if(n.maxAge!=null){var o=n.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(n.domain){if(!cl.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!cl.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var c=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function j4(r,e){try{return e(r)}catch{return r}}});var rR=b((xB,eR)=>{"use strict";var{format:nd}=require("util");function k4(){let r={},e=new Map;function t(s,i,a){if(!s)throw new Error("Fastify warning name must not be empty");if(!i)throw new Error("Fastify warning code must not be empty");if(!a)throw new Error("Fastify warning message must not be empty");if(i=i.toUpperCase(),r[i]!==void 0)throw new Error(`The code '${i}' already exist`);function o(c,f,u){let h;return c&&f&&u?h=nd(a,c,f,u):c&&f?h=nd(a,c,f):c?h=nd(a,c):h=a,{code:i,name:s,message:h}}return e.set(i,!1),r[i]=o,r[i]}function n(s,i,a,o){if(r[s]===void 0)throw new Error(`The code '${s}' does not exist`);if(e.get(s)===!0)return;e.set(s,!0);let c=r[s](i,a,o);process.emitWarning(c.message,c.name,c.code)}return{create:t,emit:n,emitted:e}}eR.exports=k4});var nR=b((jB,sR)=>{"use strict";var{URL:tR}=require("url"),id="http://localhost";sR.exports=function(e,t){(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]")&&e.startsWith("//")&&(e=id+e);let n=typeof e=="object"?Object.assign(new tR(id),e):new tR(e,id),s=Object.assign({},e.query,t);for(let i in s){let a=s[i];if(Array.isArray(a)){n.searchParams.delete(i);for(let o of a)n.searchParams.append(i,o)}else n.searchParams.set(i,a)}return n}});var uR=b((kB,lR)=>{"use strict";var{Readable:iR}=require("stream"),D4=require("util"),F4=ZP(),L4=require("assert"),aR=rR()(),M4=nR(),{EventEmitter:H4}=require("events");aR.create("FastifyDeprecationLightMyRequest","FST_LIGHTMYREQUEST_DEP01",'You are accessing "request.connection", use "request.socket" instead.');function U4(r){return r.port?r.host:r.hostname+(r.protocol==="https:"?":443":":80")}var oR=class extends H4{constructor(e){super();this.remoteAddress=e}};function Bi(r){iR.call(this,{autoDestroy:!1});let e=M4(r.url||r.path,r.query);this.url=e.pathname+e.search,this.httpVersion="1.1",this.method=r.method?r.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let t=r.headers||{};for(let i in t){let a=t[i];L4(a!==void 0,'invalid value "undefined" for header '+i),this.headers[i.toLowerCase()]=""+a}if(this.headers["user-agent"]=this.headers["user-agent"]||"lightMyRequest",this.headers.host=this.headers.host||r.authority||U4(e),r.cookies){let{cookies:i}=r,a=Object.keys(i).map(o=>F4.serialize(o,i[o]));this.headers.cookie&&a.unshift(this.headers.cookie),this.headers.cookie=a.join("; ")}this.socket=new oR(r.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return aR.emit("FST_LIGHTMYREQUEST_DEP01"),this.socket},configurable:!0});let n=r.payload||r.body||null,s=n&&typeof n.resume=="function";n&&typeof n!="string"&&!s&&!Buffer.isBuffer(n)&&(n=JSON.stringify(n),this.headers["content-type"]=this.headers["content-type"]||"application/json"),n&&!s&&!this.headers.hasOwnProperty("content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(n)?n.length:Buffer.byteLength(n)).toString());for(let i of Object.keys(this.headers))this.rawHeaders.push(i,this.headers[i]);return this._lightMyRequest={payload:n,isDone:!1,simulate:r.simulate||{}},this}D4.inherits(Bi,iR);Bi.prototype.prepare=function(r){let e=this._lightMyRequest.payload;if(!e||typeof e.resume!="function")return r();let t=[];e.on("data",n=>t.push(Buffer.from(n))),e.on("end",()=>{let n=Buffer.concat(t);return this.headers["content-length"]=this.headers["content-length"]||""+n.length,this._lightMyRequest.payload=n,r()}),e.resume()};Bi.prototype._read=function(r){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})};Bi.prototype.destroy=function(r){this.destroyed||(this.destroyed=!0,r&&(this._error=!0,process.nextTick(()=>this.emit("error",r))),process.nextTick(()=>this.emit("close")))};lR.exports=Bi});var fR=b((DB,Gi)=>{"use strict";var $n={decodeValues:!0,map:!1,silent:!1};function ad(r){return typeof r=="string"&&!!r.trim()}function od(r,e){var t=r.split(";").filter(ad),n=t.shift().split("="),s=n.shift(),i=n.join("=");e=e?Object.assign({},$n,e):$n;try{i=e.decodeValues?decodeURIComponent(i):i}catch(o){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+i+"'. Set options.decodeValues to false to disable this feature.",o)}var a={name:s,value:i};return t.forEach(function(o){var c=o.split("="),f=c.shift().trimLeft().toLowerCase(),u=c.join("=");f==="expires"?a.expires=new Date(u):f==="max-age"?a.maxAge=parseInt(u,10):f==="secure"?a.secure=!0:f==="httponly"?a.httpOnly=!0:f==="samesite"?a.sameSite=u:a[f]=u}),a}function cR(r,e){if(e=e?Object.assign({},$n,e):$n,!r)return e.map?{}:[];if(r.headers&&r.headers["set-cookie"])r=r.headers["set-cookie"];else if(r.headers){var t=r.headers[Object.keys(r.headers).find(function(s){return s.toLowerCase()==="set-cookie"})];!t&&r.headers.cookie&&!e.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),r=t}if(Array.isArray(r)||(r=[r]),e=e?Object.assign({},$n,e):$n,e.map){var n={};return r.filter(ad).reduce(function(s,i){var a=od(i,e);return s[a.name]=a,s},n)}else return r.filter(ad).map(function(s){return od(s,e)})}function V4(r){if(Array.isArray(r))return r;if(typeof r!="string")return[];var e=[],t=0,n,s,i,a,o;function c(){for(;t<r.length&&/\s/.test(r.charAt(t));)t+=1;return t<r.length}function f(){return s=r.charAt(t),s!=="="&&s!==";"&&s!==","}for(;t<r.length;){for(n=t,o=!1;c();)if(s=r.charAt(t),s===","){for(i=t,t+=1,c(),a=t;t<r.length&&f();)t+=1;t<r.length&&r.charAt(t)==="="?(o=!0,t=a,e.push(r.substring(n,i)),n=t):t=i+1}else t+=1;(!o||t>=r.length)&&e.push(r.substring(n,r.length))}return e}Gi.exports=cR;Gi.exports.parse=cR;Gi.exports.parseString=od;Gi.exports.splitCookiesString=V4});var pR=b((FB,dR)=>{"use strict";var Ki=require("http"),{Writable:z4}=require("stream"),B4=require("util"),G4=fR();function Gt(r,e,t){Ki.ServerResponse.call(this,{method:r.method,httpVersionMajor:1,httpVersionMinor:1}),this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]},this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(J4()),this._promiseCallback=typeof t=="function";let n=!1,s=a=>{if(n=!0,this._promiseCallback)return process.nextTick(()=>e(a));process.nextTick(()=>e(null,a))},i=a=>{if(!n){if(n=!0,this._promiseCallback)return process.nextTick(()=>t(a));process.nextTick(()=>e(a,null))}};this.once("finish",()=>{let a=K4(this);a.raw.req=r,s(a)}),this.connection.once("error",i),this.once("error",i),this.once("close",i)}B4.inherits(Gt,Ki.ServerResponse);Gt.prototype.setTimeout=function(r,e){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},r),this.on("timeout",e),this};Gt.prototype.writeHead=function(){let r=Ki.ServerResponse.prototype.writeHead.apply(this,arguments);return hR(this),r};Gt.prototype.write=function(r,e,t){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),Ki.ServerResponse.prototype.write.call(this,r,e,t),this._lightMyRequest.payloadChunks.push(Buffer.from(r,e)),!0};Gt.prototype.end=function(r,e,t){r&&this.write(r,e),Ki.ServerResponse.prototype.end.call(this,t),this.emit("finish"),this.destroy()};Gt.prototype.destroy=function(r){this.destroyed||(this.destroyed=!0,r&&process.nextTick(()=>this.emit("error",r)),process.nextTick(()=>this.emit("close")))};Gt.prototype.addTrailers=function(r){for(let e in r)this._lightMyRequest.trailers[e.toLowerCase().trim()]=r[e].toString().trim()};function K4(r){r._lightMyRequest.headers===null&&hR(r);let e={raw:{res:r},headers:r._lightMyRequest.headers,statusCode:r.statusCode,statusMessage:r.statusMessage,trailers:{},get cookies(){return G4.parse(this)}},t=Buffer.concat(r._lightMyRequest.payloadChunks);return e.rawPayload=t,e.payload=t.toString(),e.body=e.payload,e.trailers=r._lightMyRequest.trailers,e.json=function(){if(e.headers["content-type"].indexOf("application/json")<0)throw new Error("The content-type of the response is not application/json");return JSON.parse(this.payload)},e}function J4(){return new z4({write(r,e,t){setImmediate(t)}})}function hR(r){r._lightMyRequest.headers=Object.assign({},r.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(e=>{let t=new RegExp("\\r\\n"+e+": ([^\\r]*)\\r\\n"),n=r._header.match(t);n&&(r._lightMyRequest.headers[e.toLowerCase()]=n[1])})}dR.exports=Gt});var ER=b((LB,dl)=>{"use strict";var W4=require("assert"),mR=require("http"),Q4=XP(),ld=uR(),ud=pR(),fl="The dispatch function has already been invoked",vR={oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},Y4=new Q4,X4={type:"object",properties:{url:vR,path:vR,cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{type:"object",additionalProperties:!0},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:mR.METHODS.concat(mR.METHODS.map(t3))},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]},gR=Y4.compile(X4);function yR(r,e,t){return typeof t=="undefined"?new Ji(r,e):hl(r,e,t)}function bR(r,e,t,n){return t.once("error",function(s){this.destroyed&&n.destroy(s)}),t.once("close",function(){this.destroyed&&!this._error&&n.destroy()}),t.prepare(()=>r.call(e,t,n))}function hl(r,e,t){if(e=typeof e=="string"?{url:e}:e,e.validate!==!1&&(W4(typeof r=="function","dispatchFunc should be a function"),!gR(e)))throw new Error(gR.errors.map(i=>i.message));let n=e.server||{};if(typeof t=="function"){let s=new ld(e),i=new ud(s,t);return bR(r,n,s,i)}else return new Promise((s,i)=>{let a=new ld(e),o=new ud(a,s,i);bR(r,n,a,o)})}function Ji(r,e){typeof e=="string"?this.option={url:e}:this.option=Object.assign({},e),this.dispatch=r,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var Z4=["delete","get","head","options","patch","post","put","trace"];Z4.forEach(r=>{Ji.prototype[r]=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(fl);return this.option.url=e,this.option.method=r.toUpperCase(),this}});var e3=["body","cookies","headers","payload","query"];e3.forEach(r=>{Ji.prototype[r]=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(fl);return this.option[r]=e,this}});Ji.prototype.end=function(r){if(this._hasInvoked===!0||this._promise)throw new Error(fl);if(this._hasInvoked=!0,typeof r=="function")hl(this.dispatch,this.option,r);else return this._promise=hl(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(r=>{r!=="constructor"&&(Ji.prototype[r]=function(...e){if(!this._promise){if(this._hasInvoked===!0)throw new Error(fl);this._hasInvoked=!0,this._promise=hl(this.dispatch,this.option)}return this._promise[r](...e)})});function r3(r){return r instanceof ld||r instanceof ud}function t3(r){return r.toLowerCase()}dl.exports=yR;dl.exports.inject=yR;dl.exports.isInjection=r3});var TR=b((MB,gl)=>{"use strict";var s3="3.25.3",n3=Rp(),i3=require("http"),a3=require("querystring"),Wi,{kAvvioBoot:pl,kChildren:cd,kBodyLimit:o3,kRoutePrefix:wR,kLogLevel:l3,kLogSerializers:u3,kHooks:Qi,kSchemaController:Kt,kReplySerializerDefault:_R,kContentTypeParser:c3,kReply:SR,kRequest:PR,kFourOhFour:f3,kState:Jt,kOptions:h3,kPluginNameChain:ml,kSchemaErrorFormatter:fd,kErrorHandler:hd}=nr(),{createServer:d3}=jp(),vl=no(),dd=So(),p3=["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS"],On=Yc(),Is=tf(),RR=af(),{Hooks:m3,hookRunnerApplication:v3,supportedHooks:pd}=os(),{createLogger:g3}=Rc(),y3=ff(),b3=dw(),{buildRouting:E3,validateBodyLimitOption:w3}=d_(),_3=m_(),$R=y_(),S3=R_(),P3=ds(),{defaultInitOptions:et}=$R,{FST_ERR_BAD_URL:R3,FST_ERR_MISSING_MIDDLEWARE:$3}=$r(),O3={config:{},onSend:[],onError:[]};function T3(r){let e={};return["errorHandler","logLevel","logSerializers"].concat(pd).forEach(n=>{e[n]=r.store[n]}),Object.assign({},e)}function I3(r,e,t){t.statusCode<500?t.log.info({res:t,err:r},r&&r.message):t.log.error({req:e,res:t,err:r},r&&r.message),t.send(r)}function md(r){if(r=r||{},typeof r!="object")throw new TypeError("Options must be an object");if(r.querystringParser&&typeof r.querystringParser!="function")throw new Error(`querystringParser option should be a function, instead got '${typeof r.querystringParser}'`);if(r.schemaController&&r.schemaController.bucket&&typeof r.schemaController.bucket!="function")throw new Error(`schemaController.bucket option should be a function, instead got '${typeof r.schemaController.bucket}'`);w3(r.bodyLimit);let e=r.requestIdHeader||et.requestIdHeader,t=r.querystringParser||a3.parse,n=r.genReqId||b3(),s=r.requestIdLogLabel||"reqId",i=r.bodyLimit||et.bodyLimit,a=r.disableRequestLogging||!1,o=r.exposeHeadRoutes!=null?r.exposeHeadRoutes:!1,c=Object.assign({customOptions:{},plugins:[]},r.ajv),f=r.frameworkErrors;if(!c.customOptions||Object.prototype.toString.call(c.customOptions)!=="[object Object]")throw new Error(`ajv.customOptions option should be an object, instead got '${typeof c.customOptions}'`);if(!c.plugins||!Array.isArray(c.plugins))throw new Error(`ajv.plugins option should be an array, instead got '${typeof c.plugins}'`);let{logger:u,hasLogger:h}=g3(r);r.connectionTimeout=r.connectionTimeout||et.connectionTimeout,r.keepAliveTimeout=r.keepAliveTimeout||et.keepAliveTimeout,r.maxRequestsPerSocket=r.maxRequestsPerSocket||et.maxRequestsPerSocket,r.requestTimeout=r.requestTimeout||et.requestTimeout,r.logger=u,r.genReqId=n,r.requestIdHeader=e,r.querystringParser=t,r.requestIdLogLabel=s,r.disableRequestLogging=a,r.ajv=c,r.clientErrorHandler=r.clientErrorHandler||j,r.exposeHeadRoutes=o;let d=$R(r),l=r.constraints;r.versioning&&(P3.emit("FSTDEP009"),l={...l,version:{name:"version",mustMatchWhenDerived:!0,storage:r.versioning.storage,deriveConstraint:r.versioning.deriveVersion,validate(A){if(typeof A!="string")throw new Error("Version constraint should be a string.")}}});let v=E3({config:{defaultRoute:q,onBadUrl:L,constraints:l,ignoreTrailingSlash:r.ignoreTrailingSlash||et.ignoreTrailingSlash,maxParamLength:r.maxParamLength||et.maxParamLength,caseSensitive:r.caseSensitive,buildPrettyMeta:T3}}),m=_3(r),p=C3(v.routing,r);r.http2SessionTimeout=d.http2SessionTimeout;let{server:g,listen:w}=d3(r,p),R=vl.setupResponseListeners,_=RR.buildSchemaController(null,r.schemaController),y={[Jt]:{listening:!1,closing:!1,started:!1},[h3]:r,[cd]:[],[o3]:i,[wR]:"",[l3]:"",[u3]:null,[Qi]:new m3,[Kt]:_,[fd]:null,[hd]:I3,[_R]:null,[c3]:new Is(i,r.onProtoPoisoning||et.onProtoPoisoning,r.onConstructorPoisoning||et.onConstructorPoisoning),[SR]:vl.buildReply(vl),[PR]:dd.buildRequest(dd,r.trustProxy),[f3]:m,[y3.registeredPlugins]:[],[ml]:[],[pl]:null,routing:p,getDefaultRoute:v.getDefaultRoute.bind(v),setDefaultRoute:v.setDefaultRoute.bind(v),delete:function(F,V,Z){return v.prepareRoute.call(this,"DELETE",F,V,Z)},get:function(F,V,Z){return v.prepareRoute.call(this,"GET",F,V,Z)},head:function(F,V,Z){return v.prepareRoute.call(this,"HEAD",F,V,Z)},patch:function(F,V,Z){return v.prepareRoute.call(this,"PATCH",F,V,Z)},post:function(F,V,Z){return v.prepareRoute.call(this,"POST",F,V,Z)},put:function(F,V,Z){return v.prepareRoute.call(this,"PUT",F,V,Z)},options:function(F,V,Z){return v.prepareRoute.call(this,"OPTIONS",F,V,Z)},all:function(F,V,Z){return v.prepareRoute.call(this,p3,F,V,Z)},route:function(F){return v.route.call(this,F)},log:u,addHook:x,addSchema:k,getSchema:_.getSchema.bind(_),getSchemas:_.getSchemas.bind(_),setValidatorCompiler:Q,setSerializerCompiler:X,setSchemaController:U,setReplySerializer:B,setSchemaErrorFormatter:H,addContentTypeParser:Is.helpers.addContentTypeParser,hasContentTypeParser:Is.helpers.hasContentTypeParser,getDefaultJsonParser:Is.defaultParsers.getDefaultJsonParser,defaultTextParser:Is.defaultParsers.defaultTextParser,removeContentTypeParser:Is.helpers.removeContentTypeParser,removeAllContentTypeParsers:Is.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,listen:w,server:g,decorate:On.add,hasDecorator:On.exist,decorateReply:On.decorateReply,decorateRequest:On.decorateRequest,hasRequestDecorator:On.existRequest,hasReplyDecorator:On.existReply,inject:D,printRoutes:ee,setNotFoundHandler:Y,setErrorHandler:J,initialConfig:d};y[SR].prototype.server=y,y[PR].prototype.server=y,Object.defineProperties(y,{pluginName:{get(){return this[ml].length>1?this[ml].join(" -> "):this[ml][0]}},prefix:{get(){return this[wR]}},validatorCompiler:{get(){return this[Kt].getValidatorCompiler()}},serializerCompiler:{get(){return this[Kt].getSerializerCompiler()}},version:{get(){return s3}},errorHandler:{get(){return this[hd]}}}),Object.setPrototypeOf(y,{use:N}),r.schemaErrorFormatter&&(OR(r.schemaErrorFormatter),y[fd]=r.schemaErrorFormatter.bind(y));let O=n3(y,{autostart:!1,timeout:Number(r.pluginTimeout)||et.pluginTimeout,expose:{use:"register"}});O.override=S3,O.on("start",()=>y[Jt].started=!0),y[pl]=y.ready,y.ready=C,y.printPlugins=O.prettyPrint.bind(O),O.once("preReady",()=>{y.onClose((A,F)=>{y[Jt].closing=!0,v.closeRoutes(),y[Jt].listening?A.server.close(F):F(null)})}),y.setNotFoundHandler(),m.arrange404(y),v.setup(r,{avvio:O,fourOhFour:m,logger:u,hasLogger:h,setupResponseListeners:R,throwIfAlreadyStarted:$}),g.on("clientError",r.clientErrorHandler.bind(y));try{let F=require("diagnostics_channel").channel("fastify.initialization");F.hasSubscribers&&F.publish({fastify:y})}catch{}return y;function $(A){if(y[Jt].started)throw new Error(A)}function D(A,F){if(Wi===void 0&&(Wi=ER()),y[Jt].started){if(y[Jt].closing){let V=new Error("Server is closed");if(F){F(V);return}else return Promise.reject(V)}return Wi(p,A,F)}if(F)this.ready(V=>{V?F(V,null):Wi(p,A,F)});else return Wi((V,Z)=>{this.ready(function(ue){if(ue){Z.emit("error",ue);return}p(V,Z)})},A)}function C(A){let F,V;if(process.nextTick(Z),!A)return new Promise(function(pe,we){F=pe,V=we});function Z(){y[pl]((pe,we)=>{pe||y[Jt].started?ue(pe):v3("onReady",y[pl],y,ue),we()})}function ue(pe){if(A)pe?A(pe):A(void 0,y);else{if(pe)return V(pe);F(y)}}}function N(){throw new $3}function x(A,F){if($('Cannot call "addHook" when fastify instance is already started!'),A==="onSend"||A==="preSerialization"||A==="onError"){if(F.constructor.name==="AsyncFunction"&&F.length===4)throw new Error("Async function has too many arguments. Async hooks should not use the 'done' argument.")}else if(A==="onReady"){if(F.constructor.name==="AsyncFunction"&&F.length!==0)throw new Error("Async function has too many arguments. Async hooks should not use the 'done' argument.")}else if(A!=="preParsing"&&F.constructor.name==="AsyncFunction"&&F.length===3)throw new Error("Async function has too many arguments. Async hooks should not use the 'done' argument.");return A==="onClose"?(this[Qi].validate(A,F),this.onClose(F)):A==="onReady"?(this[Qi].validate(A,F),this[Qi].add(A,F)):this.after((Z,ue)=>{V.call(this,A,F),ue(Z)}),this;function V(Z,ue){this[Qi].add(Z,ue),this[cd].forEach(pe=>V.call(pe,Z,ue))}}function k(A){return $('Cannot call "addSchema" when fastify instance is already started!'),this[Kt].add(A),this[cd].forEach(F=>F.addSchema(A)),this}function j(A,F){if(A.code==="ECONNRESET"||F.destroyed)return;let V=JSON.stringify({error:i3.STATUS_CODES["400"],message:"Client Error",statusCode:400});this.log.trace({err:A},"client error"),F.writable&&F.bytesWritten===0&&F.write(`HTTP/1.1 400 Bad Request\r
Content-Length: ${V.length}\r
Content-Type: application/json\r
\r
${V}`),F.destroy(A)}function q(A,F){A.headers["accept-version"]!==void 0&&(A.headers["accept-version"]=void 0),m.router.lookup(A,F)}function L(A,F,V){if(f){let ue=n(F),pe=u.child({reqId:ue});pe.info({req:F},"incoming request");let we=new dd(ue,null,F,null,pe,O3),be=new vl(V,we,pe);return f(new R3(A),we,be)}let Z=`{"error":"Bad Request","message":"'${A}' is not a valid url component","statusCode":400}`;V.writeHead(400,{"Content-Type":"application/json","Content-Length":Z.length}),V.end(Z)}function Y(A,F){return $('Cannot call "setNotFoundHandler" when fastify instance is already started!'),m.setNotFoundHandler.call(this,A,F,O,v.routeHandler),this}function Q(A){return $('Cannot call "setValidatorCompiler" when fastify instance is already started!'),this[Kt].setValidatorCompiler(A),this}function H(A){return $('Cannot call "setSchemaErrorFormatter" when fastify instance is already started!'),OR(A),this[fd]=A.bind(this),this}function X(A){return $('Cannot call "setSerializerCompiler" when fastify instance is already started!'),this[Kt].setSerializerCompiler(A),this}function U(A){$('Cannot call "setSchemaController" when fastify instance is already started!');let F=this[Kt],V=RR.buildSchemaController(F,Object.assign({},F.opts,A));return this[Kt]=V,this.getSchema=V.getSchema.bind(V),this.getSchemas=V.getSchemas.bind(V),this}function B(A){return $('Cannot call "setReplySerializer" when fastify instance is already started!'),this[_R]=A,this}function J(A){return $('Cannot call "setErrorHandler" when fastify instance is already started!'),this[hd]=A.bind(this),this}function ee(A={}){return A.includeMeta=A.includeHooks?A.includeMeta?pd.concat(A.includeMeta):pd:A.includeMeta,v.printRoutes(A)}}function OR(r){if(typeof r!="function")throw new Error(`schemaErrorFormatter option should be a function, instead got ${typeof r}`);if(r.constructor.name==="AsyncFunction")throw new Error("schemaErrorFormatter option should not be an async function")}function C3(r,{rewriteUrl:e,logger:t}){return e?function(s,i){let a=s.url,o=e(s);a!==o&&(t.debug({originalUrl:a,url:o},"rewrite url"),typeof o=="string"?s.url=o:s.destroy(new Error(`Rewrite url for "${s.url}" needs to be of type "string" but received "${typeof o}"`))),r(s,i)}:r}gl.exports=md;gl.exports.fastify=md;gl.exports.default=md});var vd=b((HB,IR)=>{"use strict";IR.exports=function(e,t){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(t,s)}}});var mr=b((UB,AR)=>{"use strict";var q3=vd(),Cs=Object.prototype.toString;function gd(r){return Cs.call(r)==="[object Array]"}function yd(r){return typeof r=="undefined"}function A3(r){return r!==null&&!yd(r)&&r.constructor!==null&&!yd(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function N3(r){return Cs.call(r)==="[object ArrayBuffer]"}function x3(r){return typeof FormData!="undefined"&&r instanceof FormData}function j3(r){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&r.buffer instanceof ArrayBuffer,e}function k3(r){return typeof r=="string"}function D3(r){return typeof r=="number"}function CR(r){return r!==null&&typeof r=="object"}function yl(r){if(Cs.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function F3(r){return Cs.call(r)==="[object Date]"}function L3(r){return Cs.call(r)==="[object File]"}function M3(r){return Cs.call(r)==="[object Blob]"}function qR(r){return Cs.call(r)==="[object Function]"}function H3(r){return CR(r)&&qR(r.pipe)}function U3(r){return typeof URLSearchParams!="undefined"&&r instanceof URLSearchParams}function V3(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function z3(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function bd(r,e){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),gd(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.call(null,r[s],s,r)}function Ed(){var r={};function e(s,i){yl(r[i])&&yl(s)?r[i]=Ed(r[i],s):yl(s)?r[i]=Ed({},s):gd(s)?r[i]=s.slice():r[i]=s}for(var t=0,n=arguments.length;t<n;t++)bd(arguments[t],e);return r}function B3(r,e,t){return bd(e,function(s,i){t&&typeof s=="function"?r[i]=q3(s,t):r[i]=s}),r}function G3(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}AR.exports={isArray:gd,isArrayBuffer:N3,isBuffer:A3,isFormData:x3,isArrayBufferView:j3,isString:k3,isNumber:D3,isObject:CR,isPlainObject:yl,isUndefined:yd,isDate:F3,isFile:L3,isBlob:M3,isFunction:qR,isStream:H3,isURLSearchParams:U3,isStandardBrowserEnv:z3,forEach:bd,merge:Ed,extend:B3,trim:V3,stripBOM:G3}});var bl=b((VB,xR)=>{"use strict";var Tn=mr();function NR(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}xR.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(Tn.isURLSearchParams(t))s=t.toString();else{var i=[];Tn.forEach(t,function(c,f){c===null||typeof c=="undefined"||(Tn.isArray(c)?f=f+"[]":c=[c],Tn.forEach(c,function(h){Tn.isDate(h)?h=h.toISOString():Tn.isObject(h)&&(h=JSON.stringify(h)),i.push(NR(f)+"="+NR(h))}))}),s=i.join("&")}if(s){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}});var kR=b((zB,jR)=>{"use strict";var K3=mr();function El(){this.handlers=[]}El.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};El.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};El.prototype.forEach=function(e){K3.forEach(this.handlers,function(n){n!==null&&e(n)})};jR.exports=El});var FR=b((BB,DR)=>{"use strict";var J3=mr();DR.exports=function(e,t){J3.forEach(e,function(s,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[i])})}});var wl=b((GB,LR)=>{"use strict";LR.exports=function(e,t,n,s,i){return e.config=t,n&&(e.code=n),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}});var _l=b((KB,MR)=>{"use strict";var W3=wl();MR.exports=function(e,t,n,s,i){var a=new Error(e);return W3(a,t,n,s,i)}});var wd=b((JB,HR)=>{"use strict";var Q3=_l();HR.exports=function(e,t,n){var s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(Q3("Request failed with status code "+n.status,n.config,null,n.request,n))}});var VR=b((WB,UR)=>{"use strict";var Sl=mr();UR.exports=Sl.isStandardBrowserEnv()?function(){return{write:function(t,n,s,i,a,o){var c=[];c.push(t+"="+encodeURIComponent(n)),Sl.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),Sl.isString(i)&&c.push("path="+i),Sl.isString(a)&&c.push("domain="+a),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var BR=b((QB,zR)=>{"use strict";zR.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var KR=b((YB,GR)=>{"use strict";GR.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}});var _d=b((XB,JR)=>{"use strict";var Y3=BR(),X3=KR();JR.exports=function(e,t){return e&&!Y3(t)?X3(e,t):t}});var QR=b((ZB,WR)=>{"use strict";var Sd=mr(),Z3=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];WR.exports=function(e){var t={},n,s,i;return e&&Sd.forEach(e.split(`
`),function(o){if(i=o.indexOf(":"),n=Sd.trim(o.substr(0,i)).toLowerCase(),s=Sd.trim(o.substr(i+1)),n){if(t[n]&&Z3.indexOf(n)>=0)return;n==="set-cookie"?t[n]=(t[n]?t[n]:[]).concat([s]):t[n]=t[n]?t[n]+", "+s:s}}),t}});var ZR=b((e5,XR)=>{"use strict";var YR=mr();XR.exports=YR.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),n;function s(i){var a=i;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=s(window.location.href),function(a){var o=YR.isString(a)?s(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}()});var In=b((r5,e$)=>{"use strict";function Pd(r){this.message=r}Pd.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Pd.prototype.__CANCEL__=!0;e$.exports=Pd});var t$=b((t5,r$)=>{"use strict";var Pl=mr(),eU=wd(),rU=VR(),tU=bl(),sU=_d(),nU=QR(),iU=ZR(),Rd=_l(),aU=Cn(),oU=In();r$.exports=function(e){return new Promise(function(n,s){var i=e.data,a=e.headers,o=e.responseType,c;function f(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}Pl.isFormData(i)&&delete a["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(h+":"+d)}var l=sU(e.baseURL,e.url);u.open(e.method.toUpperCase(),tU(l,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function v(){if(!!u){var p="getAllResponseHeaders"in u?nU(u.getAllResponseHeaders()):null,g=!o||o==="text"||o==="json"?u.responseText:u.response,w={data:g,status:u.status,statusText:u.statusText,headers:p,config:e,request:u};eU(function(_){n(_),f()},function(_){s(_),f()},w),u=null}}if("onloadend"in u?u.onloadend=v:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(v)},u.onabort=function(){!u||(s(Rd("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){s(Rd("Network Error",e,null,u)),u=null},u.ontimeout=function(){var g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",w=e.transitional||aU.transitional;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),s(Rd(g,e,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},Pl.isStandardBrowserEnv()){var m=(e.withCredentials||iU(l))&&e.xsrfCookieName?rU.read(e.xsrfCookieName):void 0;m&&(a[e.xsrfHeaderName]=m)}"setRequestHeader"in u&&Pl.forEach(a,function(g,w){typeof i=="undefined"&&w.toLowerCase()==="content-type"?delete a[w]:u.setRequestHeader(w,g)}),Pl.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&o!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(p){!u||(s(!p||p&&p.type?new oU("canceled"):p),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),i||(i=null),u.send(i)})}});var n$=b((s5,s$)=>{var Yi;s$.exports=function(){if(!Yi){try{Yi=ca()("follow-redirects")}catch{}typeof Yi!="function"&&(Yi=function(){})}Yi.apply(null,arguments)}});var Cd=b((n5,Id)=>{var qs=require("url"),$d=qs.URL,lU=require("http"),uU=require("https"),i$=require("stream").Writable,cU=require("assert"),a$=n$(),As=["abort","aborted","connect","error","socket","timeout"],Od=Object.create(null);As.forEach(function(r){Od[r]=function(e,t,n){this._redirectable.emit(r,e,t,n)}});var o$=Rl("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),fU=Rl("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),hU=Rl("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),dU=Rl("ERR_STREAM_WRITE_AFTER_END","write after end");function Or(r,e){i$.call(this),this._sanitizeOptions(r),this._options=r,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var t=this;this._onNativeResponse=function(n){t._processResponse(n)},this._performRequest()}Or.prototype=Object.create(i$.prototype);Or.prototype.abort=function(){c$(this._currentRequest),this.emit("abort")};Or.prototype.write=function(r,e,t){if(this._ending)throw new dU;if(!(typeof r=="string"||typeof r=="object"&&"length"in r))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof e=="function"&&(t=e,e=null),r.length===0){t&&t();return}this._requestBodyLength+r.length<=this._options.maxBodyLength?(this._requestBodyLength+=r.length,this._requestBodyBuffers.push({data:r,encoding:e}),this._currentRequest.write(r,e,t)):(this.emit("error",new hU),this.abort())};Or.prototype.end=function(r,e,t){if(typeof r=="function"?(t=r,r=e=null):typeof e=="function"&&(t=e,e=null),!r)this._ended=this._ending=!0,this._currentRequest.end(null,null,t);else{var n=this,s=this._currentRequest;this.write(r,e,function(){n._ended=!0,s.end(null,null,t)}),this._ending=!0}};Or.prototype.setHeader=function(r,e){this._options.headers[r]=e,this._currentRequest.setHeader(r,e)};Or.prototype.removeHeader=function(r){delete this._options.headers[r],this._currentRequest.removeHeader(r)};Or.prototype.setTimeout=function(r,e){var t=this;function n(a){a.setTimeout(r),a.removeListener("timeout",a.destroy),a.addListener("timeout",a.destroy)}function s(a){t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.emit("timeout"),i()},r),n(a)}function i(){t._timeout&&(clearTimeout(t._timeout),t._timeout=null),t.removeListener("abort",i),t.removeListener("error",i),t.removeListener("response",i),e&&t.removeListener("timeout",e),t.socket||t._currentRequest.removeListener("socket",s)}return e&&this.on("timeout",e),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",n),this.on("abort",i),this.on("error",i),this.on("response",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(r){Or.prototype[r]=function(e,t){return this._currentRequest[r](e,t)}});["aborted","connection","socket"].forEach(function(r){Object.defineProperty(Or.prototype,r,{get:function(){return this._currentRequest[r]}})});Or.prototype._sanitizeOptions=function(r){if(r.headers||(r.headers={}),r.host&&(r.hostname||(r.hostname=r.host),delete r.host),!r.pathname&&r.path){var e=r.path.indexOf("?");e<0?r.pathname=r.path:(r.pathname=r.path.substring(0,e),r.search=r.path.substring(e))}};Or.prototype._performRequest=function(){var r=this._options.protocol,e=this._options.nativeProtocols[r];if(!e){this.emit("error",new TypeError("Unsupported protocol "+r));return}if(this._options.agents){var t=r.substr(0,r.length-1);this._options.agent=this._options.agents[t]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);this._currentUrl=qs.format(this._options),n._redirectable=this;for(var s=0;s<As.length;s++)n.on(As[s],Od[As[s]]);if(this._isRedirect){var i=0,a=this,o=this._requestBodyBuffers;(function c(f){if(n===a._currentRequest)if(f)a.emit("error",f);else if(i<o.length){var u=o[i++];n.finished||n.write(u.data,u.encoding,c)}else a._ended&&n.end()})()}};Or.prototype._processResponse=function(r){var e=r.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:r.headers,statusCode:e});var t=r.headers.location;if(t&&this._options.followRedirects!==!1&&e>=300&&e<400){if(c$(this._currentRequest),r.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new fU);return}((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Td(/^content-/i,this._options.headers));var n=Td(/^host$/i,this._options.headers),s=qs.parse(this._currentUrl),i=n||s.host,a=/^\w+:/.test(t)?this._currentUrl:qs.format(Object.assign(s,{host:i})),o;try{o=qs.resolve(a,t)}catch(u){this.emit("error",new o$(u));return}a$("redirecting to",o),this._isRedirect=!0;var c=qs.parse(o);if(Object.assign(this._options,c),c.host===i||mU(c.host,i)||Td(/^(?:authorization|cookie)$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var f={headers:r.headers};try{this._options.beforeRedirect.call(null,this._options,f)}catch(u){this.emit("error",u);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(u){this.emit("error",new o$(u))}}else r.responseUrl=this._currentUrl,r.redirects=this._redirects,this.emit("response",r),this._requestBodyBuffers=[]};function l$(r){var e={maxRedirects:21,maxBodyLength:10*1024*1024},t={};return Object.keys(r).forEach(function(n){var s=n+":",i=t[s]=r[n],a=e[n]=Object.create(i);function o(f,u,h){if(typeof f=="string"){var d=f;try{f=u$(new $d(d))}catch{f=qs.parse(d)}}else $d&&f instanceof $d?f=u$(f):(h=u,u=f,f={protocol:s});return typeof u=="function"&&(h=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},f,u),u.nativeProtocols=t,cU.equal(u.protocol,s,"protocol mismatch"),a$("options",u),new Or(u,h)}function c(f,u,h){var d=a.request(f,u,h);return d.end(),d}Object.defineProperties(a,{request:{value:o,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function pU(){}function u$(r){var e={protocol:r.protocol,hostname:r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,hash:r.hash,search:r.search,pathname:r.pathname,path:r.pathname+r.search,href:r.href};return r.port!==""&&(e.port=Number(r.port)),e}function Td(r,e){var t;for(var n in e)r.test(n)&&(t=e[n],delete e[n]);return t===null||typeof t=="undefined"?void 0:String(t).trim()}function Rl(r,e){function t(n){Error.captureStackTrace(this,this.constructor),n?(this.message=e+": "+n.message,this.cause=n):this.message=e}return t.prototype=new Error,t.prototype.constructor=t,t.prototype.name="Error ["+r+"]",t.prototype.code=r,t}function c$(r){for(var e=0;e<As.length;e++)r.removeListener(As[e],Od[As[e]]);r.on("error",pU),r.abort()}function mU(r,e){let t=r.length-e.length-1;return t>0&&r[t]==="."&&r.endsWith(e)}Id.exports=l$({http:lU,https:uU});Id.exports.wrap=l$});var $l=b((i5,f$)=>{f$.exports={version:"0.24.0"}});var g$=b((a5,v$)=>{"use strict";var Xi=mr(),h$=wd(),vU=_d(),gU=bl(),yU=require("http"),bU=require("https"),EU=Cd().http,wU=Cd().https,d$=require("url"),_U=require("zlib"),SU=$l().version,Ol=_l(),qd=wl(),PU=Cn(),RU=In(),p$=/https:?/;function m$(r,e,t){if(r.hostname=e.host,r.host=e.host,r.port=e.port,r.path=t,e.auth){var n=Buffer.from(e.auth.username+":"+e.auth.password,"utf8").toString("base64");r.headers["Proxy-Authorization"]="Basic "+n}r.beforeRedirect=function(i){i.headers.host=i.host,m$(i,e,i.href)}}v$.exports=function(e){return new Promise(function(n,s){var i;function a(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}var o=function(B){a(),n(B)},c=function(B){a(),s(B)},f=e.data,u=e.headers,h={};if(Object.keys(u).forEach(function(B){h[B.toLowerCase()]=B}),"user-agent"in h?u[h["user-agent"]]||delete u[h["user-agent"]]:u["User-Agent"]="axios/"+SU,f&&!Xi.isStream(f)){if(!Buffer.isBuffer(f))if(Xi.isArrayBuffer(f))f=Buffer.from(new Uint8Array(f));else if(Xi.isString(f))f=Buffer.from(f,"utf-8");else return c(Ol("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));h["content-length"]||(u["Content-Length"]=f.length)}var d=void 0;if(e.auth){var l=e.auth.username||"",v=e.auth.password||"";d=l+":"+v}var m=vU(e.baseURL,e.url),p=d$.parse(m),g=p.protocol||"http:";if(!d&&p.auth){var w=p.auth.split(":"),R=w[0]||"",_=w[1]||"";d=R+":"+_}d&&h.authorization&&delete u[h.authorization];var y=p$.test(g),O=y?e.httpsAgent:e.httpAgent,$={path:gU(p.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:u,agent:O,agents:{http:e.httpAgent,https:e.httpsAgent},auth:d};e.socketPath?$.socketPath=e.socketPath:($.hostname=p.hostname,$.port=p.port);var D=e.proxy;if(!D&&D!==!1){var C=g.slice(0,-1)+"_proxy",N=process.env[C]||process.env[C.toUpperCase()];if(N){var x=d$.parse(N),k=process.env.no_proxy||process.env.NO_PROXY,j=!0;if(k){var q=k.split(",").map(function(B){return B.trim()});j=!q.some(function(B){return B?B==="*"||B[0]==="."&&p.hostname.substr(p.hostname.length-B.length)===B?!0:p.hostname===B:!1})}if(j&&(D={host:x.hostname,port:x.port,protocol:x.protocol},x.auth)){var L=x.auth.split(":");D.auth={username:L[0],password:L[1]}}}}D&&($.headers.host=p.hostname+(p.port?":"+p.port:""),m$($,D,g+"//"+p.hostname+(p.port?":"+p.port:"")+$.path));var Y,Q=y&&(D?p$.test(D.protocol):!0);e.transport?Y=e.transport:e.maxRedirects===0?Y=Q?bU:yU:(e.maxRedirects&&($.maxRedirects=e.maxRedirects),Y=Q?wU:EU),e.maxBodyLength>-1&&($.maxBodyLength=e.maxBodyLength),e.insecureHTTPParser&&($.insecureHTTPParser=e.insecureHTTPParser);var H=Y.request($,function(B){if(!H.aborted){var J=B,ee=B.req||H;if(B.statusCode!==204&&ee.method!=="HEAD"&&e.decompress!==!1)switch(B.headers["content-encoding"]){case"gzip":case"compress":case"deflate":J=J.pipe(_U.createUnzip()),delete B.headers["content-encoding"];break}var A={status:B.statusCode,statusText:B.statusMessage,headers:B.headers,config:e,request:ee};if(e.responseType==="stream")A.data=J,h$(o,c,A);else{var F=[],V=0;J.on("data",function(ue){F.push(ue),V+=ue.length,e.maxContentLength>-1&&V>e.maxContentLength&&(J.destroy(),c(Ol("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,ee)))}),J.on("error",function(ue){H.aborted||c(qd(ue,e,null,ee))}),J.on("end",function(){var ue=Buffer.concat(F);e.responseType!=="arraybuffer"&&(ue=ue.toString(e.responseEncoding),(!e.responseEncoding||e.responseEncoding==="utf8")&&(ue=Xi.stripBOM(ue))),A.data=ue,h$(o,c,A)})}}});if(H.on("error",function(B){H.aborted&&B.code!=="ERR_FR_TOO_MANY_REDIRECTS"||c(qd(B,e,null,H))}),e.timeout){var X=parseInt(e.timeout,10);if(isNaN(X)){c(Ol("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",H));return}H.setTimeout(X,function(){H.abort();var B=e.transitional||PU.transitional;c(Ol("timeout of "+X+"ms exceeded",e,B.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",H))})}(e.cancelToken||e.signal)&&(i=function(U){H.aborted||(H.abort(),c(!U||U&&U.type?new RU("canceled"):U))},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i))),Xi.isStream(f)?f.on("error",function(B){c(qd(B,e,null,H))}).pipe(H):H.end(f)})}});var Cn=b((o5,E$)=>{"use strict";var tr=mr(),y$=FR(),$U=wl(),OU={"Content-Type":"application/x-www-form-urlencoded"};function b$(r,e){!tr.isUndefined(r)&&tr.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function TU(){var r;return typeof XMLHttpRequest!="undefined"?r=t$():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(r=g$()),r}function IU(r,e,t){if(tr.isString(r))try{return(e||JSON.parse)(r),tr.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var Tl={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:TU(),transformRequest:[function(e,t){return y$(t,"Accept"),y$(t,"Content-Type"),tr.isFormData(e)||tr.isArrayBuffer(e)||tr.isBuffer(e)||tr.isStream(e)||tr.isFile(e)||tr.isBlob(e)?e:tr.isArrayBufferView(e)?e.buffer:tr.isURLSearchParams(e)?(b$(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):tr.isObject(e)||t&&t["Content-Type"]==="application/json"?(b$(t,"application/json"),IU(e)):e}],transformResponse:[function(e){var t=this.transitional||Tl.transitional,n=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,i=!n&&this.responseType==="json";if(i||s&&tr.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?$U(a,this,"E_JSON_PARSE"):a}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};tr.forEach(["delete","get","head"],function(e){Tl.headers[e]={}});tr.forEach(["post","put","patch"],function(e){Tl.headers[e]=tr.merge(OU)});E$.exports=Tl});var _$=b((l5,w$)=>{"use strict";var CU=mr(),qU=Cn();w$.exports=function(e,t,n){var s=this||qU;return CU.forEach(n,function(a){e=a.call(s,e,t)}),e}});var Ad=b((u5,S$)=>{"use strict";S$.exports=function(e){return!!(e&&e.__CANCEL__)}});var $$=b((c5,R$)=>{"use strict";var P$=mr(),Nd=_$(),AU=Ad(),NU=Cn(),xU=In();function xd(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new xU("canceled")}R$.exports=function(e){xd(e),e.headers=e.headers||{},e.data=Nd.call(e,e.data,e.headers,e.transformRequest),e.headers=P$.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),P$.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var t=e.adapter||NU.adapter;return t(e).then(function(s){return xd(e),s.data=Nd.call(e,s.data,s.headers,e.transformResponse),s},function(s){return AU(s)||(xd(e),s&&s.response&&(s.response.data=Nd.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})}});var jd=b((f5,O$)=>{"use strict";var Tr=mr();O$.exports=function(e,t){t=t||{};var n={};function s(u,h){return Tr.isPlainObject(u)&&Tr.isPlainObject(h)?Tr.merge(u,h):Tr.isPlainObject(h)?Tr.merge({},h):Tr.isArray(h)?h.slice():h}function i(u){if(Tr.isUndefined(t[u])){if(!Tr.isUndefined(e[u]))return s(void 0,e[u])}else return s(e[u],t[u])}function a(u){if(!Tr.isUndefined(t[u]))return s(void 0,t[u])}function o(u){if(Tr.isUndefined(t[u])){if(!Tr.isUndefined(e[u]))return s(void 0,e[u])}else return s(void 0,t[u])}function c(u){if(u in t)return s(e[u],t[u]);if(u in e)return s(void 0,e[u])}var f={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c};return Tr.forEach(Object.keys(e).concat(Object.keys(t)),function(h){var d=f[h]||i,l=d(h);Tr.isUndefined(l)&&d!==c||(n[h]=l)}),n}});var C$=b((h5,I$)=>{"use strict";var jU=$l().version,kd={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){kd[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var T$={};kd.transitional=function(e,t,n){function s(i,a){return"[Axios v"+jU+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return function(i,a,o){if(e===!1)throw new Error(s(a," has been removed"+(t?" in "+t:"")));return t&&!T$[a]&&(T$[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,a,o):!0}};function kU(r,e,t){if(typeof r!="object")throw new TypeError("options must be an object");for(var n=Object.keys(r),s=n.length;s-- >0;){var i=n[s],a=e[i];if(a){var o=r[i],c=o===void 0||a(o,i,r);if(c!==!0)throw new TypeError("option "+i+" must be "+c);continue}if(t!==!0)throw Error("Unknown option "+i)}}I$.exports={assertOptions:kU,validators:kd}});var k$=b((d5,j$)=>{"use strict";var q$=mr(),DU=bl(),A$=kR(),N$=$$(),Il=jd(),x$=C$(),qn=x$.validators;function Zi(r){this.defaults=r,this.interceptors={request:new A$,response:new A$}}Zi.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Il(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;t!==void 0&&x$.assertOptions(t,{silentJSONParsing:qn.transitional(qn.boolean),forcedJSONParsing:qn.transitional(qn.boolean),clarifyTimeoutError:qn.transitional(qn.boolean)},!1);var n=[],s=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(e)===!1||(s=s&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var i=[];this.interceptors.response.forEach(function(d){i.push(d.fulfilled,d.rejected)});var a;if(!s){var o=[N$,void 0];for(Array.prototype.unshift.apply(o,n),o=o.concat(i),a=Promise.resolve(e);o.length;)a=a.then(o.shift(),o.shift());return a}for(var c=e;n.length;){var f=n.shift(),u=n.shift();try{c=f(c)}catch(h){u(h);break}}try{a=N$(c)}catch(h){return Promise.reject(h)}for(;i.length;)a=a.then(i.shift(),i.shift());return a};Zi.prototype.getUri=function(e){return e=Il(this.defaults,e),DU(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};q$.forEach(["delete","get","head","options"],function(e){Zi.prototype[e]=function(t,n){return this.request(Il(n||{},{method:e,url:t,data:(n||{}).data}))}});q$.forEach(["post","put","patch"],function(e){Zi.prototype[e]=function(t,n,s){return this.request(Il(s||{},{method:e,url:t,data:n}))}});j$.exports=Zi});var F$=b((p5,D$)=>{"use strict";var FU=In();function An(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(s){e=s});var t=this;this.promise.then(function(n){if(!!t._listeners){var s,i=t._listeners.length;for(s=0;s<i;s++)t._listeners[s](n);t._listeners=null}}),this.promise.then=function(n){var s,i=new Promise(function(a){t.subscribe(a),s=a}).then(n);return i.cancel=function(){t.unsubscribe(s)},i},r(function(s){t.reason||(t.reason=new FU(s),e(t.reason))})}An.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};An.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};An.prototype.unsubscribe=function(e){if(!!this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};An.source=function(){var e,t=new An(function(s){e=s});return{token:t,cancel:e}};D$.exports=An});var M$=b((m5,L$)=>{"use strict";L$.exports=function(e){return function(n){return e.apply(null,n)}}});var U$=b((v5,H$)=>{"use strict";H$.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var B$=b((g5,Dd)=>{"use strict";var V$=mr(),LU=vd(),Cl=k$(),MU=jd(),HU=Cn();function z$(r){var e=new Cl(r),t=LU(Cl.prototype.request,e);return V$.extend(t,Cl.prototype,e),V$.extend(t,e),t.create=function(s){return z$(MU(r,s))},t}var vt=z$(HU);vt.Axios=Cl;vt.Cancel=In();vt.CancelToken=F$();vt.isCancel=Ad();vt.VERSION=$l().version;vt.all=function(e){return Promise.all(e)};vt.spread=M$();vt.isAxiosError=U$();Dd.exports=vt;Dd.exports.default=vt});var K$=b((y5,G$)=>{G$.exports=B$()});_1(exports,{default:()=>GU});var J$=Yd(TR()),W$=Yd(K$()),UU=`Bearer ${process.env.HOOKS_TOKEN}`,Q$=async(r,e)=>{let t="http://localhost:9991/internal/api/main/operations/"+r;return(await W$.default.post(t,JSON.stringify(e||{}),{headers:{"Content-Type":"application/json",Authorization:UU}})).data},VU={queries:{Dragons:async()=>Q$("Dragons"),Missions:async r=>Q$("Missions",r)}},Y$=r=>zU(r(VU)),zU=r=>{let t={config:{queries:r.queries,mutations:r.mutations,authentication:r.authentication},start(){let n=(0,J$.default)({logger:!0});n.addHook("preHandler",async(s,i)=>{s.setClientRequestHeaders={},s.ctx={user:s.body.user,setClientRequestHeader:(a,o)=>s.setClientRequestHeaders[a]=o}}),n.post("/authentication/postAuthentication",async(s,i)=>{if(i.type("application/json").code(200),r.authentication?.postAuthentication!==void 0&&s.ctx.user!==void 0)try{await r.authentication.postAuthentication(s.ctx.user)}catch(a){return s.log.error(a),i.code(500),{hook:"postAuthentication",error:a}}return{hook:"postAuthentication"}}),n.post("/authentication/mutatingPostAuthentication",async(s,i)=>{if(i.type("application/json").code(200),r.authentication?.mutatingPostAuthentication!==void 0&&s.ctx.user!==void 0)try{let a=await r.authentication.mutatingPostAuthentication(s.ctx.user);return{hook:"mutatingPostAuthentication",response:a,setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{hook:"mutatingPostAuthentication",error:a}}}),n.post("/authentication/revalidateAuthentication",async(s,i)=>{if(i.type("application/json").code(200),r.authentication?.revalidate!==void 0&&s.ctx.user!==void 0)try{let a=await r.authentication.revalidate(s.ctx.user);return{hook:"revalidateAuthentication",response:a,setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{hook:"revalidateAuthentication",error:a}}}),n.post("/operation/Dragons/mockResolve",async(s,i)=>{i.type("application/json").code(200);try{let a=await r?.queries?.Dragons?.mockResolve?.(s.ctx);return{op:"Dragons",hook:"mock",response:a,setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{op:"Dragons",hook:"mock",error:a}}}),n.post("/operation/Dragons/preResolve",async(s,i)=>{i.type("application/json").code(200);try{return await r?.queries?.Dragons?.preResolve?.(s.ctx),{op:"Dragons",hook:"preResolve",setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{op:"Dragons",hook:"preResolve",error:a}}}),n.post("/operation/Dragons/postResolve",async(s,i)=>{i.type("application/json").code(200);try{return await r?.queries?.Dragons?.postResolve?.(s.ctx,s.body.response),{op:"Dragons",hook:"postResolve",setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{op:"Dragons",hook:"postResolve",error:a}}}),n.post("/operation/Dragons/mutatingPostResolve",async(s,i)=>{i.type("application/json").code(200);try{let a=await r?.queries?.Dragons?.mutatingPostResolve?.(s.ctx,s.body.response);return{op:"Dragons",hook:"mutatingPostResolve",response:a,setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{op:"Dragons",hook:"mutatingPostResolve",error:a}}}),n.post("/operation/Missions/mockResolve",async(s,i)=>{i.type("application/json").code(200);try{let a=await r?.queries?.Missions?.mockResolve?.(s.ctx,s.body.input);return{op:"Missions",hook:"mock",response:a,setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{op:"Missions",hook:"mock",error:a}}}),n.post("/operation/Missions/preResolve",async(s,i)=>{i.type("application/json").code(200);try{return await r?.queries?.Missions?.preResolve?.(s.ctx,s.body.input),{op:"Missions",hook:"preResolve",setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{op:"Missions",hook:"preResolve",error:a}}}),n.post("/operation/Missions/postResolve",async(s,i)=>{i.type("application/json").code(200);try{return await r?.queries?.Missions?.postResolve?.(s.ctx,s.body.input,s.body.response),{op:"Missions",hook:"postResolve",setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{op:"Missions",hook:"postResolve",error:a}}}),n.post("/operation/Missions/mutatingPreResolve",async(s,i)=>{i.type("application/json").code(200);try{let a=await r?.queries?.Missions?.mutatingPreResolve?.(s.ctx,s.body.input);return{op:"Missions",hook:"mutatingPreResolve",input:a,setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{op:"Missions",hook:"mutatingPreResolve",error:a}}}),n.post("/operation/Missions/mutatingPostResolve",async(s,i)=>{i.type("application/json").code(200);try{let a=await r?.queries?.Missions?.mutatingPostResolve?.(s.ctx,s.body.input,s.body.response);return{op:"Missions",hook:"mutatingPostResolve",response:a,setClientRequestHeaders:s.setClientRequestHeaders}}catch(a){return s.log.error(a),i.code(500),{op:"Missions",hook:"mutatingPostResolve",error:a}}}),n.listen(9992,(s,i)=>{s&&(console.error(s),process.exit(0)),console.log(`hooks server listening at ${i}`)})}};return process.env.START_HOOKS_SERVER==="true"&&t.start(),t};var BU=Y$(r=>({queries:{},mutations:{}})),GU=BU;0&&(module.exports={});
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
/*!
 * forwarded
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */
/*!
 * proxy-addr
 * Copyright(c) 2014-2016 Douglas Christopher Wilson
 * MIT Licensed
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
